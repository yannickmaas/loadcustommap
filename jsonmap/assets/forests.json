{
  "version": 8,
  "name": "Forests",
  "metadata": {
    "tomtom:theme": {
      "definition": {
        "variables": {
          "_namespace_vars": {
            "land": "hsl(45, 4%, 96%)",
            "water": "{{darkenBy (multiply water-sign water-add) (darken water-factor land)}}",
            "vegetation": "{{darken 0.05 (darkenBy 2 land)}}",
            "park": "{{saturateBy 5 (lightenBy 1 (lighten 0.03 vegetation))}}",
            "artificial": "{{darkenBy (multiply artificial-sign artificial-add) (lighten artificial-factor land)}}",
            "road-major": "{{road}}",
            "road": "{{lightenBy (multiply road-sign road-add) (lighten road-factor land)}}",
            "road-outline": "{{darkenBy (multiply road-sign road-outline-add) road}}",
            "label": "{{desaturate 0.3 (darkenBy (multiply label-sign label-add) (lighten label-factor land))}}",
            "label-outline": "{{desaturate 0.7 (darkenBy (multiply label-outline-sign label-outline-add) (lighten label-outline-factor label))}}",
            "toggle-true": true,
            "toggle-false": false,
            "base-lum": "{{round (luminance land) 2}}",
            "log-base-lum": "{{log 'Base Luminance' base-lum}}",
            "base-sign": "{{#if (more base-lum 0.5)}}1{{else}}-1{{/if}}",
            "base-sat-factor": "{{minus base-lum (divide (getS land) 100)}}",
            "log-base-sat-factor": "{{log 'Saturation factor' base-sat-factor}}",
            "base-factor": "{{#if (more base-lum 0.5)}}{{divide base-lum 10}}{{else}}0.05{{/if}}",
            "vegetation-lum": "{{#if vegetation}}{{round (luminance vegetation) 2}}{{else}}{{round (luminance land) 2}}{{/if}}",
            "log-veg-lum": "{{log 'Vegetation Luminance' vegetation-lum}}",
            "vegetation-derived": "{{#if vegetation}}{{vegetation}}{{else}}{{darken 0.05 (darkenBy 2 land)}}{{/if}}",
            "vegetation-derived-log": "{{log 'vegetation parameter' vegetation-derived}}",
            "park-lum": "{{#if park}}{{round (luminance park) 2}}{{else}}{{round (luminance land) 2}}{{/if}}",
            "park-sign": "{{#if (more park-lum 0.1)}}1{{else}}-1{{/if}}",
            "park-derived": "{{#if park}}{{park}}{{else}}{{darken 0.03 (darkenBy 1 land)}}{{/if}}",
            "park-derived-log": "{{log 'park parameter' park-derived}}",
            "water-sign": "{{#if (more base-lum 0.01)}}1{{else}}-1{{/if}}",
            "log-water-sign": "{{log 'Water parameter sign' water-sign}}",
            "water-factor": "{{max (divide base-lum 20) 0.05}}",
            "water-add": "10",
            "water-derived": "{{#if water}}{{water}}{{else}}{{darkenBy (multiply water-sign water-add) (darken water-factor land)}}{{/if}}",
            "water-derived-log": "{{log 'water parameter' water-derived}}",
            "water-lum": "{{round (luminance water-derived) 2}}",
            "log-water-lum": "{{log 'Water Luminance' water-lum}}",
            "water-contrast-sign": "{{#if (more water-lum 0.2)}}1{{else}}-1{{/if}}",
            "artificial-lum": "{{#if artificial}}{{round (luminance artificial) 2}}{{else}}{{round (luminance land) 2}}{{/if}}",
            "artificial-sign": "{{#if (more artificial-lum 0.05)}}1{{else}}-1{{/if}}",
            "artificial-factor": "{{max (divide artificial-lum 15) 0.02}}",
            "artificial-add": "4",
            "artificial-derived": "{{#if artificial}}{{artificial}}{{else}}{{darkenBy (multiply artificial-sign artificial-add) (lighten artificial-factor land)}}{{/if}}",
            "artificial-derived-log": "{{log 'artificial color' artificial-derived}}",
            "label-sign": "{{#if (more base-lum 0.3)}}1{{else}}-1{{/if}}",
            "log-label-sign": "{{log 'Label parameter sign' label-sign}}",
            "label-factor": "{{max (divide base-lum 5) 0.1}}",
            "log-label-factor": "{{log 'labels parameter factor' label-factor}}",
            "label-add": "60",
            "label-outline-sign": "{{#if (more label-lum 0.4)}}1{{else}}-1{{/if}}",
            "label-outline-factor": "{{max (divide label-lum 5) 0.1}}",
            "label-outline-add": "75",
            "label-derived": "{{#if label}}{{label}}{{else}}{{desaturate 0.3 (darkenBy (multiply label-sign label-add) (lighten label-factor land))}}{{/if}}",
            "label-outline-derived": "{{#if label-outline}}{{label-outline}}{{else}}{{lightenBy (multiply label-sign label-outline-add) land}}{{/if}}",
            "label-lum": "{{round (luminance label-derived) 2}}",
            "log-label-lum": "{{log 'Label Luminance' label-lum}}",
            "road-sign": "{{#if (more base-lum 0.95)}}-1{{else}}1{{/if}}",
            "log-road-sign": "{{log 'road parameter sign' road-sign}}",
            "road-factor": "{{max (divide base-lum 5) 0.1}}",
            "log-road-factor": "{{log 'road parameter factor' road-factor}}",
            "road-add": "15",
            "road-outline-add": "20",
            "road-derived": "{{#if road}}{{road}}{{else}}{{lightenBy (multiply road-sign road-add) (lighten road-factor land)}}{{/if}}",
            "road-outline-derived": "{{#if road-outline}}{{road-outline}}{{else}}{{darkenBy (multiply road-sign road-outline-add) road-derived}}{{/if}}",
            "road-major-derived": "{{#if road-major}}{{road-major}}{{else}}{{road-derived}}{{/if}}",
            "lu-saturation-factor": "{{max 0.33 artificial-lum}}",
            "white": "{{hsl 0 0 100}}",
            "black": "{{hsl 0 0 0}}",
            "color": "{{hsl 0 50 50}}",
            "transparent": "{{alpha 0 white}}",
            "poi-industry-color-500": "{{hsl 236 18 64}}",
            "poi-education-color-500": "{{hsl 34 18 69}}",
            "poi-public-color-500": "{{hsl 326 13 61}}",
            "poi-sport-color-500": "{{hsl 166 70 41}}",
            "poi-commercial-color-500": "{{hsl 291 50 63}}",
            "poi-health-color-500": "{{hsl 5 74 63}}",
            "poi-entertainment-color-500": "{{hsl 323 77 69}}",
            "poi-accomodation-color-500": "{{hsl 246 53 69}}",
            "poi-car-color-500": "{{hsl 207 63 48}}",
            "poi-parking-color-500": "{{hsl 203 100 58}}",
            "poi-ev-color-500": "{{hsl 152 91 36}}",
            "poi-food-color-500": "{{hsl 25 86 59}}",
            "poi-generic-color-500": "{{hsl 210 1 60}}",
            "loi-transport-color": "{{poi-car-color-500}}",
            "loi-driving-color": "{{poi-car-color-500}}",
            "loi-business-color": "{{poi-industry-color-500}}",
            "loi-shopping-color": "{{#if (more base-lum 0.5)}}{{rotateBy 15 poi-food-color-500}}{{else}}{{poi-commercial-color-500}}{{/if}}",
            "loi-education-color": "{{poi-education-color-500}}",
            "loi-healthcare-color": "{{poi-health-color-500}}",
            "loi-leisure-color": "{{poi-entertainment-color-500}}",
            "loi-lodging-color": "{{poi-accomodation-color-500}}",
            "loi-public-color": "{{poi-public-color-500}}",
            "loi-religion-color": "{{poi-public-color-500}}",
            "loi-military-color": "{{poi-public-color-500}}",
            "loi-parking-color": "{{poi-parking-color-500}}",
            "loi-log": "{{log 'loi computed'}}",
            "traffic_flow": true,
            "traffic_incidents": true,
            "sprites-flavor": "Default",
            "sprites-monochrome-flag": "{{#if (equal sprites-flavor 'Monochrome')}}{{toggle-true}}{{else}}{{toggle-false}}{{/if}}",
            "sprites-satellite-flag": "{{#if (equal sprites-flavor 'Satellite')}}{{toggle-true}}{{else}}{{toggle-false}}{{/if}}",
            "map-style": "{{#if (equal sprites-monochrome-flag 'true')}}mono{{else}}street{{/if}}",
            "map-flavor": "{{#if (more base-lum 0.3)}}basic_{{{map-style}}}-light{{else}}basic_{{{map-style}}}-dark{{/if}}",
            "map-sprite": "{{#if (equal sprites-satellite-flag 'true')}}basic_street-satellite{{else}}{{map-flavor}}{{/if}}",
            "traffic-flow-flavor": "{{#if (more base-lum 0.3)}}flow_relative-light{{else}}flow_relative-dark{{/if}}",
            "traffic-incidents-flavor": "{{#if (more base-lum 0.3)}}incidents_light{{else}}incidents_dark{{/if}}",
            "main-sprite": "map={{map-sprite}}",
            "traffic-flow-sprite": "{{#if (equal traffic_flow true)}}&trafficFlow={{traffic-flow-flavor}}{{/if}}",
            "traffic-incidents-sprite": "{{#if (equal traffic_incidents true)}}&trafficIncidents={{traffic-incidents-flavor}}{{/if}}",
            "sprite-suffix": "{{{main-sprite}}}{{{traffic-flow-sprite}}}{{{traffic-incidents-sprite}}}",
            "main-sprite-genesis": "map=2/{{map-sprite}}",
            "poi-extended-style-genesis": "{{#if (equal sprites-monochrome-flag 'true')}}mono-{{else}}{{/if}}",
            "poi-extended-sprite-genesis": "{{#if (more label-lum 0.4)}}&poi=2/poi_{{poi-extended-style-genesis}}dark{{else}}&poi=2/poi_{{poi-extended-style-genesis}}light{{/if}}",
            "traffic-flow-sprite-genesis": "{{#if (equal traffic_flow true)}}&traffic_flow=2/{{traffic-flow-flavor}}{{/if}}",
            "traffic-incidents-sprite-genesis": "{{#if (equal traffic_incidents true)}}&traffic_incidents=2/{{traffic-incidents-flavor}}{{/if}}",
            "sprite-suffix-genesis": "{{{main-sprite-genesis}}}{{{poi-extended-sprite-genesis}}}{{{traffic-flow-sprite-genesis}}}{{{traffic-incidents-sprite-genesis}}}",
            "symbol-size-factor": 1,
            "text-font-array-flag": false,
            "text-font-regular": "{{#if (equal text-font-array-flag true)}}Noto-Regular\",\"NotoSans-Condensed\",\"NotoSansThaiMerged-Condensed\",\"NotoSansMyanmarMerged-Condensed\",\"NotoSansLaoMerged-Condensed\",\"NotoSansKhmerMerged-Condensed\",\"NotoSansTC-Regular\",\"NotoSansSC-Regular\",\"NotoSansJP-Regular\",\"NotoSansKR-Regular\",\"NotoSansHebrewMerged-Condensed\",\"NotoSansArmenianMerged-Condensed\",\"NotoSansGeorgianMerged-Condensed\",\"NotoSansArabicMerged-Condensed{{else}}Noto-Regular{{/if}}",
            "text-font-medium": "{{#if (equal text-font-array-flag true)}}Noto-Medium\",\"NotoSans-CondensedMedium\",\"NotoSansThaiMerged-CondensedMedium\",\"NotoSansMyanmarMerged-CondensedMedium\",\"NotoSansLaoMerged-CondensedMedium\",\"NotoSansKhmerMerged-CondensedMedium\",\"NotoSansTC-Regular\",\"NotoSansSC-Regular\",\"NotoSansJP-Regular\",\"NotoSansKR-Regular\",\"NotoSansHebrewMerged-CondensedMedium\",\"NotoSansArmenianMerged-CondensedMedium\",\"NotoSansGeorgianMerged-CondensedMedium\",\"NotoSansArabicMerged-CondensedMedium{{else}}Noto-Medium{{/if}}",
            "text-font-bold": "{{#if (equal text-font-array-flag true)}}Noto-Bold\",\"NotoSans-CondensedBold\",\"NotoSansThaiMerged-CondensedBold\",\"NotoSansMyanmarMerged-CondensedBold\",\"NotoSansLaoMerged-CondensedBold\",\"NotoSansKhmerMerged-CondensedBold\",\"NotoSansTC-Regular\",\"NotoSansSC-Regular\",\"NotoSansJP-Regular\",\"NotoSansKR-Regular\",\"NotoSansHebrewMerged-CondensedBold\",\"NotoSansArmenianMerged-CondensedBold\",\"NotoSansGeorgianMerged-CondensedBold\",\"NotoSansArabicMerged-CondensedBold{{else}}Noto-Bold{{/if}}",
            "text-font-italic-medium": "{{#if (equal text-font-array-flag true)}}NotoSans-MediumItalic\",\"NotoSans-CondensedMedium\",\"NotoSansThaiMerged-CondensedMedium\",\"NotoSansMyanmarMerged-CondensedMedium\",\"NotoSansLaoMerged-CondensedMedium\",\"NotoSansKhmerMerged-CondensedMedium\",\"NotoSansTC-Regular\",\"NotoSansSC-Regular\",\"NotoSansJP-Regular\",\"NotoSansKR-Regular\",\"NotoSansHebrewMerged-CondensedMedium\",\"NotoSansArmenianMerged-CondensedMedium\",\"NotoSansGeorgianMerged-CondensedMedium\",\"NotoSansArabicMerged-CondensedMedium{{else}}NotoSans-MediumItalic{{/if}}",
            "pmd-flag": false,
            "pmd-material-flavor": "{{#if (more base-lum 0.3)}}Light{{else}}Dark{{/if}}",
            "pmd-material-showcase": false,
            "pmd-material-path": "TomTom/Materials/",
            "land_nature-background-material": "{{pmd-material-path}}BackgroundGridMaterial_{{pmd-material-flavor}}",
            "land_nature-land_cover-material": "{{pmd-material-path}}SM Vegetation",
            "water-waterbodies-fill-material": "{{pmd-material-path}}Water_Sample_Material",
            "buildings-extrusions-material": "{{pmd-material-path}}{{#if (equal pmd-material-showcase toggle-false)}}DefaultBuildings_{{pmd-material-flavor}}{{else}}DefaultBuildingsSample_{{pmd-material-flavor}}{{/if}}",
            "buildings-landmarks-material": "{{pmd-material-path}}{{#if (equal pmd-material-showcase toggle-false)}}Landmark_Material_{{pmd-material-flavor}}{{else}}Landmark_Material_{{pmd-material-flavor}}_Showcase{{/if}}",
            "landuse-built_up_area-material": "{{pmd-material-path}}SM Built-up Area",
            "roads-material": "{{pmd-material-path}}SM Road",
            "roads-anti_occlusion-material": "{{pmd-material-path}}Route Tube Anti Occlusion Material",
            "traffic-anti_occlusion-material": "{{pmd-material-path}}Route Tube Anti Occlusion Material"
          }
        },
        "modules": {
          "land_nature": {
            "groups": {
              "background": {
                "layers": [
                  {
                    "id": "background",
                    "type": "background",
                    "metadata": {
                      "group": "background",
                      "background-pole-cap": true,
                      "tomtom:material": "{{land_nature-background-material}}"
                    },
                    "paint": {
                      "background-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        "{{background-color-s}}",
                        13,
                        "{{background-color-l}}"
                      ]
                    },
                    "layout": {
                      "visibility": "{{land_nature-background-visibility}}"
                    }
                  }
                ]
              },
              "earth_cover": {
                "layers": [
                  {
                    "id": "LULC - Earth Cover",
                    "type": "fill",
                    "metadata": {"group": "area", "south-pole": true},
                    "source": "vectorTiles",
                    "source-layer": "earth_cover",
                    "maxzoom": "//{{land_nature-earth_cover-zoom-max}}//",
                    "paint": {
                      "fill-antialias": false,
                      "fill-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        [
                          "match",
                          ["get", "category"],
                          "ice_and_snow",
                          "{{ec-ice-color-s}}",
                          "woody",
                          "{{ec-woody-color-s}}",
                          "herbaceous",
                          "{{ec-herbaceous-color-s}}",
                          "cropland",
                          "{{ec-cropland-color-s}}",
                          "sand",
                          "{{ec-sand-color-s}}",
                          "{{transparent}}"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          "ice_and_snow",
                          "{{ec-ice-color-l}}",
                          "woody",
                          "{{ec-vegetation-color-l}}",
                          "herbaceous",
                          "{{ec-vegetation-color-l}}",
                          "cropland",
                          "{{ec-vegetation-color-l}}",
                          "sand",
                          "{{ec-sand-color-l}}",
                          "{{transparent}}"
                        ]
                      ]
                    },
                    "layout": {
                      "visibility": "{{land_nature-earth_cover-visibility}}"
                    }
                  }
                ]
              },
              "land_cover": {
                "layers": [
                  {
                    "id": "LULC - Landcover",
                    "type": "fill",
                    "metadata": {
                      "group": "area",
                      "tomtom:material": "{{land_nature-land_cover-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "land_cover",
                    "minzoom": "//{{land_nature-land_cover-zoom-min}}//",
                    "layout": {
                      "visibility": "{{land_nature-land_cover-visibility}}",
                      "fill-sort-key": [
                        "+",
                        ["get", "display_class"],
                        [
                          "match",
                          ["get", "category"],
                          "woodland",
                          0.5,
                          "grassland",
                          0.4,
                          "shrubland",
                          0.3,
                          "agricultural",
                          0.2,
                          "sandy",
                          0.1,
                          0
                        ]
                      ]
                    },
                    "paint": {
                      "fill-color": [
                        "match",
                        ["get", "category"],
                        "woodland",
                        "{{lc-woodland-color}}",
                        "grassland",
                        "{{lc-grassland-color}}",
                        "shrubland",
                        "{{lc-shrubland-color}}",
                        "agricultural",
                        "{{lc-agricultural-color}}",
                        "sandy",
                        "{{lc-sand-color}}",
                        "bareland",
                        "{{lc-bareland-color}}",
                        "{{transparent}}"
                      ],
                      "fill-outline-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        "{{transparent}}",
                        16,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["managed"],
                          "{{lc-managed-outline-color}}",
                          "{{transparent}}"
                        ]
                      ],
                      "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{land_nature-land_cover-zoom-min}}//",
                        0,
                        "//{{max 13 (add 1 land_nature-land_cover-zoom-min)}}//",
                        ["match", ["get", "subcategory"], "managed", 0, 1],
                        "//{{max 16 (add 2 land_nature-land_cover-zoom-min)}}//",
                        1
                      ],
                      "fill-antialias": true
                    }
                  }
                ]
              },
              "labels": {
                "layers": [
                  {
                    "id": "NatureLabels - Elevation Point",
                    "type": "symbol",
                    "metadata": {"group": "label"},
                    "source": "vectorTiles",
                    "source-layer": "carto_labels",
                    "minzoom": "//{{max land_nature-labels-zoom-min land_nature-labels-elevation_point-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["elevation_point"],
                        true,
                        false
                      ],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["peak", "volcano", "hill"],
                        true,
                        false
                      ],
                      [
                        "step",
                        ["zoom"],
                        [
                          "all",
                          ["==", ["has", "elevation"], true],
                          [">=", ["get", "elevation"], 1500]
                        ],
                        15,
                        [
                          "any",
                          ["==", ["has", "elevation"], false],
                          [">=", ["get", "elevation"], 300]
                        ]
                      ]
                    ],
                    "layout": {
                      "symbol-placement": "point",
                      "symbol-sort-key": ["get", "display_class"],
                      "icon-image": [
                        "match",
                        ["get", "subcategory"],
                        ["volcano"],
                        "land_nature-icon-volcano02",
                        ["peak"],
                        [
                          "case",
                          ["==", ["has", "elevation"], false],
                          "land_nature-icon-peak",
                          [">=", ["get", "elevation"], 1500],
                          "land_nature-icon-peak01",
                          "land_nature-icon-peak"
                        ],
                        ["hill"],
                        "land_nature-icon-hill",
                        "land_nature-icon-generic"
                      ],
                      "icon-size": "//{{multiply symbol-size-factor (multiply land_nature-size-factor 1)}}//",
                      "text-anchor": "top",
                      "text-field": [
                        "format",
                        ["get", "name"],
                        {"font-scale": 1},
                        "\n",
                        {},
                        [
                          "case",
                          ["has", "elevation"],
                          ["concat", ["get", "elevation"], "m"],
                          " "
                        ],
                        {"font-scale": 0.75}
                      ],
                      "text-font": ["{{{text-font-italic-medium}}}"],
                      "text-letter-spacing": 0.25,
                      "text-max-width": 8,
                      "text-padding": 5,
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        "//{{multiply symbol-size-factor (multiply land_nature-size-factor 8)}}//",
                        16,
                        "//{{multiply symbol-size-factor (multiply land_nature-size-factor 12)}}//"
                      ],
                      "text-offset": [0, 1],
                      "visibility": "{{land_nature-labels-visibility}}"
                    },
                    "paint": {
                      "text-color": "{{elevation_point-text-color}}",
                      "text-halo-color": "{{elevation_point-halo-color}}",
                      "text-halo-width": 1.4
                    }
                  },
                  {
                    "id": "NatureLabels - Physiography",
                    "type": "symbol",
                    "metadata": {"group": "label"},
                    "source": "vectorTiles",
                    "source-layer": "carto_labels",
                    "minzoom": "//{{land_nature-labels-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        [
                          "island",
                          "woodland",
                          "grassland",
                          "natural_feature",
                          "sandy"
                        ],
                        true,
                        false
                      ],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      [
                        "step",
                        ["zoom"],
                        [
                          "any",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["island"],
                            true,
                            false
                          ],
                          [
                            "all",
                            ["==", ["get", "subcategory"], "archipelago"],
                            ["!=", ["get", "display_class"], 7]
                          ]
                        ],
                        9,
                        [
                          "any",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["plain"],
                            true,
                            false
                          ],
                          [
                            "all",
                            ["==", ["get", "subcategory"], "archipelago"],
                            [">=", ["get", "display_class"], 7]
                          ],
                          [
                            "all",
                            ["==", ["get", "subcategory"], "island"],
                            ["!=", ["get", "display_class"], 9]
                          ]
                        ],
                        11,
                        [
                          "any",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["plain", "island"],
                            true,
                            false
                          ],
                          [
                            "all",
                            ["==", ["get", "subcategory"], "islet"],
                            ["!=", ["get", "display_class"], 11]
                          ]
                        ],
                        13,
                        [
                          "any",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["plain", "valley", "island"],
                            true,
                            false
                          ],
                          [
                            "all",
                            ["==", ["get", "subcategory"], "islet"],
                            ["!=", ["get", "display_class"], 11]
                          ]
                        ],
                        16,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["managed", "archipelago"],
                          false,
                          true
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{land_nature-labels-visibility}}",
                      "symbol-placement": "point",
                      "symbol-sort-key": ["get", "display_class"],
                      "text-anchor": "center",
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-italic-medium}}}"],
                      "text-letter-spacing": 0.25,
                      "text-max-width": 8,
                      "text-padding": 5,
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        4,
                        "//{{multiply symbol-size-factor (multiply land_nature-size-factor 8)}}//",
                        9,
                        [
                          "match",
                          ["get", "subcategory"],
                          "archipelago",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 12)}}//",
                          "island",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 10)}}//",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 8)}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "subcategory"],
                          "archipelago",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 14)}}//",
                          "island",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 12)}}//",
                          ["natural", "sand", "beach"],
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 8)}}//",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 10)}}//"
                        ],
                        16,
                        [
                          "match",
                          ["get", "subcategory"],
                          "archipelago",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 16)}}//",
                          "island",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 14)}}//",
                          ["natural", "sand", "beach"],
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 10)}}//",
                          "//{{multiply symbol-size-factor (multiply land_nature-size-factor 12)}}//"
                        ]
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "match",
                        ["get", "category"],
                        "island",
                        "{{island-text-color}}",
                        "woodland",
                        "{{woodland-text-color}}",
                        "grassland",
                        "{{grassland-text-color}}",
                        "sandy",
                        "{{sandy-text-color}}",
                        [
                          "match",
                          ["get", "subcategory"],
                          ["valley", "plain"],
                          "{{grassland-text-color}}",
                          "{{bareland-text-color}}"
                        ]
                      ],
                      "text-halo-color": "{{land_nature-halo-color}}",
                      "text-halo-width": 1.4
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "land_nature-module-visible": true,
                "land_nature-background-visible": true,
                "land_nature-earth_cover-visible": true,
                "land_nature-land_cover-visible": true,
                "land_nature-labels-visible": true,
                "land_nature-background-visibility": "{{#if (equal land_nature-module-visible false)}}none{{else}}{{#if (equal land_nature-background-visible false)}}none{{else}}visible{{/if}}{{/if}}",
                "land_nature-earth_cover-visibility": "{{#if (equal land_nature-module-visible false)}}none{{else}}{{#if (equal land_nature-earth_cover-visible false)}}none{{else}}visible{{/if}}{{/if}}",
                "land_nature-land_cover-visibility": "{{#if (equal land_nature-module-visible false)}}none{{else}}{{#if (equal land_nature-land_cover-visible false)}}none{{else}}visible{{/if}}{{/if}}",
                "land_nature-labels-visibility": "{{#if (equal land_nature-module-visible false)}}none{{else}}{{#if (equal land_nature-labels-visible false)}}none{{else}}visible{{/if}}{{/if}}",
                "background-color": "{{land}}",
                "bareland-color": "{{darkenBy 1 (darken 0.025 land)}}",
                "sand-color": "{{lightenBy 1 (lighten 0.025 land)}}",
                "wood-color": "{{vegetation-derived}}",
                "grass-color": "{{lightenBy 1 (lighten 0.05 vegetation-derived)}}",
                "vegetation-minor-color": "{{#if (more (abs (minus 135 (getH vegetation-derived))) 45)}}{{vegetation-derived}}{{else}}{{rotateBy -30 vegetation-derived}}{{/if}}",
                "shrub-color": "{{desaturate 0.25 (lightenBy 1 (lighten 0.075 vegetation-minor-color))}}",
                "agriculture-color": "{{desaturate 0.25 (lightenBy 1 (lighten 0.1 vegetation-minor-color))}}",
                "ice-color": "{{lightenBy 5 (mixLightness land 1 (desaturate 0.75 water-derived))}}",
                "background-color-s": "{{background-color}}",
                "background-color-l": "{{mixSaturation artificial 0.75 (mixLightness artificial 0.5 background-color)}}",
                "land_nature-earth_cover-opacity-factor": 1,
                "ec-alpha-vegetation": "{{multiply land_nature-earth_cover-opacity-factor (add 0.5 vegetation-lum)}}",
                "ec-alpha-l": "{{multiply land_nature-earth_cover-opacity-factor (minus ec-alpha-vegetation 0.35)}}",
                "ec-woody-color-s": "{{alpha ec-alpha-vegetation wood-color}}",
                "ec-herbaceous-color-s": "{{alpha ec-alpha-vegetation grass-color}}",
                "ec-cropland-color-s": "{{alpha ec-alpha-vegetation agriculture-color}}",
                "ec-vegetation-color-l": "{{alpha ec-alpha-l (desaturate 0.33 (mixLightness background-color-l 0.33 ec-cropland-color-s))}}",
                "ec-sand-color-s": "{{sand-color}}",
                "ec-sand-color-l": "{{alpha ec-alpha-l (desaturate 0.25 ec-sand-color-s)}}",
                "ec-ice-color-s": "{{ice-color}}",
                "ec-ice-color-l": "{{fade 1 ice-color}}",
                "lc-bareland-color": "{{bareland-color}}",
                "lc-sand-color": "{{sand-color}}",
                "lc-woodland-color": "{{wood-color}}",
                "lc-grassland-color": "{{grass-color}}",
                "lc-shrubland-color": "{{shrub-color}}",
                "lc-agricultural-color": "{{agriculture-color}}",
                "lc-managed-outline-color": "{{#if (more vegetation-lum 0.5)}}{{darkenBy 10 wood-color}}{{else}}{{lightenBy 10 wood-color}}{{/if}}",
                "island-text-color": "{{mixLightness label-derived 0.7 (scaleHsl 1 0.05 1 bareland-color)}}",
                "woodland-text-color": "{{mixLightness label-derived 0.6 (scaleHsl 1 1 1 wood-color)}}",
                "grassland-text-color": "{{mixLightness label-derived 0.6 (scaleHsl 1 1 1 grass-color)}}",
                "sandy-text-color": "{{mixLightness label-derived 0.6 (scaleHsl 1 1 1 sand-color)}}",
                "bareland-text-color": "{{mixLightness label-derived 0.6 (scaleHsl 1 0.25 1 bareland-color)}}",
                "elevation_point-text-color": "{{mixLightness label-derived 0.7 (hue 45 bareland-color)}}",
                "elevation_point-halo-color": "{{fade 0.25 (desaturate 0.5 label-outline-derived)}}",
                "land_nature-halo-color": "{{fade 0.5 label-outline-derived}}",
                "land-halo-color": "{{fade 0.25 (desaturate 0.5 label-outline-derived)}}",
                "land_nature-size-factor": 1,
                "land_nature-labels-zoom-min": 4,
                "land_nature-labels-elevation_point-zoom-min": 13,
                "land_nature-land_cover-zoom-min": 10,
                "land_nature-earth_cover-zoom-max": 22,
                "land-log": "{{log 'land computed'}}"
              }
            }
          },
          "landuse": {
            "groups": {
              "built_up_area": {
                "layers": [
                  {
                    "id": "LULC - Built-up area",
                    "type": "fill",
                    "metadata": {
                      "group": "area",
                      "tomtom:material": "{{landuse-built_up_area-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "built_up_areas",
                    "minzoom": "//{{landuse-built_up_area-zoom-min}}//",
                    "filter": ["all", ["==", "category", "built_up_area"]],
                    "paint": {
                      "fill-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        "{{bua-color-s}}",
                        13,
                        "{{bua-color-l}}"
                      ]
                    },
                    "layout": {
                      "visibility": "{{landuse-built_up_area-visibility}}"
                    }
                  }
                ]
              },
              "overlays": {
                "layers": [
                  {
                    "id": "LULC - Protected Areas",
                    "type": "fill",
                    "metadata": {"group": "area"},
                    "source": "vectorTiles",
                    "source-layer": "overlays",
                    "maxzoom": "//{{landuse-overlays-fill-zoom-max}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "group"], "protected"],
                      ["<=", ["get", "protect_class"], 5]
                    ],
                    "paint": {
                      "fill-color": "{{ol-protected-color}}",
                      "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        4,
                        0,
                        6,
                        ["case", ["<=", ["get", "protect_class"], 2], 1, 0],
                        8,
                        ["case", ["<=", ["get", "protect_class"], 4], 0.7, 0],
                        10,
                        ["case", ["<=", ["get", "protect_class"], 4], 0.5, 0.3],
                        "//{{landuse-overlays-fill-zoom-max}}//",
                        0
                      ]
                    },
                    "layout": {"visibility": "{{landuse-overlays-visibility}}"}
                  }
                ]
              },
              "grounds": {
                "layers": [
                  {
                    "id": "LULC - Landuse",
                    "type": "fill",
                    "metadata": {"group": "area"},
                    "source": "vectorTiles",
                    "source-layer": "land_use",
                    "minzoom": "//{{landuse-grounds-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "group"],
                        ["parking", "driving"],
                        false,
                        true
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["construction", "facility", "pitch"],
                        false,
                        true
                      ],
                      ["!=", ["get", "underground"], true]
                    ],
                    "layout": {
                      "visibility": "{{landuse-grounds-visibility}}",
                      "fill-sort-key": [
                        "+",
                        ["get", "display_class"],
                        [
                          "match",
                          ["get", "group"],
                          "sport",
                          0.9,
                          "outdoor",
                          0.8,
                          "shopping",
                          0.7,
                          "healthcare",
                          0.6,
                          "leisure",
                          0.5,
                          "transport",
                          0.4,
                          "lodging",
                          0.3,
                          "education",
                          0.2,
                          "business",
                          0.1,
                          "religion",
                          0.09,
                          0
                        ]
                      ]
                    },
                    "paint": {
                      "fill-color": [
                        "match",
                        ["get", "group"],
                        "artificial",
                        "{{lu-artificial-color}}",
                        "business",
                        "{{lu-business-color}}",
                        "shopping",
                        "{{lu-shopping-color}}",
                        "education",
                        "{{lu-education-color}}",
                        "transport",
                        [
                          "match",
                          ["get", "category"],
                          "airport",
                          "{{lu-airport-color}}",
                          "{{lu-transport-color}}"
                        ],
                        "healthcare",
                        "{{lu-healthcare-color}}",
                        "lodging",
                        "{{lu-lodging-color}}",
                        "leisure",
                        "{{lu-leisure-color}}",
                        "religion",
                        "{{lu-religion-color}}",
                        "outdoor",
                        "{{lu-outdoor-color}}",
                        "sport",
                        "{{lu-sport-color}}",
                        "{{transparent}}"
                      ],
                      "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{landuse-grounds-zoom-min}}//",
                        0,
                        "//{{add 0.5 landuse-grounds-zoom-min}}//",
                        1
                      ]
                    }
                  }
                ]
              },
              "facilities": {
                "layers": [
                  {
                    "id": "LULC - Outdoor & Sport",
                    "type": "fill",
                    "metadata": {"group": "area"},
                    "source": "vectorTiles",
                    "source-layer": "land_use",
                    "minzoom": "//{{landuse-facilities-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["facility", "pitch"],
                        true,
                        false
                      ],
                      ["!=", ["get", "underground"], true]
                    ],
                    "layout": {
                      "visibility": "{{landuse-facilities-visibility}}",
                      "fill-sort-key": [
                        "+",
                        ["get", "display_class"],
                        [
                          "match",
                          ["get", "group"],
                          "sport",
                          0.9,
                          "outdoor",
                          0.8,
                          0
                        ]
                      ]
                    },
                    "paint": {
                      "fill-color": [
                        "match",
                        ["get", "category"],
                        "pitch",
                        "{{lu-pitch-color}}",
                        "{{lu-facility-color}}"
                      ],
                      "fill-outline-color": [
                        "match",
                        ["get", "category"],
                        "pitch",
                        "{{lu-pitch-outline-color}}",
                        "{{lu-facility-outline-color}}"
                      ],
                      "fill-antialias": true,
                      "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{landuse-facilities-zoom-min}}//",
                        0,
                        "//{{add 0.5 landuse-facilities-zoom-min}}//",
                        1
                      ]
                    }
                  },
                  {
                    "id": "LULC - Parking & Driving",
                    "type": "fill",
                    "metadata": {"group": "area"},
                    "source": "vectorTiles",
                    "source-layer": "land_use",
                    "minzoom": "//{{landuse-facilities-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "group"],
                        ["parking", "driving"],
                        true,
                        false
                      ],
                      ["!=", ["get", "underground"], true]
                    ],
                    "layout": {
                      "visibility": "{{landuse-facilities-visibility}}",
                      "fill-sort-key": [
                        "+",
                        ["get", "display_class"],
                        [
                          "match",
                          ["get", "group"],
                          "parking",
                          0.9,
                          "driving",
                          0.8,
                          0
                        ]
                      ]
                    },
                    "paint": {
                      "fill-color": [
                        "match",
                        ["get", "group"],
                        "parking",
                        "{{lu-parking-color}}",
                        "driving",
                        "{{lu-driving-color}}",
                        "{{transparent}}"
                      ],
                      "fill-outline-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "group"],
                          "parking",
                          "{{lu-parking-color}}",
                          "driving",
                          "{{lu-driving-color}}",
                          "{{transparent}}"
                        ],
                        16,
                        [
                          "match",
                          ["get", "group"],
                          "parking",
                          "{{lu-parking-outline-color}}",
                          "driving",
                          "{{lu-driving-outline-color}}",
                          "{{transparent}}"
                        ]
                      ],
                      "fill-antialias": true,
                      "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{landuse-facilities-zoom-min}}//",
                        0,
                        "//{{add 0.5 landuse-facilities-zoom-min}}//",
                        1
                      ]
                    }
                  }
                ]
              },
              "structures": {
                "layers": [
                  {
                    "id": "Structure - Bridge & Pier shadow",
                    "type": "fill",
                    "metadata": {"group": "transit_area"},
                    "source": "vectorTiles",
                    "source-layer": "structures",
                    "minzoom": "//{{landuse-structures-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["pier", "bridge", "water_barrier"],
                        true,
                        false
                      ],
                      [
                        "any",
                        ["<=", ["to-number", ["get", "z_level"]], 1],
                        ["==", ["has", "z_level"], false]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{landuse-structures-shadow-visibility}}"
                    },
                    "paint": {
                      "fill-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        "{{land}}",
                        13,
                        "{{bua-color}}"
                      ],
                      "fill-translate": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        ["literal", [0, 0]],
                        16,
                        ["literal", [-1, -1]]
                      ],
                      "fill-translate-anchor": "viewport"
                    }
                  },
                  {
                    "id": "Structure - Bridge & Pier line",
                    "type": "line",
                    "metadata": {"group": "transit_area"},
                    "source": "vectorTiles",
                    "source-layer": "structures_lines",
                    "minzoom": "//{{landuse-structures-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["pier", "water_barrier"],
                        true,
                        false
                      ]
                    ],
                    "layout": {
                      "visibility": "{{landuse-structures-visibility}}",
                      "line-cap": "square"
                    },
                    "paint": {
                      "line-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        "{{land}}",
                        13,
                        "{{bua-color}}"
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", 1.99],
                        ["zoom"],
                        16,
                        1,
                        20,
                        40
                      ],
                      "line-opacity": 1
                    }
                  },
                  {
                    "id": "Structure - Bridge & Pier area",
                    "type": "fill",
                    "metadata": {"group": "transit_area"},
                    "source": "vectorTiles",
                    "source-layer": "structures",
                    "minzoom": "//{{landuse-structures-zoom-min}}//",
                    "filter": [
                      "any",
                      [
                        "match",
                        ["get", "category"],
                        ["pier", "bridge", "water_barrier"],
                        true,
                        false
                      ],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["breakwater"],
                        true,
                        false
                      ]
                    ],
                    "layout": {
                      "visibility": "{{landuse-structures-visibility}}"
                    },
                    "paint": {
                      "fill-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        "{{land}}",
                        13,
                        "{{bua-color}}"
                      ]
                    }
                  }
                ]
              },
              "overlays-borders": {
                "layers": [
                  {
                    "id": "Borders - Overlays background",
                    "type": "line",
                    "metadata": {"group": "border"},
                    "source": "vectorTiles",
                    "source-layer": "overlays",
                    "minzoom": "//{{landuse-overlays-outline-zoom-min}}//",
                    "filter": [
                      "any",
                      ["match", ["get", "group"], ["military"], true, false],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["aboriginal"],
                        true,
                        false
                      ],
                      ["<=", ["get", "protect_class"], 4]
                    ],
                    "layout": {
                      "visibility": "{{landuse-overlays-visibility}}",
                      "line-cap": "round",
                      "line-join": "miter"
                    },
                    "paint": {
                      "line-blur": 1,
                      "line-color": [
                        "match",
                        ["get", "group"],
                        "military",
                        "{{ol-military-outline-color}}",
                        "{{ol-protected-outline-color}}"
                      ],
                      "line-offset": 2,
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{add 1 landuse-overlays-outline-zoom-min}}//",
                        0,
                        "//{{add 2 landuse-overlays-outline-zoom-min}}//",
                        0.15
                      ],
                      "line-width": 4
                    }
                  },
                  {
                    "id": "Borders - Overlays",
                    "type": "line",
                    "metadata": {"group": "border"},
                    "source": "vectorTiles",
                    "source-layer": "overlays",
                    "minzoom": "//{{landuse-overlays-outline-zoom-min}}//",
                    "filter": [
                      "any",
                      ["match", ["get", "group"], ["military"], true, false],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["aboriginal"],
                        true,
                        false
                      ],
                      ["<=", ["get", "protect_class"], 4]
                    ],
                    "layout": {
                      "visibility": "{{landuse-overlays-visibility}}",
                      "line-cap": "round",
                      "line-join": "miter"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "group"],
                        "military",
                        "{{ol-military-outline-color}}",
                        "{{ol-protected-outline-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{landuse-overlays-outline-zoom-min}}//",
                        0,
                        "//{{add 2 landuse-overlays-outline-zoom-min}}//",
                        0.7
                      ],
                      "line-width": 0.5
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "landuse-module-visible": true,
                "landuse-built_up_area-visible": true,
                "landuse-grounds-visible": true,
                "landuse-facilities-visible": true,
                "landuse-structures-visible": true,
                "landuse-structures-shadow-visible": true,
                "landuse-overlays-visible": true,
                "landuse-built_up_area-visibility": "{{#if (equal landuse-module-visible toggle-false)}}none{{else}}{{#if (equal landuse-built_up_area-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "landuse-grounds-visibility": "{{#if (equal landuse-module-visible toggle-false)}}none{{else}}{{#if (equal landuse-grounds-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "landuse-facilities-visibility": "{{#if (equal landuse-module-visible toggle-false)}}none{{else}}{{#if (equal landuse-facilities-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "landuse-structures-visibility": "{{#if (equal landuse-module-visible toggle-false)}}none{{else}}{{#if (equal landuse-structures-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "landuse-structures-shadow-visibility": "{{#if (equal landuse-module-visible toggle-false)}}none{{else}}{{#if (equal landuse-structures-visible toggle-false)}}none{{else}}{{#if (equal landuse-structures-shadow-visible toggle-false)}}none{{else}}{{#if (equal pmd-flag toggle-true)}}none{{else}}visible{{/if}}{{/if}}{{/if}}{{/if}}",
                "landuse-overlays-visibility": "{{#if (equal landuse-module-visible toggle-false)}}none{{else}}{{#if (equal landuse-overlays-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "landuse-monochrome-flag": false,
                "landuse-inherit-poi-colors": true,
                "outdoor-color": "{{park-derived}}",
                "outdoor-color-log": "{{log 'outdoor color' outdoor-color}}",
                "protected-color": "{{park-derived}}",
                "protected-color-log": "{{log 'protected color' protected-color}}",
                "sport-color": "{{darkenBy (multiply park-sign 2) park-derived}}",
                "sport-color-log": "{{log 'sport color' sport-color}}",
                "bua-color": "{{artificial-derived}}",
                "bua-color-log": "{{log 'bua color' bua-color}}",
                "landuse-color": "{{darken (multiply artificial-sign 0.01) (darkenBy (multiply artificial-sign 3) artificial-derived)}}",
                "landuse-color-log": "{{log 'landuse color' landuse-color}}",
                "lu-saturation-factor": "{{max 0.33 artificial-lum}}",
                "bua-color-s": "{{mixSaturation land 0.5 (mixLightness land 0.75 bua-color)}}",
                "bua-color-l": "{{bua-color}}",
                "lu-artificial-color": "{{bua-color}}",
                "lu-business-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.66 lu-saturation-factor)) (mixLightness landuse-color 0.97 loi-business-color)}}{{/if}}",
                "lu-shopping-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 1 lu-saturation-factor)) (mixLightness landuse-color 0.95 loi-shopping-color)}}{{/if}}",
                "lu-education-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.66 lu-saturation-factor)) (mixLightness landuse-color 0.96 loi-education-color)}}{{/if}}",
                "lu-healthcare-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.75 lu-saturation-factor)) (mixLightness landuse-color 0.95 loi-healthcare-color)}}{{/if}}",
                "lu-leisure-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.66 lu-saturation-factor)) (mixLightness landuse-color 0.95 loi-leisure-color)}}{{/if}}",
                "lu-lodging-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.5 lu-saturation-factor)) (mixLightness landuse-color 0.96 loi-lodging-color)}}{{/if}}",
                "lu-outdoor-color": "{{outdoor-color}}",
                "lu-religion-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.5 lu-saturation-factor)) (mixLightness landuse-color 0.95 loi-religion-color)}}{{/if}}",
                "lu-sport-color": "{{sport-color}}",
                "lu-transport-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.66 lu-saturation-factor)) (mixLightness landuse-color 0.95 loi-transport-color)}}{{/if}}",
                "lu-airport-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.75 lu-saturation-factor)) (mixLightness landuse-color 0.95 loi-transport-color)}}{{/if}}",
                "lu-runway-color": "{{darken 0.025 (darkenBy 6 lu-airport-color)}}",
                "lu-pitch-color": "{{saturate 0.1 (darkenBy (multiply park-sign 2) lu-sport-color)}}",
                "lu-pitch-outline-color": "{{desaturate 0.25 (lightenBy (multiply park-sign 20) lu-pitch-color)}}",
                "lu-facility-color": "{{saturate 0.1 (darkenBy (multiply park-sign 2) lu-outdoor-color)}}",
                "lu-facility-outline-color": "{{desaturate 0.25 (darkenBy (multiply park-sign 20) lu-facility-color)}}",
                "lu-parking-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.33 lu-saturation-factor)) (mixLightness landuse-color 0.95 loi-parking-color)}}{{/if}}",
                "lu-parking-outline-color": "{{desaturate 0.25 (lightenBy (multiply artificial-sign 8) lu-parking-color)}}",
                "lu-driving-color": "{{#if (equal landuse-inherit-poi-colors false)}}{{landuse-color}}{{else}}{{desaturate (minus 1 (multiply 0.5 lu-saturation-factor)) (mixLightness landuse-color 0.90 loi-driving-color)}}{{/if}}",
                "lu-driving-outline-color": "{{desaturate 0.25 (darkenBy (multiply artificial-sign 8) lu-driving-color)}}",
                "ol-protected-color": "{{protected-color}}",
                "ol-military-color": "{{desaturate 0.25 (mixLightness protected-color 0.95 loi-military-color)}}",
                "ol-protected-outline-color": "{{scaleHsl 1 0.7 0.7 ol-protected-color}}",
                "ol-military-outline-color": "{{scaleHsl 1 0.3 0.7 ol-military-color}}",
                "landuse-zoom-min": "{{scaleHsl 1 0.3 0.7 ol-military-color}}",
                "landuse-built_up_area-zoom-min": 6,
                "landuse-grounds-zoom-min": 8,
                "landuse-facilities-zoom-min": 13,
                "landuse-structures-zoom-min": 10,
                "landuse-overlays-fill-zoom-max": 12,
                "landuse-overlays-outline-zoom-min": 11,
                "landuse-log": "{{log 'landuse computed'}}"
              }
            }
          },
          "imagery": {
            "sources": {
              "satellite": {
                "type": "raster",
                "tileSize": 256,
                "tiles": [
                  "https://a.api.tomtom.com/maps/orbis/map-display/tile/satellite/{z}/{x}/{y}.jpg?apiVersion=1",
                  "https://b.api.tomtom.com/maps/orbis/map-display/tile/satellite/{z}/{x}/{y}.jpg?apiVersion=1",
                  "https://c.api.tomtom.com/maps/orbis/map-display/tile/satellite/{z}/{x}/{y}.jpg?apiVersion=1",
                  "https://d.api.tomtom.com/maps/orbis/map-display/tile/satellite/{z}/{x}/{y}.jpg?apiVersion=1"
                ],
                "minzoom": 0,
                "maxzoom": 19,
                "attribution": "<a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
              }
            },
            "groups": {
              "satellite": {
                "layers": [
                  {
                    "id": "Satellite Imagery",
                    "metadata": {"group": "satellite"},
                    "maxzoom": "//{{imagery-satellite-zoom-max}}//",
                    "source": "satellite",
                    "type": "raster",
                    "paint": {
                      "raster-opacity": "//{{imagery-satellite-opacity}}//"
                    },
                    "layout": {"visibility": "{{imagery-satellite-visibility}}"}
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "imagery-module-visible": false,
                "imagery-satellite-visibility": "{{#if (equal imagery-module-visible toggle-false)}}none{{else}}visible{{/if}}",
                "imagery-satellite-opacity": 1,
                "imagery-satellite-zoom-max": 22
              }
            }
          },
          "terrain": {
            "sources": {
              "hillshade": {
                "type": "raster-dem",
                "tileSize": 514,
                "tiles": [
                  "https://a.api.tomtom.com/maps/orbis/map-display/tile/hillshade/{z}/{x}/{y}.png?apiVersion=1",
                  "https://b.api.tomtom.com/maps/orbis/map-display/tile/hillshade/{z}/{x}/{y}.png?apiVersion=1",
                  "https://c.api.tomtom.com/maps/orbis/map-display/tile/hillshade/{z}/{x}/{y}.png?apiVersion=1",
                  "https://d.api.tomtom.com/maps/orbis/map-display/tile/hillshade/{z}/{x}/{y}.png?apiVersion=1"
                ],
                "minzoom": 0,
                "maxzoom": 13,
                "attribution": "<a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
              }
            },
            "groups": {
              "hillshade": {
                "layers": [
                  {
                    "id": "Hillshade",
                    "type": "hillshade",
                    "metadata": {"group": "hillshade"},
                    "source": "hillshade",
                    "minzoom": 0,
                    "maxzoom": "//{{terrain-hillshade-zoom-max}}//",
                    "layout": {"visibility": "{{terrain-layer-visibility}}"},
                    "paint": {
                      "hillshade-exaggeration": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "//{{multiply 0.2 terrain-hillshade-exaggeration-factor}}//",
                        7,
                        "//{{multiply 0.3 terrain-hillshade-exaggeration-factor}}//",
                        10,
                        "//{{multiply 0.3 terrain-hillshade-exaggeration-factor}}//",
                        "//{{terrain-hillshade-zoom-max}}//",
                        0
                      ],
                      "hillshade-illumination-anchor": "viewport",
                      "hillshade-shadow-color": "{{hillshade-shadow-color}}",
                      "hillshade-highlight-color": "{{hillshade-highlight-color}}",
                      "hillshade-accent-color": "{{hillshade-accent-color}}"
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "terrain-module-visible": false,
                "terrain-layer-visibility": "{{#if (equal terrain-module-visible toggle-false)}}none{{else}}visible{{/if}}",
                "hillshade-color": "{{land}}",
                "hillshade-alpha-factor": "{{max 0.2 (multiply 0.5 base-lum)}}",
                "hillshade-luminance-factor": "{{multiply 0.2 (minus 100 (getL hillshade-color))}}",
                "hillshade-shadow-color": "{{alpha (add 0.35 hillshade-alpha-factor) (darkenBy (add 50 hillshade-luminance-factor) hillshade-color)}}",
                "hillshade-highlight-color": "{{alpha (add 0.55 hillshade-alpha-factor) (lightenBy (add 0 hillshade-luminance-factor) hillshade-color)}}",
                "hillshade-accent-color": "{{alpha hillshade-alpha-factor (desaturate 0.33 (lightenBy (add -5 hillshade-luminance-factor) hillshade-color))}}",
                "terrain-hillshade-exaggeration-factor": 1,
                "terrain-hillshade-zoom-max": 13
              }
            }
          },
          "water": {
            "groups": {
              "features": {
                "layers": [
                  {
                    "id": "Water - Line",
                    "type": "line",
                    "metadata": {"group": "water"},
                    "source": "vectorTiles",
                    "source-layer": "water_lines",
                    "minzoom": "//{{water-zoom-waterways-min}}//",
                    "filter": ["all"],
                    "layout": {
                      "visibility": "{{water-waterways-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{waterway-outline-color}}",
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        11,
                        0.6,
                        15,
                        1.2,
                        18,
                        ["match", ["get", "category"], ["river", "canal"], 6, 2]
                      ],
                      "line-opacity": [
                        "case",
                        ["==", ["has", "tunnel"], true],
                        0.5,
                        ["==", ["has", "intermittent"], true],
                        0.5,
                        1
                      ]
                    }
                  },
                  {
                    "id": "Water - Shadow",
                    "type": "fill",
                    "metadata": {"group": "water"},
                    "source": "vectorTiles",
                    "source-layer": "water",
                    "filter": ["!=", ["get", "intermittent"], true],
                    "paint": {
                      "fill-color": [
                        "match",
                        ["get", "category"],
                        "glacier",
                        "{{glacier-shadow-color}}",
                        "{{waterbody-shadow-color}}"
                      ],
                      "fill-translate": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        9,
                        ["literal", [0, 0]],
                        13,
                        ["literal", [-1, -1]],
                        16,
                        ["literal", [-2, -2]]
                      ],
                      "fill-translate-anchor": "viewport"
                    },
                    "layout": {
                      "visibility": "{{water-waterbodies-shadow-visibility}}"
                    }
                  },
                  {
                    "id": "Water - Intermittent",
                    "type": "fill",
                    "metadata": {"group": "water"},
                    "source": "vectorTiles",
                    "source-layer": "water",
                    "minzoom": "//{{water-zoom-waterbodies-intermittent-min}}//",
                    "filter": ["==", ["get", "intermittent"], true],
                    "paint": {
                      "fill-color": "{{waterbody-intermittent-color}}",
                      "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{water-zoom-waterbodies-intermittent-min}}//",
                        0,
                        "//{{add 1 water-zoom-waterbodies-intermittent-min}}//",
                        1
                      ],
                      "fill-translate-anchor": "viewport",
                      "fill-outline-color": "{{waterbody-outline-color}}"
                    },
                    "layout": {
                      "visibility": "{{water-waterbodies-intermittent-visibility}}"
                    }
                  },
                  {
                    "id": "Water - Fill",
                    "type": "fill",
                    "metadata": {
                      "group": "water",
                      "north-pole": true,
                      "tomtom:material": "{{water-waterbodies-fill-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "water",
                    "layout": {
                      "visibility": "{{water-waterbodies-fill-visibility}}"
                    },
                    "filter": ["!=", ["get", "intermittent"], true],
                    "paint": {
                      "fill-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        [
                          "match",
                          ["get", "category"],
                          "glacier",
                          "{{glacier-color-xs}}",
                          "{{waterbody-color-xs}}"
                        ],
                        6,
                        [
                          "match",
                          ["get", "category"],
                          "glacier",
                          "{{glacier-color-s}}",
                          "{{waterbody-color-s}}"
                        ]
                      ]
                    }
                  }
                ]
              },
              "labels": {
                "layers": [
                  {
                    "id": "NatureLabels - River line",
                    "type": "symbol",
                    "metadata": {"group": "label"},
                    "source": "vectorTiles",
                    "source-layer": "water_lines",
                    "minzoom": "//{{max water-zoom-waterways-min water-zoom-waterways-labels-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "intermittent"], true],
                      ["!=", ["get", "tunnel"], true]
                    ],
                    "layout": {
                      "visibility": "{{water-labels-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-spacing": 400,
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-italic-medium}}}"],
                      "text-keep-upright": true,
                      "text-letter-spacing": 0.25,
                      "text-padding": 5,
                      "text-rotation-alignment": "map",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["river", "canal"],
                          "//{{water-size-waterways-river-m}}//",
                          "//{{water-size-waterways-stream-m}}//"
                        ],
                        16,
                        [
                          "match",
                          ["get", "category"],
                          ["river", "canal"],
                          "//{{water-size-waterways-river-l}}//",
                          "//{{water-size-waterways-stream-l}}//"
                        ]
                      ],
                      "text-pitch-alignment": "viewport"
                    },
                    "paint": {
                      "text-color": "{{waterway-text-color}}",
                      "text-halo-color": "{{waterway-halo-color}}",
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "NatureLabels - Water area",
                    "type": "symbol",
                    "metadata": {"group": "label"},
                    "source": "vectorTiles",
                    "source-layer": "carto_labels",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["water", "glacier"],
                        true,
                        false
                      ],
                      [
                        "any",
                        [
                          "all",
                          ["==", ["get", "subcategory"], "strait"],
                          ["!=", ["get", "display_class"], 7]
                        ],
                        [
                          "match",
                          ["get", "subcategory"],
                          ["strait"],
                          false,
                          true
                        ],
                        [">", ["zoom"], 11]
                      ],
                      [
                        "any",
                        ["!=", ["get", "intermittent"], true],
                        [
                          ">",
                          ["zoom"],
                          "//{{#if (equal water-waterbodies-intermittent-visible toggle-false)}}22{{else}}{{water-zoom-waterbodies-intermittent-min}}{{/if}}//"
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{water-labels-visibility}}",
                      "symbol-placement": "point",
                      "symbol-sort-key": ["get", "display_class"],
                      "text-allow-overlap": false,
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-italic-medium}}}"],
                      "text-ignore-placement": false,
                      "text-keep-upright": true,
                      "text-letter-spacing": 0.25,
                      "text-max-width": 8,
                      "text-optional": false,
                      "text-padding": 8,
                      "text-pitch-alignment": "auto",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        0,
                        [
                          "match",
                          ["get", "subcategory"],
                          "ocean",
                          "//{{water-size-waterbodies-ocean-xxs}}//",
                          "sea",
                          "//{{water-size-waterbodies-sea-xxs}}//",
                          "//{{water-size-waterbodies-inland-xxs}}//"
                        ],
                        4,
                        [
                          "match",
                          ["get", "subcategory"],
                          "ocean",
                          "//{{water-size-waterbodies-ocean-xs}}//",
                          "sea",
                          "//{{water-size-waterbodies-sea-xs}}//",
                          "//{{water-size-waterbodies-inland-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "subcategory"],
                          "ocean",
                          "//{{water-size-waterbodies-ocean-s}}//",
                          "sea",
                          "//{{water-size-waterbodies-sea-s}}//",
                          "//{{water-size-waterbodies-inland-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "subcategory"],
                          "ocean",
                          "//{{water-size-waterbodies-ocean-m}}//",
                          "sea",
                          "//{{water-size-waterbodies-sea-m}}//",
                          "inland",
                          "//{{water-size-waterbodies-inland-m}}//",
                          "//{{water-size-waterbodies-bay-m}}//"
                        ],
                        16,
                        [
                          "match",
                          ["get", "subcategory"],
                          "ocean",
                          "//{{water-size-waterbodies-ocean-l}}//",
                          "sea",
                          "//{{water-size-waterbodies-sea-l}}//",
                          "inland",
                          "//{{water-size-waterbodies-inland-l}}//",
                          "//{{water-size-waterbodies-bay-l}}//"
                        ]
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "match",
                        ["get", "category"],
                        "water",
                        "{{waterbody-text-color}}",
                        "{{glacier-text-color}}"
                      ],
                      "text-halo-color": "{{waterbody-halo-color}}",
                      "text-halo-width": 1
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "water-module-visible": true,
                "water-waterbodies-visible": true,
                "water-waterbodies-intermittent-visible": true,
                "water-waterbodies-shadow-visible": true,
                "water-waterways-visible": true,
                "water-labels-visible": true,
                "water-waterbodies-fill-visibility": "{{#if (equal water-module-visible toggle-false)}}none{{else}}{{#if (equal water-waterbodies-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "water-waterbodies-intermittent-visibility": "{{#if (equal water-module-visible toggle-false)}}none{{else}}{{#if (equal water-waterbodies-visible toggle-false)}}none{{else}}{{#if (equal water-waterbodies-intermittent-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}{{/if}}",
                "water-waterbodies-shadow-visibility": "{{#if (equal water-module-visible toggle-false)}}none{{else}}{{#if (equal water-waterbodies-visible toggle-false)}}none{{else}}{{#if (equal water-waterbodies-shadow-visible toggle-false)}}none{{else}}{{#if (equal pmd-flag toggle-true)}}none{{else}}visible{{/if}}{{/if}}{{/if}}{{/if}}",
                "water-waterways-visibility": "{{#if (equal water-module-visible toggle-false)}}none{{else}}{{#if (equal water-waterways-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "water-labels-visibility": "{{#if (equal water-module-visible toggle-false)}}none{{else}}{{#if (equal water-labels-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "waterbody-color": "{{water-derived}}",
                "waterbody-color-log": "{{log 'waterbody color' waterbody-color}}",
                "waterway-color": "{{water-derived}}",
                "waterway-color-log": "{{log 'waterway color' waterway-color}}",
                "ice-color": "{{lightenBy 5 (mixLightness land 1 (desaturate 0.75 water-derived))}}",
                "ice-color-log": "{{log 'ice color' ice-color}}",
                "waterbody-color-xs": "{{mixSaturation land 0.2 waterbody-color}}",
                "waterbody-color-s": "{{waterbody-color}}",
                "glacier-color-xs": "{{ice-color}}",
                "glacier-color-s": "{{ice-color}}",
                "waterbody-intermittent-color": "{{mixLightness land 0.4 waterbody-color}}",
                "waterbody-outline-color": "{{waterway-color}}",
                "waterway-outline-color": "{{waterway-color}}",
                "waterbody-shadow-color": "{{darkenBy 5 waterbody-color}}",
                "glacier-shadow-color": "{{darkenBy 5 ice-color}}",
                "water-text-color": "{{darken (multiply water-contrast-sign 0.15) (darkenBy (multiply water-contrast-sign 25) water-derived)}}",
                "water-halo-color": "{{lighten (multiply water-contrast-sign 0.15) (lightenBy (multiply water-contrast-sign 35) water-derived)}}",
                "waterway-text-color": "{{water-text-color}}",
                "waterway-halo-color": "{{fade 0.2 water-halo-color}}",
                "waterbody-text-color": "{{water-text-color}}",
                "glacier-text-color": "{{darken (multiply water-contrast-sign 0.15) (darkenBy (multiply water-contrast-sign 25) ice-color)}}",
                "waterbody-halo-color": "{{fade 0.4 water-halo-color}}",
                "water-size-factor": 1,
                "water-size-waterways-factor": 1,
                "water-size-waterways-factor-m": 1,
                "water-size-waterways-factor-l": 1,
                "water-size-waterways-max-m": 10,
                "water-size-waterways-max-l": 16,
                "water-size-waterways-step-m": 2,
                "water-size-waterways-step-l": 4,
                "water-size-waterways-river-m": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterways-factor-m (multiply water-size-waterways-factor (minus water-size-waterways-max-m (multiply water-size-waterways-step-m 0)))))}}",
                "water-size-waterways-river-l": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterways-factor-l (multiply water-size-waterways-factor (minus water-size-waterways-max-l (multiply water-size-waterways-step-l 0)))))}}",
                "water-size-waterways-stream-m": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterways-factor-m (multiply water-size-waterways-factor (minus water-size-waterways-max-m (multiply water-size-waterways-step-m 1)))))}}",
                "water-size-waterways-stream-l": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterways-factor-l (multiply water-size-waterways-factor (minus water-size-waterways-max-l (multiply water-size-waterways-step-l 1)))))}}",
                "water-size-waterbodies-factor": 1,
                "water-size-waterbodies-factor-xxs": 1,
                "water-size-waterbodies-factor-xs": 1,
                "water-size-waterbodies-factor-s": 1,
                "water-size-waterbodies-factor-m": 1,
                "water-size-waterbodies-factor-l": 1,
                "water-size-waterbodies-max-xxs": 12,
                "water-size-waterbodies-max-xs": 14,
                "water-size-waterbodies-max-s": 18,
                "water-size-waterbodies-max-m": 22,
                "water-size-waterbodies-max-l": 24,
                "water-size-waterbodies-step-xxs": 2,
                "water-size-waterbodies-step-xs": 2,
                "water-size-waterbodies-step-s": 3,
                "water-size-waterbodies-step-m": 4,
                "water-size-waterbodies-step-l": 4,
                "water-size-waterbodies-ocean-l": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-l (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-l (multiply water-size-waterbodies-step-l 0)))))}}",
                "water-size-waterbodies-sea-l": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-l (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-l (multiply water-size-waterbodies-step-l 1)))))}}",
                "water-size-waterbodies-inland-l": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-l (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-l (multiply water-size-waterbodies-step-l 2)))))}}",
                "water-size-waterbodies-bay-l": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-l (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-l (multiply water-size-waterbodies-step-l 3)))))}}",
                "water-size-waterbodies-ocean-m": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-m (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-m (multiply water-size-waterbodies-step-m 0)))))}}",
                "water-size-waterbodies-sea-m": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-m (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-m (multiply water-size-waterbodies-step-m 1)))))}}",
                "water-size-waterbodies-inland-m": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-m (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-m (multiply water-size-waterbodies-step-m 2)))))}}",
                "water-size-waterbodies-bay-m": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-m (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-m (multiply water-size-waterbodies-step-m 3)))))}}",
                "water-size-waterbodies-ocean-s": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-s (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-s (multiply water-size-waterbodies-step-s 0)))))}}",
                "water-size-waterbodies-sea-s": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-s (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-s (multiply water-size-waterbodies-step-s 1)))))}}",
                "water-size-waterbodies-inland-s": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-s (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-s (multiply water-size-waterbodies-step-s 2)))))}}",
                "water-size-waterbodies-ocean-xs": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-xs (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-xs (multiply water-size-waterbodies-step-xs 0)))))}}",
                "water-size-waterbodies-sea-xs": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-xs (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-xs (multiply water-size-waterbodies-step-xs 1)))))}}",
                "water-size-waterbodies-inland-xs": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-xs (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-xs (multiply water-size-waterbodies-step-xs 2)))))}}",
                "water-size-waterbodies-ocean-xxs": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-xxs (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-xxs (multiply water-size-waterbodies-step-xxs 0)))))}}",
                "water-size-waterbodies-sea-xxs": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-xxs (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-xxs (multiply water-size-waterbodies-step-xxs 1)))))}}",
                "water-size-waterbodies-inland-xxs": "{{multiply symbol-size-factor (multiply water-size-factor (multiply water-size-waterbodies-factor-xxs (multiply water-size-waterbodies-factor (minus water-size-waterbodies-max-xxs (multiply water-size-waterbodies-step-xxs 2)))))}}",
                "water-zoom-waterways-min": 8,
                "water-zoom-waterways-labels-min": 13,
                "water-zoom-waterbodies-intermittent-min": 13,
                "water-log": "{{log 'water computed'}}"
              }
            }
          },
          "buildings": {
            "groups": {
              "footprints": {
                "layers": [
                  {
                    "id": "Buildings - Underground",
                    "type": "fill",
                    "metadata": {"group": "building"},
                    "source": "vectorTiles",
                    "source-layer": "buildings",
                    "minzoom": "//{{max buildings-zoom-min 16}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "underground"], true],
                      ["!=", ["get", "part"], true]
                    ],
                    "layout": {
                      "visibility": "{{buildings-footprints-underground-visibility}}"
                    },
                    "paint": {"fill-color": "{{bld-generic-underground-color}}"}
                  },
                  {
                    "id": "Buildings - Shadow",
                    "type": "fill",
                    "metadata": {"group": "building"},
                    "source": "vectorTiles",
                    "source-layer": "buildings",
                    "minzoom": "//{{buildings-zoom-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "underground"], true],
                      ["!=", ["get", "part"], true]
                    ],
                    "layout": {
                      "visibility": "{{buildings-footprints-shadow-visibility}}"
                    },
                    "paint": {
                      "fill-antialias": false,
                      "fill-color": "{{bld-generic-shadow-color}}",
                      "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        0,
                        17,
                        0.7
                      ],
                      "fill-translate": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        ["literal", [0, 0]],
                        17,
                        ["literal", [1.2, 1.2]]
                      ],
                      "fill-translate-anchor": "viewport"
                    }
                  },
                  {
                    "id": "Buildings - Fill",
                    "type": "fill",
                    "metadata": {"group": "building"},
                    "source": "vectorTiles",
                    "source-layer": "buildings",
                    "minzoom": "//{{buildings-zoom-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "underground"], true],
                      ["!=", ["get", "part"], true]
                    ],
                    "paint": {
                      "fill-color": "{{bld-generic-color}}",
                      "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        14,
                        0,
                        16,
                        1
                      ]
                    },
                    "layout": {
                      "visibility": "{{buildings-footprints-fill-visibility}}"
                    }
                  },
                  {
                    "id": "Buildings - Outline",
                    "type": "line",
                    "metadata": {"group": "building"},
                    "source": "vectorTiles",
                    "source-layer": "buildings",
                    "minzoom": "//{{buildings-zoom-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "underground"], true],
                      ["!=", ["get", "part"], true]
                    ],
                    "layout": {
                      "visibility": "{{buildings-footprints-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": "{{bld-generic-outline-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        0.5,
                        17,
                        0.75
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        14,
                        0.3,
                        18,
                        0.5
                      ]
                    }
                  }
                ]
              },
              "extrusions": {
                "layers": [
                  {
                    "id": "3D - Building",
                    "type": "fill-extrusion",
                    "metadata": {
                      "group": "area_3d",
                      "tomtom:material": "{{buildings-extrusions-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "buildings",
                    "minzoom": "//{{buildings-zoom-min}}//",
                    "filter": ["all", ["!=", ["get", "underground"], true]],
                    "layout": {
                      "visibility": "{{buildings-extrusions-visibility}}"
                    },
                    "paint": {
                      "fill-extrusion-base": [
                        "case",
                        ["has", "ground_height"],
                        ["get", "ground_height"],
                        0
                      ],
                      "fill-extrusion-color": "{{bld-generic-extrusion-color}}",
                      "fill-extrusion-height": [
                        "case",
                        ["has", "height"],
                        ["get", "height"],
                        4
                      ],
                      "fill-extrusion-opacity": "//{{buildings-extrusions-opacity}}//",
                      "fill-extrusion-vertical-gradient": false
                    }
                  }
                ]
              },
              "landmarks": {
                "layers": [
                  {
                    "id": "3D - Building - NoLandmarks",
                    "type": "fill-extrusion",
                    "metadata": {
                      "group": "area_3d",
                      "tomtom:material": "{{buildings-extrusions-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "buildings",
                    "minzoom": "//{{buildings-zoom-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "underground"], true],
                      "//{{buildings-extrusions-landmarks-filter}}//"
                    ],
                    "layout": {
                      "visibility": "{{buildings-landmarks-visibility}}"
                    },
                    "paint": {
                      "fill-extrusion-base": [
                        "case",
                        ["has", "ground_height"],
                        ["get", "ground_height"],
                        0
                      ],
                      "fill-extrusion-color": "{{bld-generic-extrusion-color}}",
                      "fill-extrusion-height": [
                        "case",
                        ["has", "height"],
                        ["get", "height"],
                        4
                      ],
                      "fill-extrusion-opacity": "//{{buildings-extrusions-opacity}}//",
                      "fill-extrusion-vertical-gradient": false
                    }
                  },
                  {
                    "id": "3D - Landmarks",
                    "type": "fill",
                    "source": "tomtom:placeholder",
                    "minzoom": "//{{buildings-zoom-min}}//",
                    "maxzoom": 22,
                    "metadata": {
                      "tomtom:material": "{{buildings-landmarks-material}}",
                      "tomtom:layer": {"type": "model3d", "source": "landmarks"}
                    },
                    "layout": {
                      "visibility": "{{buildings-landmarks-visibility}}"
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "buildings-module-visible": true,
                "buildings-footprints-visible": true,
                "buildings-footprints-underground-visible": true,
                "buildings-footprints-fill-visible": true,
                "buildings-footprints-shadow-visible": true,
                "buildings-footprints-outline-visible": true,
                "buildings-extrusions-visible": false,
                "buildings-footprints-fill-visibility": "{{#if (equal buildings-module-visible toggle-false)}}none{{else}}{{#if (equal buildings-footprints-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "buildings-footprints-underground-visibility": "{{#if (equal buildings-module-visible toggle-false)}}none{{else}}{{#if (equal buildings-footprints-visible toggle-false)}}none{{else}}{{#if (equal buildings-footprints-underground-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}{{/if}}",
                "buildings-footprints-shadow-visibility": "{{#if (equal buildings-module-visible toggle-false)}}none{{else}}{{#if (equal buildings-footprints-visible toggle-false)}}none{{else}}{{#if (equal buildings-footprints-shadow-visible toggle-false)}}none{{else}}{{#if (equal pmd-flag toggle-true)}}none{{else}}visible{{/if}}{{/if}}{{/if}}{{/if}}",
                "buildings-footprints-outline-visibility": "{{#if (equal buildings-module-visible toggle-false)}}none{{else}}{{#if (equal buildings-footprints-visible toggle-false)}}none{{else}}{{#if (equal buildings-footprints-outline-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}{{/if}}",
                "buildings-extrusions-visibility": "{{#if (equal buildings-module-visible toggle-false)}}none{{else}}{{#if (equal buildings-extrusions-visible toggle-false)}}none{{else}}{{#if (equal pmd-flag toggle-true)}}none{{else}}visible{{/if}}{{/if}}{{/if}}",
                "buildings-landmarks-visibility": "{{#if (equal buildings-module-visible toggle-false)}}none{{else}}{{#if (equal buildings-extrusions-visible toggle-false)}}none{{else}}{{#if (equal pmd-flag toggle-true)}}visible{{else}}none{{/if}}{{/if}}{{/if}}",
                "buildings-3d-flag": false,
                "buildings-zoom-min": 15,
                "buildings-extrusions-opacity": "{{#if (equal pmd-flag toggle-true)}}1{{else}}0.7{{/if}}",
                "buildings-extrusions-landmarks-filter": "{{#if (equal pmd-flag toggle-true)}}{{buildings-extrusions-landmarks-filter-on}}{{else}}{{buildings-extrusions-landmarks-filter-off}}{{/if}}",
                "buildings-extrusions-landmarks-filter-off": true,
                "buildings-extrusions-landmarks-filter-on": [
                  "!",
                  ["coalesce", ["get", "has_landmark"], false]
                ],
                "buildings-inherit-poi-colors": true,
                "building-color": "{{desaturate 0.15 (darken (multiply artificial-sign 0.02) (darkenBy (multiply artificial-sign 5) artificial-derived))}}",
                "building-color-log": "{{log 'building color' building-color}}",
                "bld-generic-color": "{{building-color}}",
                "bld-generic-underground-color": "{{alpha 0.5 (mixLightness land 0.8 bld-generic-color)}}",
                "bld-generic-outline-color": "{{darkenBy 20 bld-generic-color}}",
                "bld-generic-shadow-color": "{{darkenBy 25 bld-generic-color}}",
                "bld-public-color": "{{#if (equal buildings-inherit-poi-colors false)}}{{bld-generic-color}}{{else}}{{desaturate (minus 1 (multiply 0.33 lu-saturation-factor)) (mixLightness bld-generic-color 0.95 loi-public-color)}}{{/if}}",
                "bld-public-outline-color": "{{darkenBy 20 bld-public-color}}",
                "bld-public-shadow-color": "{{darkenBy 25 bld-public-color}}",
                "bld-leisure-color": "{{#if (equal buildings-inherit-poi-colors false)}}{{bld-generic-color}}{{else}}{{desaturate (minus 1 (multiply 0.33 lu-saturation-factor)) (mixLightness bld-generic-color 0.95 loi-leisure-color)}}{{/if}}",
                "bld-leisure-outline-color": "{{darkenBy 20 bld-leisure-color}}",
                "bld-leisure-shadow-color": "{{darkenBy 25 bld-leisure-color}}",
                "bld-lodging-color": "{{#if (equal buildings-inherit-poi-colors false)}}{{bld-generic-color}}{{else}}{{desaturate (minus 1 (multiply 0.33 lu-saturation-factor)) (mixLightness bld-generic-color 0.95 loi-lodging-color)}}{{/if}}",
                "bld-lodging-outline-color": "{{darkenBy 20 bld-lodging-color}}",
                "bld-lodging-shadow-color": "{{darkenBy 25 bld-lodging-color}}",
                "bld-education-color": "{{#if (equal buildings-inherit-poi-colors false)}}{{bld-generic-color}}{{else}}{{desaturate (minus 1 (multiply 0.33 lu-saturation-factor)) (mixLightness bld-generic-color 0.95 loi-education-color)}}{{/if}}",
                "bld-education-outline-color": "{{darkenBy 20 bld-education-color}}",
                "bld-education-shadow-color": "{{darkenBy 25 bld-education-color}}",
                "bld-business-color": "{{#if (equal buildings-inherit-poi-colors false)}}{{bld-generic-color}}{{else}}{{desaturate (minus 1 (multiply 0.33 lu-saturation-factor)) (mixLightness bld-generic-color 0.95 loi-business-color)}}{{/if}}",
                "bld-business-outline-color": "{{darkenBy 20 bld-business-color}}",
                "bld-business-shadow-color": "{{darkenBy 25 bld-business-color}}",
                "bld-transport-color": "{{#if (equal buildings-inherit-poi-colors false)}}{{bld-generic-color}}{{else}}{{desaturate (minus 1 (multiply 0.33 lu-saturation-factor)) (mixLightness bld-generic-color 0.95 loi-transport-color)}}{{/if}}",
                "bld-transport-outline-color": "{{darkenBy 20 bld-transport-color}}",
                "bld-transport-shadow-color": "{{darkenBy 25 bld-transport-color}}",
                "bld-healthcare-color": "{{#if (equal buildings-inherit-poi-colors false)}}{{bld-generic-color}}{{else}}{{desaturate (minus 1 (multiply 0.33 lu-saturation-factor)) (mixLightness bld-generic-color 0.95 loi-healthcare-color)}}{{/if}}",
                "bld-healthcare-outline-color": "{{darkenBy 20 bld-healthcare-color}}",
                "bld-healthcare-shadow-color": "{{darkenBy 25 bld-healthcare-color}}",
                "bld-generic-extrusion-color": "{{darken 0.1 building-color}}",
                "bld-public-extrusion-color": "{{darken 0.1 bld-public-color}}",
                "bld-leisure-extrusion-color": "{{darken 0.1 bld-leisure-color}}",
                "bld-lodging-extrusion-color": "{{darken 0.1 bld-lodging-color}}",
                "bld-education-extrusion-color": "{{darken 0.1 bld-education-color}}",
                "bld-business-extrusion-color": "{{darken 0.1 bld-business-color}}",
                "bld-transport-extrusion-color": "{{darken 0.1 bld-transport-color}}",
                "bld-healthcare-extrusion-color": "{{darken 0.1 bld-healthcare-color}}",
                "buildings-log": "{{log 'buildings computed'}}"
              }
            }
          },
          "paths": {
            "groups": {
              "tunnel": {
                "layers": [
                  {
                    "id": "Tunnel - Track",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max paths-zoom-min (add paths-zoom-offset paths-zoom-tracks-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["track"], true, false],
                      ["==", ["get", "tunnel"], true]
                    ],
                    "layout": {
                      "visibility": "{{paths-tracks-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{paths-track-tunnel-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        0.7,
                        16,
                        "//{{paths-opacity-l}}//"
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", 1.3],
                        ["zoom"],
                        9,
                        "//{{paths-width-tracks-min-m}}//",
                        13,
                        "//{{multiply paths-width-factor (multiply paths-width-tracks-factor (multiply paths-width-tracks-factor-l 0.1))}}//",
                        19,
                        "//{{multiply paths-width-factor (multiply paths-width-tracks-factor (multiply paths-width-tracks-factor-xl 8))}}//"
                      ]
                    }
                  },
                  {
                    "id": "Tunnel - Path",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max paths-zoom-min (add paths-zoom-offset paths-zoom-paths-min)}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["{{{paths-category-filter}}}"],
                        true,
                        false
                      ],
                      ["==", ["get", "tunnel"], true],
                      [
                        "any",
                        ["==", ["has", "z_level"], false],
                        [">", ["get", "z_level"], -2]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{paths-paths-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{paths-path-tunnel-color}}",
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [0, 0.01]],
                        16,
                        ["literal", [0, 2]]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        0.7,
                        16,
                        "//{{paths-opacity-l}}//"
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", 1.3],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["path"],
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-l 0.1))}}//",
                          "//{{paths-width-paths-min-l}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["path"],
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-xl 2))}}//",
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-xl 2))}}//"
                        ]
                      ]
                    }
                  }
                ]
              },
              "surface": {
                "layers": [
                  {
                    "id": "Surface - Track",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max paths-zoom-min (add paths-zoom-offset paths-zoom-tracks-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["track"], true, false],
                      ["!=", ["get", "tunnel"], true],
                      ["!=", ["get", "bridge"], true]
                    ],
                    "layout": {
                      "visibility": "{{paths-tracks-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{paths-track-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        "//{{paths-opacity-l}}//"
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", 1.3],
                        ["zoom"],
                        9,
                        "//{{paths-width-tracks-min-m}}//",
                        13,
                        "//{{multiply paths-width-factor (multiply paths-width-tracks-factor (multiply paths-width-tracks-factor-l 0.1))}}//",
                        19,
                        "//{{multiply paths-width-factor (multiply paths-width-tracks-factor (multiply paths-width-tracks-factor-xl 8))}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Path",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max paths-zoom-min (add paths-zoom-offset paths-zoom-paths-min)}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["{{{paths-category-filter}}}"],
                        true,
                        false
                      ],
                      ["!=", ["get", "tunnel"], true],
                      ["!=", ["get", "bridge"], true]
                    ],
                    "layout": {
                      "visibility": "{{paths-paths-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{paths-path-color}}",
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [0, 0.01]],
                        16,
                        ["literal", [0, 2]]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        "//{{paths-opacity-l}}//"
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", 1.3],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["path"],
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-l 0.1))}}//",
                          "//{{paths-width-paths-min-l}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["path"],
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-xl 2))}}//",
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-xl 2))}}//"
                        ]
                      ]
                    }
                  }
                ]
              },
              "bridge": {
                "layers": [
                  {
                    "id": "Bridge - Track",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max paths-zoom-min (add paths-zoom-offset paths-zoom-tracks-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["track"], true, false],
                      ["==", ["get", "bridge"], true]
                    ],
                    "layout": {
                      "visibility": "{{paths-tracks-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{paths-track-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        "//{{paths-opacity-l}}//"
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", 1.3],
                        ["zoom"],
                        9,
                        "//{{paths-width-tracks-min-m}}//",
                        13,
                        "//{{multiply paths-width-factor (multiply paths-width-tracks-factor (multiply paths-width-tracks-factor-l 0.1))}}//",
                        19,
                        "//{{multiply paths-width-factor (multiply paths-width-tracks-factor (multiply paths-width-tracks-factor-xl 8))}}//"
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Path",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max paths-zoom-min (add paths-zoom-offset paths-zoom-paths-min)}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["{{{paths-category-filter}}}"],
                        true,
                        false
                      ],
                      ["==", ["get", "bridge"], true]
                    ],
                    "layout": {
                      "visibility": "{{paths-paths-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{paths-path-color}}",
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [0, 0.01]],
                        16,
                        ["literal", [0, 2]]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        "//{{paths-opacity-l}}//"
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", 1.3],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["path"],
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-l 0.1))}}//",
                          "//{{paths-width-paths-min-l}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["path"],
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-xl 2))}}//",
                          "//{{multiply paths-width-factor (multiply paths-width-paths-factor (multiply paths-width-paths-factor-xl 2))}}//"
                        ]
                      ]
                    }
                  }
                ]
              },
              "labels": {
                "layers": [
                  {
                    "id": "TransitLabels - Path",
                    "type": "symbol",
                    "metadata": {"group": "road_label"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max paths-zoom-min (add paths-zoom-offset paths-zoom-paths-min)}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["{{{paths-category-filter}}}"],
                        true,
                        false
                      ],
                      [
                        "any",
                        [
                          "all",
                          [">=", ["zoom"], "//{{add paths-zoom-offset 14}}//"],
                          ["!=", ["get", "under_construction"], true],
                          ["==", ["get", "category"], "track"]
                        ],
                        [
                          "all",
                          [">=", ["zoom"], "//{{add paths-zoom-offset 15}}//"],
                          ["!=", ["get", "under_construction"], true],
                          ["==", ["get", "category"], "path"]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{paths-labels-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        250,
                        17,
                        400,
                        22,
                        700
                      ],
                      "text-field": "{name}",
                      "text-font": [
                        "step",
                        ["zoom"],
                        ["literal", ["{{{text-font-regular}}}"]],
                        16,
                        ["literal", ["{{{text-font-medium}}}"]]
                      ],
                      "text-keep-upright": true,
                      "text-letter-spacing": 0.05,
                      "text-pitch-alignment": "viewport",
                      "text-rotation-alignment": "map",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        14,
                        "//{{multiply symbol-size-factor (multiply paths-size-factor (multiply paths-size-factor-l 10))}}//",
                        18,
                        "//{{multiply symbol-size-factor (multiply paths-size-factor (multiply paths-size-factor-xl 12))}}//"
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        14,
                        [
                          "match",
                          ["get", "category"],
                          "track",
                          "{{paths-track-text-color}}",
                          "{{paths-path-text-color}}"
                        ],
                        16,
                        [
                          "match",
                          ["get", "category"],
                          "track",
                          "{{paths-track-text-color}}",
                          "{{paths-path-text-color}}"
                        ]
                      ],
                      "text-halo-color": "{{paths-halo-color}}",
                      "text-halo-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        1,
                        16,
                        1.25,
                        17,
                        1.5
                      ]
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "paths-module-opacity": false,
                "paths-opacity-s": "{{#if (equal paths-module-opacity toggle-true)}}1{{else}}0.3{{/if}}",
                "paths-opacity-m": "{{#if (equal paths-module-opacity toggle-true)}}0.5{{else}}1{{/if}}",
                "paths-opacity-l": "{{#if (equal paths-module-opacity toggle-true)}}0{{else}}1{{/if}}",
                "paths-module-visible": true,
                "paths-tracks-visible": true,
                "paths-paths-visible": true,
                "paths-labels-visible": true,
                "paths-module-visibility": "{{#if (equal paths-module-visible toggle-false)}}none{{else}}visible{{/if}}",
                "paths-tracks-visibility": "{{#if (equal paths-module-visible toggle-false)}}none{{else}}{{#if (equal paths-tracks-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "paths-paths-visibility": "{{#if (equal paths-module-visible toggle-false)}}none{{else}}{{#if (equal paths-paths-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "paths-labels-visibility": "{{#if (equal paths-module-visible toggle-false)}}none{{else}}{{#if (equal paths-labels-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "paths-category-filter": "{{#if (equal paths-tracks-visible toggle-false)}}path{{else}}{{#if (equal paths-paths-visible toggle-false)}}track{{else}}track\", \"path{{/if}}{{/if}}",
                "road-major-minor-factor": "{{minus (getL road-major-derived) (getL road-derived)}}",
                "road-saturation-factor": "{{minus (getS road-major-derived) (getS road-derived)}}",
                "road-outline-factor": "{{minus (getL road-outline-derived) (getL road-derived)}}",
                "road-luminance-factor": "{{minus (getL road-derived) (getL artificial)}}",
                "road-major-color": "{{road-major-derived}}",
                "road-major-outline-color": "{{mixHue road-major-derived 1 (mixSaturation road-major-derived 0.5 (darkenBy (multiply road-outline-factor -0.25) road-outline-derived))}}",
                "road-color": "{{road-derived}}",
                "road-outline-color": "{{road-outline-derived}}",
                "road-street-color": "{{darkenBy (multiply road-major-minor-factor 0.4) road-color}}",
                "road-minor-color": "{{darkenBy (multiply road-luminance-factor 0.2) road-street-color}}",
                "road-pedestrian-color": "{{mixLightness road-outline-color 0.15 road-minor-color}}",
                "paths-track-color": "{{mixLightness road-outline-color 0.05 road-minor-color}}",
                "paths-path-color": "{{darken (multiply artificial-sign 0.1) (darkenBy (multiply artificial-sign 10) road-pedestrian-color)}}",
                "paths-track-tunnel-color": "{{alpha 0.7 (mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 paths-track-color)))}}",
                "paths-path-tunnel-color": "{{alpha 0.7 (mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 paths-path-color)))}}",
                "paths-text-color": "{{label-derived}}",
                "paths-track-text-color": "{{mixSaturation paths-text-color 0.75 (mixLightness paths-text-color 0.80 paths-track-color)}}",
                "paths-path-text-color": "{{mixSaturation paths-text-color 0.75 (mixLightness paths-text-color 0.75 paths-path-color)}}",
                "paths-halo-color": "{{fade 0.25 label-outline-derived}}",
                "paths-width-factor": 1,
                "paths-width-tracks-factor": 1,
                "paths-width-paths-factor": 1,
                "paths-width-tracks-factor-l": 1,
                "paths-width-tracks-factor-xl": 1,
                "paths-width-paths-factor-l": 1,
                "paths-width-paths-factor-xl": 1,
                "paths-width-tracks-min-m": 0,
                "paths-width-paths-min-l": 0,
                "paths-size-factor": 1,
                "paths-size-factor-l": 1,
                "paths-size-factor-xl": 1,
                "paths-zoom-min": 13,
                "paths-zoom-offset": 0,
                "paths-zoom-tracks-min": 13,
                "paths-zoom-paths-min": 14
              }
            }
          },
          "roads": {
            "groups": {
              "areas": {
                "layers": [
                  {
                    "id": "Areas - Pedestrian shadow",
                    "type": "fill",
                    "metadata": {"group": "road_area"},
                    "source": "vectorTiles",
                    "source-layer": "roads_areas",
                    "minzoom": "//{{add roads-zoom-offset 13}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["pedestrian", "path"],
                        true,
                        false
                      ],
                      ["!=", ["get", "tunnel"], true],
                      ["!=", ["get", "bridge"], true]
                    ],
                    "paint": {
                      "fill-color": "{{road-pedestrian-shadow-color}}",
                      "fill-translate-anchor": "viewport",
                      "fill-translate": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        9,
                        ["literal", [0, 0]],
                        16,
                        ["literal", [0.5, 0.5]],
                        17,
                        ["literal", [1, 1]]
                      ]
                    },
                    "layout": {
                      "visibility": "{{roads-areas-shadow-visibility}}"
                    }
                  },
                  {
                    "id": "Areas - Pedestrian",
                    "type": "fill",
                    "metadata": {"group": "road_area"},
                    "source": "vectorTiles",
                    "source-layer": "roads_areas",
                    "minzoom": "//{{add roads-zoom-offset 13}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["pedestrian", "path"],
                        true,
                        false
                      ],
                      ["!=", ["get", "tunnel"], true],
                      ["!=", ["get", "bridge"], true]
                    ],
                    "paint": {"fill-color": "{{road-pedestrian-fill-color}}"},
                    "layout": {"visibility": "{{roads-areas-visibility}}"}
                  },
                  {
                    "id": "Areas - Service road",
                    "type": "fill",
                    "metadata": {"group": "road_area"},
                    "source": "vectorTiles",
                    "source-layer": "roads_areas",
                    "minzoom": "//{{add roads-zoom-offset 12}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["service"], true, false],
                      ["!=", ["get", "tunnel"], true],
                      ["!=", ["get", "bridge"], true]
                    ],
                    "paint": {
                      "fill-outline-color": "{{road-minor-outline-color}}",
                      "fill-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-color}}",
                        "{{road-minor-color}}"
                      ]
                    },
                    "layout": {"visibility": "{{roads-areas-visibility}}"}
                  }
                ]
              },
              "tunnel": {
                "layers": [
                  {
                    "id": "Tunnel - Tarmac outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-tarmac-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "tunnel"], true],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["match", ["get", "access"], ["prohibited"], false, true]
                    ],
                    "layout": {
                      "line-cap": "butt",
                      "line-join": "round",
                      "visibility": "{{roads-tarmac-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-tunnel-color}}",
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "motorway_link"],
                          "{{road-motorway-tunnel-color}}",
                          ["trunk", "trunk_link"],
                          "{{road-trunk-tunnel-color}}",
                          ["primary", "primary_link"],
                          "{{road-primary-tunnel-color}}",
                          [
                            "secondary",
                            "tertiary",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "{{road-secondary-tunnel-color}}",
                          ["street"],
                          "{{road-street-tunnel-color}}",
                          ["pedestrian"],
                          "{{road-pedestrian-tunnel-color}}",
                          ["bus"],
                          "{{road-restricted-tunnel-color}}",
                          "{{road-minor-tunnel-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        ["to-number", "{{{roads-opacity-l}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        [
                          "exponential",
                          "//{{roads-width-tarmac-exponential-base}}//"
                        ],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "+",
                          "//{{roads-width-tarmac-offset-l}}//",
                          [
                            "match",
                            ["get", "category"],
                            ["motorway"],
                            "//{{roads-width-outline-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-outline-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-outline-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-outline-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-outline-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-outline-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-outline-street-l}}//",
                              "//{{roads-width-outline-living_street-l}}//"
                            ],
                            ["pedestrian"],
                            "//{{roads-width-outline-pedestrian-l}}//",
                            [
                              "match",
                              ["get", "subcategory"],
                              ["parking"],
                              "//{{roads-width-outline-parking-l}}//",
                              "//{{roads-width-outline-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Tunnel - Road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      ["==", ["get", "tunnel"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["path", "track"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-outline-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway", "motorway_link"],
                        "{{road-motorway-tunnel-outline-color}}",
                        ["trunk", "trunk_link"],
                        "{{road-trunk-tunnel-outline-color}}",
                        ["primary", "primary_link"],
                        "{{road-primary-tunnel-outline-color}}",
                        [
                          "secondary",
                          "tertiary",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        "{{road-secondary-tunnel-outline-color}}",
                        ["street"],
                        "{{road-street-tunnel-outline-color}}",
                        "{{road-minor-tunnel-outline-color}}"
                      ],
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [0.1, 0.1]],
                        14,
                        ["literal", [0.15, 0.15]]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-xs}}//",
                          "//{{roads-width-outline-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-s}}//",
                            "//{{roads-width-outline-living_street-s}}//"
                          ],
                          "//{{roads-width-outline-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-l}}//",
                            "//{{roads-width-outline-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-outline-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-outline-parking-l}}//",
                            "//{{roads-width-outline-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Tunnel - Road under construction",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      ["==", ["get", "tunnel"], true],
                      ["==", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["path", "track"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-construction-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": "{{road-construction-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-pattern": "under-construction",
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Tunnel - Road line",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      ["==", ["get", "tunnel"], true],
                      ["!=", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["path", "track"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-inline-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-tunnel-color}}",
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "motorway_link"],
                          "{{road-motorway-tunnel-color}}",
                          ["trunk", "trunk_link"],
                          "{{road-trunk-tunnel-color}}",
                          ["primary", "primary_link"],
                          "{{road-primary-tunnel-color}}",
                          [
                            "secondary",
                            "tertiary",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "{{road-secondary-tunnel-color}}",
                          ["street"],
                          "{{road-street-tunnel-color}}",
                          ["pedestrian"],
                          "{{road-pedestrian-tunnel-color}}",
                          ["bus"],
                          "{{road-restricted-tunnel-color}}",
                          "{{road-minor-tunnel-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Tunnel - Restricted road dash",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-restricted-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "access"],
                        ["restricted", "conditional"],
                        true,
                        false
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "tunnel"], true]
                    ],
                    "layout": {
                      "visibility": "{{roads-restricted-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{road-restricted-tunnel-color}}",
                      "line-dasharray": [2, 1.5],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        13,
                        "//{{roads-width-min-m}}//",
                        19,
                        "//{{roads-width-restricted-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Tunnel - Road arrow",
                    "type": "symbol",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-arrows-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["has", "direction"], true],
                      ["==", ["get", "tunnel"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["path", "track", "pedestrian"],
                        false,
                        true
                      ],
                      [
                        "any",
                        [
                          "match",
                          ["get", "category"],
                          ["service"],
                          false,
                          true
                        ],
                        [">=", ["zoom"], 16]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-arrows-visibility}}",
                      "icon-image": [
                        "match",
                        ["get", "direction"],
                        -1,
                        "arrow",
                        1,
                        "arrow-revers",
                        ""
                      ],
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary", "secondary"],
                          1,
                          "tertiary",
                          0.9,
                          "street",
                          0.7,
                          "service",
                          0.5,
                          0.8
                        ],
                        18,
                        1
                      ],
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        100,
                        17,
                        250,
                        22,
                        500
                      ]
                    },
                    "paint": {"icon-opacity": 0.6, "text-opacity": 1}
                  }
                ]
              },
              "surface": {
                "layers": [
                  {
                    "id": "Surface - Tarmac outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-tarmac-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "tunnel"], true],
                      ["!=", ["get", "bridge"], true],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["match", ["get", "access"], ["prohibited"], false, true]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "visibility": "{{roads-tarmac-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-color}}",
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "motorway_link"],
                          "{{road-motorway-color}}",
                          ["trunk", "trunk_link"],
                          "{{road-trunk-color}}",
                          ["primary", "primary_link"],
                          "{{road-primary-color}}",
                          [
                            "secondary",
                            "tertiary",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "{{road-secondary-color}}",
                          ["street"],
                          "{{road-street-color}}",
                          "{{road-minor-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        ["to-number", "{{{roads-opacity-l}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        [
                          "exponential",
                          "//{{roads-width-tarmac-exponential-base}}//"
                        ],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "+",
                          "//{{roads-width-tarmac-offset-l}}//",
                          [
                            "match",
                            ["get", "category"],
                            ["motorway"],
                            "//{{roads-width-outline-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-outline-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-outline-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-outline-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-outline-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-outline-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-outline-street-l}}//",
                              "//{{roads-width-outline-living_street-l}}//"
                            ],
                            ["pedestrian"],
                            "//{{roads-width-outline-pedestrian-l}}//",
                            [
                              "match",
                              ["get", "subcategory"],
                              ["parking"],
                              "//{{roads-width-outline-parking-l}}//",
                              "//{{roads-width-outline-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Minor road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{add roads-zoom-offset 12}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["service", "pedestrian", "bus"],
                        true,
                        false
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["!=", ["get", "bridge"], true],
                      ["!=", ["get", "tunnel"], true]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "visibility": "{{roads-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          "service",
                          "{{road-minor-outline-color-m}}",
                          "{{road-minor-outline-color}}"
                        ],
                        15,
                        [
                          "match",
                          ["get", "category"],
                          "service",
                          "{{road-minor-outline-color}}",
                          "{{road-minor-outline-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        9,
                        "//{{roads-width-outline-min-s}}//",
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["pedestrian"],
                          "//{{roads-width-outline-pedestrian-m}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-outline-parking-m}}//",
                            "//{{roads-width-outline-minor-m}}//"
                          ]
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["pedestrian"],
                          "//{{roads-width-outline-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-outline-parking-l}}//",
                            "//{{roads-width-outline-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Street outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{add roads-zoom-offset 11}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["street"], true, false],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      ["!=", ["get", "tunnel"], true]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "visibility": "{{roads-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        10,
                        "{{road-street-outline-color-m}}",
                        15,
                        "{{road-street-outline-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        11,
                        0,
                        12,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        9,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["residential", "unclassified"],
                          "//{{roads-width-outline-street-s}}//",
                          "//{{roads-width-outline-living_street-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["residential", "unclassified"],
                          "//{{roads-width-outline-street-m}}//",
                          "//{{roads-width-outline-living_street-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["residential", "unclassified"],
                          "//{{roads-width-outline-street-l}}//",
                          "//{{roads-width-outline-living_street-l}}//"
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Link road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        [
                          "motorway_link",
                          "trunk_link",
                          "primary_link",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        true,
                        false
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "visibility": "{{roads-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway_link"],
                        "{{road-motorway-outline-color}}",
                        ["trunk_link"],
                        "{{road-trunk-outline-color}}",
                        ["primary_link"],
                        "{{road-primary-outline-color}}",
                        "{{road-secondary-outline-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        "//{{roads-width-outline-min-xs}}//",
                        9,
                        "//{{roads-width-outline-link-s}}//",
                        13,
                        "//{{roads-width-outline-link-m}}//",
                        19,
                        "//{{roads-width-outline-link-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Tertiary road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{add roads-zoom-offset 10}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["tertiary"], true, false],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "visibility": "{{roads-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": "{{road-tertiary-outline-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        9,
                        "//{{roads-width-outline-tertiary-s}}//",
                        13,
                        "//{{roads-width-outline-tertiary-m}}//",
                        19,
                        "//{{roads-width-outline-tertiary-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Secondary road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{add roads-zoom-offset 8}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["secondary"],
                        true,
                        false
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "visibility": "{{roads-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": "{{road-secondary-outline-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        "//{{roads-width-outline-min-xs}}//",
                        9,
                        "//{{roads-width-outline-secondary-s}}//",
                        13,
                        "//{{roads-width-outline-secondary-m}}//",
                        19,
                        "//{{roads-width-outline-secondary-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Primary road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max roads-zoom-min roads-zoom-outline-min}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["primary"], true, false],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "visibility": "{{roads-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": "{{road-primary-outline-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        "//{{roads-width-outline-min-xs}}//",
                        9,
                        "//{{roads-width-outline-primary-s}}//",
                        13,
                        "//{{roads-width-outline-primary-m}}//",
                        19,
                        "//{{roads-width-outline-primary-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Motorway & Trunk outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max roads-zoom-min roads-zoom-outline-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["motorway", "trunk"],
                        true,
                        false
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "visibility": "{{roads-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        "motorway",
                        "{{road-motorway-outline-color}}",
                        "trunk",
                        "{{road-trunk-outline-color}}",
                        "{{transparent}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-xs}}//",
                          "//{{roads-width-outline-trunk-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-s}}//",
                          "//{{roads-width-outline-trunk-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          "//{{roads-width-outline-trunk-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-l}}//",
                          "//{{roads-width-outline-trunk-l}}//"
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Turning Feature",
                    "type": "symbol",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads_points",
                    "layout": {
                      "icon-image": "{{road-turning-icon}}",
                      "icon-size": [
                        "interpolate",
                        ["exponential", 1.3],
                        ["zoom"],
                        13,
                        0.25,
                        19,
                        1.75
                      ],
                      "icon-allow-overlap": true,
                      "icon-ignore-placement": true,
                      "icon-pitch-alignment": "map",
                      "visibility": "{{roads-turning_feature-visibility}}"
                    }
                  },
                  {
                    "id": "Surface - Road under construction",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "under_construction"], true],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 13]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ],
                      "visibility": "{{roads-construction-visibility}}"
                    },
                    "paint": {
                      "line-color": "{{road-construction-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-pattern": "under-construction",
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Minor road",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{add roads-zoom-offset 12}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["service", "pedestrian", "bus"],
                        true,
                        false
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["!=", ["get", "tunnel"], true]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ],
                      "visibility": "{{roads-inline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        "pedestrian",
                        "{{road-pedestrian-color}}",
                        "bus",
                        "{{road-restricted-color}}",
                        [
                          "match",
                          ["get", "access"],
                          "prohibited",
                          "{{road-restricted-color}}",
                          "{{road-minor-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        9,
                        "//{{roads-width-min-s}}//",
                        13,
                        "//{{roads-width-minor-m}}//",
                        19,
                        [
                          "match",
                          ["get", "category"],
                          "pedestrian",
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Street",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{add roads-zoom-offset 11}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["street"], true, false],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      ["!=", ["get", "tunnel"], true],
                      ["!=", ["get", "under_construction"], true]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ],
                      "visibility": "{{roads-inline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        11,
                        "{{road-street-color-m}}",
                        12,
                        [
                          "match",
                          ["get", "access"],
                          "prohibited",
                          "{{road-restricted-color}}",
                          "{{road-street-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        9,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["residential", "unclassified"],
                          "//{{roads-width-street-s}}//",
                          "//{{roads-width-living_street-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["residential", "unclassified"],
                          "//{{roads-width-street-m}}//",
                          "//{{roads-width-living_street-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["residential", "unclassified"],
                          "//{{roads-width-street-l}}//",
                          "//{{roads-width-living_street-l}}//"
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Link road",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        [
                          "motorway_link",
                          "trunk_link",
                          "primary_link",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        true,
                        false
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ],
                      ["!=", ["get", "under_construction"], true]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ],
                      "visibility": "{{roads-inline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-color}}",
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "motorway_link"],
                          "{{road-motorway-color}}",
                          ["trunk", "trunk_link"],
                          "{{road-trunk-color}}",
                          ["primary", "primary_link"],
                          "{{road-primary-color}}",
                          "{{road-secondary-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        "//{{roads-width-min-xs}}//",
                        9,
                        "//{{roads-width-link-s}}//",
                        13,
                        "//{{roads-width-link-m}}//",
                        19,
                        "//{{roads-width-link-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Tertiary road",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{add roads-zoom-offset 10}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["tertiary"], true, false],
                      ["!=", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ],
                      "visibility": "{{roads-inline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-color}}",
                        "{{road-tertiary-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        9,
                        "//{{roads-width-tertiary-s}}//",
                        13,
                        "//{{roads-width-tertiary-m}}//",
                        19,
                        "//{{roads-width-tertiary-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Secondary road",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{add roads-zoom-offset 8}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["secondary"],
                        true,
                        false
                      ],
                      ["!=", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ],
                      "visibility": "{{roads-inline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-color}}",
                        "{{road-secondary-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        "//{{roads-width-min-xs}}//",
                        9,
                        "//{{roads-width-secondary-s}}//",
                        13,
                        "//{{roads-width-secondary-m}}//",
                        19,
                        "//{{roads-width-secondary-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Major road small scale outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max roads-zoom-min roads-zoom-outline-min}}//",
                    "maxzoom": 12,
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["motorway", "primary", "trunk"],
                        true,
                        false
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["!=", ["get", "tunnel"], true],
                      ["!=", ["get", "under_construction"], true]
                    ],
                    "layout": {
                      "line-cap": "butt",
                      "line-join": "round",
                      "visibility": "{{roads-outline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway"],
                        "{{road-motorway-outline-color}}",
                        ["trunk"],
                        "{{road-trunk-outline-color}}",
                        ["primary"],
                        "{{road-primary-outline-color}}",
                        ["secondary", "tertiary"],
                        "{{road-secondary-outline-color}}",
                        ["street"],
                        "{{road-street-outline-color}}",
                        "{{road-minor-outline-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        11,
                        1,
                        12,
                        0
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-xs}}//",
                          "//{{roads-width-outline-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-s}}//",
                            "//{{roads-width-outline-living_street-s}}//"
                          ],
                          "//{{roads-width-outline-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Primary road",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-min}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["primary"], true, false],
                      ["!=", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ],
                      "visibility": "{{roads-inline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        5,
                        "{{road-primary-color-s}}",
                        9,
                        [
                          "match",
                          ["get", "access"],
                          "prohibited",
                          "{{road-restricted-color}}",
                          "{{road-primary-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        "//{{roads-width-primary-xs}}//",
                        9,
                        "//{{roads-width-primary-s}}//",
                        13,
                        "//{{roads-width-primary-m}}//",
                        19,
                        "//{{roads-width-primary-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Motorway & Trunk",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "category"],
                        ["motorway", "trunk"],
                        true,
                        false
                      ],
                      ["!=", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        ["!=", ["get", "bridge"], true],
                        ["<", ["zoom"], 12]
                      ],
                      [
                        "any",
                        ["!=", ["get", "tunnel"], true],
                        ["<", ["zoom"], 12]
                      ]
                    ],
                    "layout": {
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ],
                      "visibility": "{{roads-inline-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          "motorway",
                          "{{road-motorway-color-s}}",
                          "trunk",
                          "{{road-trunk-color-s}}",
                          "{{transparent}}"
                        ],
                        9,
                        [
                          "match",
                          ["get", "access"],
                          "prohibited",
                          "{{road-restricted-color}}",
                          [
                            "match",
                            ["get", "category"],
                            "motorway",
                            "{{road-motorway-color}}",
                            "trunk",
                            "{{road-trunk-color}}",
                            "{{transparent}}"
                          ]
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          "//{{roads-width-trunk-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          "//{{roads-width-trunk-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          "//{{roads-width-trunk-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          "//{{roads-width-trunk-l}}//"
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Restricted road dash",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-restricted-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "access"],
                        ["restricted", "conditional"],
                        true,
                        false
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["!=", ["get", "tunnel"], true]
                    ],
                    "layout": {
                      "line-cap": "butt",
                      "line-join": "round",
                      "visibility": "{{roads-restricted-visibility}}"
                    },
                    "paint": {
                      "line-color": "{{road-restricted-color}}",
                      "line-dasharray": [2, 1.5],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        13,
                        "//{{roads-width-min-m}}//",
                        19,
                        "//{{roads-width-restricted-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Surface - Road arrow",
                    "type": "symbol",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-arrows-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["has", "direction"], true],
                      ["!=", ["get", "bridge"], true],
                      ["!=", ["get", "tunnel"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["path", "track", "pedestrian"],
                        false,
                        true
                      ],
                      [
                        "any",
                        [
                          "match",
                          ["get", "category"],
                          ["service"],
                          false,
                          true
                        ],
                        [">=", ["zoom"], 16]
                      ]
                    ],
                    "layout": {
                      "icon-image": [
                        "match",
                        ["get", "direction"],
                        -1,
                        "arrow",
                        1,
                        "arrow-revers",
                        ""
                      ],
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary", "secondary"],
                          1,
                          "tertiary",
                          0.9,
                          "street",
                          0.7,
                          "service",
                          0.5,
                          0.8
                        ],
                        18,
                        1
                      ],
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        100,
                        17,
                        250,
                        22,
                        500
                      ],
                      "visibility": "{{roads-arrows-visibility}}"
                    },
                    "paint": {"icon-opacity": 0.8, "text-opacity": 1}
                  }
                ]
              },
              "bridge": {
                "layers": [
                  {
                    "id": "Bridge - Z1 Tarmac outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-tarmac-min}}//",
                    "filter": [
                      "all",
                      [
                        "all",
                        ["==", ["get", "bridge"], true],
                        [
                          "any",
                          ["==", ["get", "z_level"], 1],
                          ["==", ["has", "z_level"], false]
                        ]
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      ["match", ["get", "access"], ["prohibited"], false, true]
                    ],
                    "layout": {
                      "line-cap": "butt",
                      "line-join": "round",
                      "visibility": "{{roads-tarmac-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway", "motorway_link"],
                        "{{road-motorway-bridge-color}}",
                        ["trunk", "trunk_link"],
                        "{{road-trunk-bridge-color}}",
                        ["primary", "primary_link"],
                        "{{road-primary-bridge-color}}",
                        [
                          "secondary",
                          "tertiary",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        "{{road-secondary-bridge-color}}",
                        ["street"],
                        "{{road-street-bridge-color}}",
                        "{{road-minor-bridge-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        ["to-number", "{{{roads-opacity-l}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        [
                          "exponential",
                          "//{{roads-width-tarmac-exponential-base}}//"
                        ],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "+",
                          "//{{roads-width-tarmac-offset-l}}//",
                          [
                            "match",
                            ["get", "category"],
                            ["motorway"],
                            "//{{roads-width-outline-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-outline-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-outline-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-outline-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-outline-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-outline-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-outline-street-l}}//",
                              "//{{roads-width-outline-living_street-l}}//"
                            ],
                            ["pedestrian"],
                            "//{{roads-width-outline-pedestrian-l}}//",
                            [
                              "match",
                              ["get", "subcategory"],
                              ["parking"],
                              "//{{roads-width-outline-parking-l}}//",
                              "//{{roads-width-outline-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Z1 Road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      [
                        "all",
                        ["==", ["get", "bridge"], true],
                        [
                          "any",
                          ["==", ["get", "z_level"], 1],
                          ["==", ["has", "z_level"], false]
                        ]
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-outline-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway", "motorway_link"],
                        "{{road-motorway-bridge-outline-color}}",
                        ["trunk", "trunk_link"],
                        "{{road-trunk-bridge-outline-color}}",
                        ["primary", "primary_link"],
                        "{{road-primary-bridge-outline-color}}",
                        [
                          "secondary",
                          "tertiary",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        "{{road-secondary-bridge-outline-color}}",
                        ["street"],
                        "{{road-street-bridge-outline-color}}",
                        "{{road-minor-bridge-outline-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-xs}}//",
                          "//{{roads-width-outline-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-s}}//",
                            "//{{roads-width-outline-living_street-s}}//"
                          ],
                          "//{{roads-width-outline-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-l}}//",
                            "//{{roads-width-outline-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-outline-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-outline-parking-l}}//",
                            "//{{roads-width-outline-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Z1 Road under construction",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      ["==", ["get", "under_construction"], true],
                      [
                        "all",
                        ["==", ["get", "bridge"], true],
                        [
                          "any",
                          ["==", ["get", "z_level"], 1],
                          ["==", ["has", "z_level"], false]
                        ]
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-construction-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": "{{road-construction-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-pattern": "under-construction",
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Z1 Road line",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      [
                        "all",
                        ["==", ["get", "bridge"], true],
                        [
                          "any",
                          ["==", ["get", "z_level"], 1],
                          ["==", ["has", "z_level"], false]
                        ]
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ],
                      ["!=", ["get", "under_construction"], true]
                    ],
                    "layout": {
                      "visibility": "{{roads-inline-visibility}}",
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-bridge-color}}",
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "motorway_link"],
                          "{{road-motorway-bridge-color}}",
                          ["trunk", "trunk_link"],
                          "{{road-trunk-bridge-color}}",
                          ["primary", "primary_link"],
                          "{{road-primary-bridge-color}}",
                          [
                            "secondary",
                            "tertiary",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "{{road-secondary-bridge-color}}",
                          ["street"],
                          "{{road-street-bridge-color}}",
                          ["pedestrian"],
                          "{{road-pedestrian-bridge-color}}",
                          ["bus"],
                          "{{road-restricted-bridge-color}}",
                          "{{road-minor-bridge-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Z1 Restricted road dash",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-restricted-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "access"],
                        ["restricted", "conditional"],
                        true,
                        false
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["!=", ["get", "under_construction"], true],
                      [
                        "all",
                        ["==", ["get", "bridge"], true],
                        [
                          "any",
                          ["==", ["get", "z_level"], 1],
                          ["==", ["has", "z_level"], false]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-restricted-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{road-restricted-color}}",
                      "line-dasharray": [2, 1.5],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        13,
                        "//{{roads-width-min-m}}//",
                        19,
                        "//{{roads-width-restricted-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Z2 Tarmac outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-tarmac-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "z_level"], 2],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["match", ["get", "access"], ["prohibited"], false, true]
                    ],
                    "layout": {
                      "line-cap": "butt",
                      "line-join": "round",
                      "visibility": "{{roads-tarmac-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway", "motorway_link"],
                        "{{road-motorway-bridge-color}}",
                        ["trunk", "trunk_link"],
                        "{{road-trunk-bridge-color}}",
                        ["primary", "primary_link"],
                        "{{road-primary-bridge-color}}",
                        [
                          "secondary",
                          "tertiary",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        "{{road-secondary-bridge-color}}",
                        ["street"],
                        "{{road-street-bridge-color}}",
                        "{{road-minor-bridge-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        ["to-number", "{{{roads-opacity-l}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        [
                          "exponential",
                          "//{{roads-width-tarmac-exponential-base}}//"
                        ],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "+",
                          "//{{roads-width-tarmac-offset-l}}//",
                          [
                            "match",
                            ["get", "category"],
                            ["motorway"],
                            "//{{roads-width-outline-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-outline-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-outline-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-outline-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-outline-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-outline-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-outline-street-l}}//",
                              "//{{roads-width-outline-living_street-l}}//"
                            ],
                            ["pedestrian"],
                            "//{{roads-width-outline-pedestrian-l}}//",
                            [
                              "match",
                              ["get", "subcategory"],
                              ["parking"],
                              "//{{roads-width-outline-parking-l}}//",
                              "//{{roads-width-outline-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge  - Z2 Road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      ["==", ["get", "z_level"], 2],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-outline-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway", "motorway_link"],
                        "{{road-motorway-bridge-outline-color}}",
                        ["trunk", "trunk_link"],
                        "{{road-trunk-bridge-outline-color}}",
                        ["primary", "primary_link"],
                        "{{road-primary-bridge-outline-color}}",
                        [
                          "secondary",
                          "tertiary",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        "{{road-secondary-bridge-outline-color}}",
                        ["street"],
                        "{{road-street-bridge-outline-color}}",
                        "{{road-minor-bridge-outline-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-xs}}//",
                          "//{{roads-width-outline-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-s}}//",
                            "//{{roads-width-outline-living_street-s}}//"
                          ],
                          "//{{roads-width-outline-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-l}}//",
                            "//{{roads-width-outline-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-outline-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-outline-parking-l}}//",
                            "//{{roads-width-outline-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge  - Z2 Road under construction",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      ["==", ["get", "z_level"], 2],
                      ["==", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-construction-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": "{{road-construction-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-pattern": "under-construction",
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge  - Z2 Road line",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      ["==", ["get", "z_level"], 2],
                      ["!=", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-inline-visibility}}",
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-bridge-color}}",
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "motorway_link"],
                          "{{road-motorway-bridge-color}}",
                          ["trunk", "trunk_link"],
                          "{{road-trunk-bridge-color}}",
                          ["primary", "primary_link"],
                          "{{road-primary-bridge-color}}",
                          [
                            "secondary",
                            "tertiary",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "{{road-secondary-bridge-color}}",
                          ["street"],
                          "{{road-street-bridge-color}}",
                          ["pedestrian"],
                          "{{road-pedestrian-bridge-color}}",
                          ["bus"],
                          "{{road-restricted-bridge-color}}",
                          "{{road-minor-bridge-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Z2 Restricted road dash",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-restricted-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "access"],
                        ["restricted", "conditional"],
                        true,
                        false
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "z_level"], 2]
                    ],
                    "layout": {
                      "visibility": "{{roads-restricted-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{road-restricted-color}}",
                      "line-dasharray": [2, 1.5],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        13,
                        "//{{roads-width-min-m}}//",
                        19,
                        "//{{roads-width-restricted-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Z3+ Tarmac outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-tarmac-min}}//",
                    "filter": [
                      "all",
                      [">=", ["get", "z_level"], 3],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["match", ["get", "access"], ["prohibited"], false, true]
                    ],
                    "layout": {
                      "line-cap": "butt",
                      "line-join": "round",
                      "visibility": "{{roads-tarmac-visibility}}"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway", "motorway_link"],
                        "{{road-motorway-bridge-color}}",
                        ["trunk", "trunk_link"],
                        "{{road-trunk-bridge-color}}",
                        ["primary", "primary_link"],
                        "{{road-primary-bridge-color}}",
                        [
                          "secondary",
                          "tertiary",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        "{{road-secondary-bridge-color}}",
                        ["street"],
                        "{{road-street-bridge-color}}",
                        "{{road-minor-bridge-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        ["to-number", "{{{roads-opacity-l}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        [
                          "exponential",
                          "//{{roads-width-tarmac-exponential-base}}//"
                        ],
                        ["zoom"],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "+",
                          "//{{roads-width-tarmac-offset-l}}//",
                          [
                            "match",
                            ["get", "category"],
                            ["motorway"],
                            "//{{roads-width-outline-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-outline-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-outline-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-outline-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-outline-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-outline-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-outline-street-l}}//",
                              "//{{roads-width-outline-living_street-l}}//"
                            ],
                            ["pedestrian"],
                            "//{{roads-width-outline-pedestrian-l}}//",
                            [
                              "match",
                              ["get", "subcategory"],
                              ["parking"],
                              "//{{roads-width-outline-parking-l}}//",
                              "//{{roads-width-outline-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge  - Z3+ Road outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      [">=", ["get", "z_level"], 3],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-outline-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "category"],
                        ["motorway", "motorway_link"],
                        "{{road-motorway-bridge-outline-color}}",
                        ["trunk", "trunk_link"],
                        "{{road-trunk-bridge-outline-color}}",
                        ["primary", "primary_link"],
                        "{{road-primary-bridge-outline-color}}",
                        [
                          "secondary",
                          "tertiary",
                          "secondary_link",
                          "tertiary_link"
                        ],
                        "{{road-secondary-bridge-outline-color}}",
                        ["street"],
                        "{{road-street-bridge-outline-color}}",
                        "{{road-minor-bridge-outline-color}}"
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        9,
                        1,
                        13,
                        ["to-number", "{{{roads-opacity-m}}}"],
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-xs}}//",
                          "//{{roads-width-outline-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-s}}//",
                            "//{{roads-width-outline-living_street-s}}//"
                          ],
                          "//{{roads-width-outline-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-m}}//",
                            "//{{roads-width-outline-living_street-m}}//"
                          ],
                          "//{{roads-width-outline-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-outline-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-outline-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-outline-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-outline-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-outline-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-outline-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-outline-street-l}}//",
                            "//{{roads-width-outline-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-outline-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-outline-parking-l}}//",
                            "//{{roads-width-outline-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge  - Z3+ Road under construction",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      [">=", ["get", "z_level"], 3],
                      ["==", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-construction-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": "{{road-construction-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-pattern": "under-construction",
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge  - Z3+ Road line",
                    "type": "line",
                    "metadata": {
                      "group": "road",
                      "tomtom:material": "{{roads-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 12,
                    "filter": [
                      "all",
                      [">=", ["get", "z_level"], 3],
                      ["!=", ["get", "under_construction"], true],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-inline-visibility}}",
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{road-restricted-bridge-color}}",
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "motorway_link"],
                          "{{road-motorway-bridge-color}}",
                          ["trunk", "trunk_link"],
                          "{{road-trunk-bridge-color}}",
                          ["primary", "primary_link"],
                          "{{road-primary-bridge-color}}",
                          [
                            "secondary",
                            "tertiary",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "{{road-secondary-bridge-color}}",
                          ["street"],
                          "{{road-street-bridge-color}}",
                          ["pedestrian"],
                          "{{road-pedestrian-bridge-color}}",
                          ["bus"],
                          "{{road-restricted-bridge-color}}",
                          "{{road-minor-bridge-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Z3+ Restricted road dash",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-restricted-min}}//",
                    "filter": [
                      "all",
                      [
                        "match",
                        ["get", "access"],
                        ["restricted", "conditional"],
                        true,
                        false
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["bus", "pedestrian", "path", "track"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      ["!=", ["get", "under_construction"], true],
                      [">=", ["get", "z_level"], 3]
                    ],
                    "layout": {
                      "visibility": "{{roads-restricted-visibility}}",
                      "line-cap": "butt",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{road-restricted-color}}",
                      "line-dasharray": [2, 1.5],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1],
                        ["zoom"],
                        13,
                        1,
                        16,
                        ["to-number", "{{{roads-opacity-l}}}"]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        13,
                        "//{{roads-width-min-m}}//",
                        19,
                        "//{{roads-width-restricted-l}}//"
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Road arrow",
                    "type": "symbol",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-arrows-min}}//",
                    "filter": [
                      "all",
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["has", "direction"], true],
                      [
                        "any",
                        [">=", ["get", "z_level"], 1],
                        ["==", ["get", "bridge"], true]
                      ],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["path", "track", "pedestrian"],
                        false,
                        true
                      ],
                      [
                        "any",
                        [
                          "match",
                          ["get", "category"],
                          ["service"],
                          false,
                          true
                        ],
                        [">=", ["zoom"], 16]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-arrows-visibility}}",
                      "icon-image": [
                        "match",
                        ["get", "direction"],
                        -1,
                        "arrow",
                        1,
                        "arrow-revers",
                        ""
                      ],
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary", "secondary"],
                          1,
                          "tertiary",
                          0.9,
                          "street",
                          0.7,
                          "service",
                          0.5,
                          0.8
                        ],
                        18,
                        1
                      ],
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        100,
                        17,
                        250,
                        22,
                        500
                      ]
                    },
                    "paint": {"icon-opacity": 0.8, "text-opacity": 1}
                  }
                ]
              },
              "occlusion": {
                "layers": [
                  {
                    "id": "AntiOcclusion - Roads",
                    "type": "line",
                    "metadata": {
                      "group": "anti_occlusion",
                      "tomtom:material": "{{roads-anti_occlusion-material}}"
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": 15,
                    "filter": [
                      "all",
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["track", "path"],
                        false,
                        true
                      ],
                      ["!=", ["get", "under_construction"], true]
                    ],
                    "layout": {
                      "visibility": "{{roads-occlusion-visibility}}",
                      "line-cap": "round",
                      "line-join": "round",
                      "line-sort-key": [
                        "-",
                        20,
                        [
                          "case",
                          ["==", ["get", "category"], "motorway"],
                          1,
                          ["==", ["get", "category"], "trunk"],
                          2,
                          ["==", ["get", "category"], "primary"],
                          3,
                          ["==", ["get", "category"], "motorway_link"],
                          9.8,
                          ["==", ["get", "category"], "trunk_link"],
                          9.9,
                          ["==", ["get", "category"], "pedestrian"],
                          14,
                          ["==", ["get", "category"], "bus"],
                          15,
                          ["==", ["get", "access"], "prohibited"],
                          16,
                          ["get", "display_class"]
                        ]
                      ]
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "access"],
                        "prohibited",
                        "{{darken 0.25 road-restricted-color}}",
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "motorway_link"],
                          "{{darken 0.25 road-motorway-color}}",
                          ["trunk", "trunk_link"],
                          "{{darken 0.25 road-trunk-color}}",
                          ["primary", "primary_link"],
                          "{{darken 0.25 road-primary-color}}",
                          [
                            "secondary",
                            "tertiary",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "{{darken 0.25 road-secondary-color}}",
                          ["street"],
                          "{{darken 0.25 road-street-color}}",
                          ["pedestrian"],
                          "{{darken 0.25 road-pedestrian-color}}",
                          ["bus"],
                          "{{darken 0.25 road-restricted-color}}",
                          "{{darken 0.25 road-minor-color}}"
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        15,
                        0,
                        15.5,
                        0.15
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-xs}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-xs}}//",
                          "//{{roads-width-min-xs}}//"
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-s}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-s}}//",
                          ["primary"],
                          "//{{roads-width-primary-s}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-s}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-s}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-s}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-s}}//",
                            "//{{roads-width-living_street-s}}//"
                          ],
                          "//{{roads-width-min-s}}//"
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-m}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-m}}//",
                          ["primary"],
                          "//{{roads-width-primary-m}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-m}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-m}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-m}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-m}}//",
                            "//{{roads-width-living_street-m}}//"
                          ],
                          "//{{roads-width-min-m}}//"
                        ],
                        19,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          "//{{roads-width-motorway-l}}//",
                          ["trunk"],
                          "//{{roads-width-trunk-l}}//",
                          ["primary"],
                          "//{{roads-width-primary-l}}//",
                          ["secondary"],
                          "//{{roads-width-secondary-l}}//",
                          ["tertiary"],
                          "//{{roads-width-tertiary-l}}//",
                          [
                            "motorway_link",
                            "trunk_link",
                            "primary_link",
                            "secondary_link",
                            "tertiary_link"
                          ],
                          "//{{roads-width-link-l}}//",
                          ["street"],
                          [
                            "match",
                            ["get", "subcategory"],
                            ["residential", "unclassified"],
                            "//{{roads-width-street-l}}//",
                            "//{{roads-width-living_street-l}}//"
                          ],
                          ["pedestrian"],
                          "//{{roads-width-pedestrian-l}}//",
                          [
                            "match",
                            ["get", "subcategory"],
                            ["parking"],
                            "//{{roads-width-parking-l}}//",
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  }
                ]
              },
              "labels": {
                "layers": [
                  {
                    "id": "TransitLabels - Road",
                    "type": "symbol",
                    "metadata": {"group": "road_label"},
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{roads-zoom-labels-min}}//",
                    "filter": [
                      "all",
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add roads-zoom-labels-offset 10}}//"
                          ],
                          ["!=", ["get", "under_construction"], true],
                          [
                            "any",
                            ["==", ["get", "category"], "motorway"],
                            ["==", ["get", "category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add roads-zoom-labels-offset 11}}//"
                          ],
                          ["!=", ["get", "under_construction"], true],
                          [
                            "any",
                            ["==", ["get", "category"], "primary"],
                            ["==", ["get", "category"], "secondary"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add roads-zoom-labels-offset 12}}//"
                          ],
                          ["!=", ["get", "under_construction"], true],
                          [
                            "any",
                            ["==", ["get", "category"], "tertiary"],
                            ["==", ["get", "category"], "street"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add roads-zoom-labels-offset 14}}//"
                          ],
                          ["!=", ["get", "under_construction"], true],
                          ["any", ["==", ["get", "category"], "pedestrian"]]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add roads-zoom-labels-offset 15}}//"
                          ],
                          ["!=", ["get", "under_construction"], true],
                          ["any", ["==", ["get", "category"], "service"]]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-labels-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        250,
                        17,
                        400,
                        22,
                        700
                      ],
                      "text-field": "{name}",
                      "text-font": [
                        "step",
                        ["zoom"],
                        ["literal", ["{{{text-font-regular}}}"]],
                        16,
                        ["literal", ["{{{text-font-medium}}}"]]
                      ],
                      "text-keep-upright": true,
                      "text-letter-spacing": 0.05,
                      "text-pitch-alignment": "viewport",
                      "text-rotation-alignment": "map",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary"],
                          "//{{roads-size-labels-major-m}}//",
                          ["secondary", "tertiary"],
                          "//{{roads-size-labels-secondary-m}}//",
                          ["street"],
                          "//{{roads-size-labels-local-m}}//",
                          "//{{roads-size-labels-minor-m}}//"
                        ],
                        18,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary"],
                          "//{{roads-size-labels-major-l}}//",
                          ["secondary", "tertiary"],
                          "//{{roads-size-labels-secondary-l}}//",
                          ["street"],
                          "//{{roads-size-labels-local-l}}//",
                          "//{{roads-size-labels-minor-l}}//"
                        ]
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "match",
                        ["get", "category"],
                        "motorway",
                        "{{road-motorway-text-color}}",
                        "trunk",
                        "{{road-trunk-text-color}}",
                        "primary",
                        "{{road-primary-text-color}}",
                        "secondary",
                        "{{road-secondary-text-color}}",
                        "{{road-street-text-color}}"
                      ],
                      "text-halo-color": "{{road-halo-color}}",
                      "text-halo-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        1,
                        16,
                        1.25,
                        17,
                        1.5
                      ]
                    }
                  },
                  {
                    "id": "TransitLabels - Route Shield 4",
                    "type": "symbol",
                    "metadata": {
                      "group": "road_label",
                      "tomtom:roadshield-duplicate-min-distance": 200
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max roads-zoom-shields-min 10}}//",
                    "filter": [
                      "all",
                      ["has", "route_shield_icon_3"],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          true,
                          false
                        ],
                        8,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk"],
                          true,
                          false
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary"],
                          true,
                          false
                        ],
                        11,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary", "secondary"],
                          true,
                          false
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          [
                            "motorway",
                            "trunk",
                            "primary",
                            "secondary",
                            "tertiary"
                          ],
                          true,
                          false
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-shields-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": 800,
                      "text-field": "{route_shield_text_3}",
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-keep-upright": true,
                      "text-pitch-alignment": "viewport",
                      "text-rotation-alignment": "viewport",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{roads-size-shields-s}}//",
                        12,
                        "//{{roads-size-shields-m}}//"
                      ],
                      "icon-image": "{route_shield_icon_3}",
                      "icon-pitch-alignment": "viewport",
                      "icon-rotation-alignment": "viewport",
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{roads-size-shields-icon-s}}//",
                        12,
                        "//{{roads-size-shields-icon-m}}//"
                      ],
                      "icon-padding": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        9,
                        15,
                        13,
                        5
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "match",
                        ["get", "route_shield_text_color_3"],
                        "white",
                        "{{road-shield-white-text-color}}",
                        "grey1",
                        "{{road-shield-grey1-text-color}}",
                        "grey2",
                        "{{road-shield-grey2-text-color}}",
                        "black",
                        "{{road-shield-black-text-color}}",
                        "yellow1",
                        "{{road-shield-yellow1-text-color}}",
                        "yellow2",
                        "{{road-shield-yellow2-text-color}}",
                        "yellow3",
                        "{{road-shield-yellow3-text-color}}",
                        "orange",
                        "{{road-shield-orange-text-color}}",
                        "red",
                        "{{road-shield-red-text-color}}",
                        "green1",
                        "{{road-shield-green1-text-color}}",
                        "green2",
                        "{{road-shield-green2-text-color}}",
                        "green3",
                        "{{road-shield-green3-text-color}}",
                        "blue1",
                        "{{road-shield-blue1-text-color}}",
                        "blue2",
                        "{{road-shield-blue2-text-color}}",
                        "blue3",
                        "{{road-shield-blue3-text-color}}",
                        "{{road-shield-text-color}}"
                      ]
                    }
                  },
                  {
                    "id": "TransitLabels - Route Shield 3",
                    "type": "symbol",
                    "metadata": {
                      "group": "road_label",
                      "tomtom:roadshield-duplicate-min-distance": 200
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max roads-zoom-shields-min 9}}//",
                    "filter": [
                      "all",
                      ["has", "route_shield_icon_2"],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          true,
                          false
                        ],
                        8,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk"],
                          true,
                          false
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary"],
                          true,
                          false
                        ],
                        11,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary", "secondary"],
                          true,
                          false
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          [
                            "motorway",
                            "trunk",
                            "primary",
                            "secondary",
                            "tertiary"
                          ],
                          true,
                          false
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-shields-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": 700,
                      "text-field": "{route_shield_text_2}",
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-keep-upright": true,
                      "text-pitch-alignment": "viewport",
                      "text-rotation-alignment": "viewport",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{roads-size-shields-s}}//",
                        12,
                        "//{{roads-size-shields-m}}//"
                      ],
                      "icon-image": "{route_shield_icon_2}",
                      "icon-pitch-alignment": "viewport",
                      "icon-rotation-alignment": "viewport",
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{roads-size-shields-icon-s}}//",
                        12,
                        "//{{roads-size-shields-icon-m}}//"
                      ],
                      "icon-padding": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        9,
                        15,
                        13,
                        5
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "match",
                        ["get", "route_shield_text_color_2"],
                        "white",
                        "{{road-shield-white-text-color}}",
                        "grey1",
                        "{{road-shield-grey1-text-color}}",
                        "grey2",
                        "{{road-shield-grey2-text-color}}",
                        "black",
                        "{{road-shield-black-text-color}}",
                        "yellow1",
                        "{{road-shield-yellow1-text-color}}",
                        "yellow2",
                        "{{road-shield-yellow2-text-color}}",
                        "yellow3",
                        "{{road-shield-yellow3-text-color}}",
                        "orange",
                        "{{road-shield-orange-text-color}}",
                        "red",
                        "{{road-shield-red-text-color}}",
                        "green1",
                        "{{road-shield-green1-text-color}}",
                        "green2",
                        "{{road-shield-green2-text-color}}",
                        "green3",
                        "{{road-shield-green3-text-color}}",
                        "blue1",
                        "{{road-shield-blue1-text-color}}",
                        "blue2",
                        "{{road-shield-blue2-text-color}}",
                        "blue3",
                        "{{road-shield-blue3-text-color}}",
                        "{{road-shield-text-color}}"
                      ]
                    }
                  },
                  {
                    "id": "TransitLabels - Route Shield 2",
                    "type": "symbol",
                    "metadata": {
                      "group": "road_label",
                      "tomtom:roadshield-duplicate-min-distance": 200
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max roads-zoom-shields-min 8}}//",
                    "filter": [
                      "all",
                      ["has", "route_shield_icon_1"],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          true,
                          false
                        ],
                        8,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk"],
                          true,
                          false
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary"],
                          true,
                          false
                        ],
                        11,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary", "secondary"],
                          true,
                          false
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          [
                            "motorway",
                            "trunk",
                            "primary",
                            "secondary",
                            "tertiary"
                          ],
                          true,
                          false
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-shields-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": 600,
                      "text-field": "{route_shield_text_1}",
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-keep-upright": true,
                      "text-pitch-alignment": "viewport",
                      "text-rotation-alignment": "viewport",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{roads-size-shields-s}}//",
                        12,
                        "//{{roads-size-shields-m}}//"
                      ],
                      "icon-image": "{route_shield_icon_1}",
                      "icon-pitch-alignment": "viewport",
                      "icon-rotation-alignment": "viewport",
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{roads-size-shields-icon-s}}//",
                        12,
                        "//{{roads-size-shields-icon-m}}//"
                      ],
                      "icon-padding": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        9,
                        15,
                        13,
                        5
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "match",
                        ["get", "route_shield_text_color_1"],
                        "white",
                        "{{road-shield-white-text-color}}",
                        "grey1",
                        "{{road-shield-grey1-text-color}}",
                        "grey2",
                        "{{road-shield-grey2-text-color}}",
                        "black",
                        "{{road-shield-black-text-color}}",
                        "yellow1",
                        "{{road-shield-yellow1-text-color}}",
                        "yellow2",
                        "{{road-shield-yellow2-text-color}}",
                        "yellow3",
                        "{{road-shield-yellow3-text-color}}",
                        "orange",
                        "{{road-shield-orange-text-color}}",
                        "red",
                        "{{road-shield-red-text-color}}",
                        "green1",
                        "{{road-shield-green1-text-color}}",
                        "green2",
                        "{{road-shield-green2-text-color}}",
                        "green3",
                        "{{road-shield-green3-text-color}}",
                        "blue1",
                        "{{road-shield-blue1-text-color}}",
                        "blue2",
                        "{{road-shield-blue2-text-color}}",
                        "blue3",
                        "{{road-shield-blue3-text-color}}",
                        "{{road-shield-text-color}}"
                      ]
                    }
                  },
                  {
                    "id": "TransitLabels - Route Shield 1",
                    "type": "symbol",
                    "metadata": {
                      "group": "road_label",
                      "tomtom:roadshield-duplicate-min-distance": 200
                    },
                    "source": "vectorTiles",
                    "source-layer": "roads",
                    "minzoom": "//{{max roads-zoom-shields-min 5}}//",
                    "filter": [
                      "all",
                      ["has", "route_shield_icon"],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{roads-zoom-offset}}//"]
                      ],
                      [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "category"],
                          ["motorway"],
                          true,
                          false
                        ],
                        8,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk"],
                          true,
                          false
                        ],
                        9,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary"],
                          true,
                          false
                        ],
                        11,
                        [
                          "match",
                          ["get", "category"],
                          ["motorway", "trunk", "primary", "secondary"],
                          true,
                          false
                        ],
                        13,
                        [
                          "match",
                          ["get", "category"],
                          [
                            "motorway",
                            "trunk",
                            "primary",
                            "secondary",
                            "tertiary"
                          ],
                          true,
                          false
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{roads-shields-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "symbol-sort-key": ["get", "display_class"],
                      "symbol-spacing": 500,
                      "text-field": "{route_shield_text}",
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-keep-upright": true,
                      "text-pitch-alignment": "viewport",
                      "text-rotation-alignment": "viewport",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{roads-size-shields-s}}//",
                        12,
                        "//{{roads-size-shields-m}}//"
                      ],
                      "icon-image": "{route_shield_icon}",
                      "icon-pitch-alignment": "viewport",
                      "icon-rotation-alignment": "viewport",
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{roads-size-shields-icon-s}}//",
                        12,
                        "//{{roads-size-shields-icon-m}}//"
                      ],
                      "icon-padding": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        9,
                        15,
                        13,
                        5
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "match",
                        ["get", "route_shield_text_color"],
                        "white",
                        "{{road-shield-white-text-color}}",
                        "grey1",
                        "{{road-shield-grey1-text-color}}",
                        "grey2",
                        "{{road-shield-grey2-text-color}}",
                        "black",
                        "{{road-shield-black-text-color}}",
                        "yellow1",
                        "{{road-shield-yellow1-text-color}}",
                        "yellow2",
                        "{{road-shield-yellow2-text-color}}",
                        "yellow3",
                        "{{road-shield-yellow3-text-color}}",
                        "orange",
                        "{{road-shield-orange-text-color}}",
                        "red",
                        "{{road-shield-red-text-color}}",
                        "green1",
                        "{{road-shield-green1-text-color}}",
                        "green2",
                        "{{road-shield-green2-text-color}}",
                        "green3",
                        "{{road-shield-green3-text-color}}",
                        "blue1",
                        "{{road-shield-blue1-text-color}}",
                        "blue2",
                        "{{road-shield-blue2-text-color}}",
                        "blue3",
                        "{{road-shield-blue3-text-color}}",
                        "{{road-shield-text-color}}"
                      ]
                    }
                  },
                  {
                    "id": "TransitLabels - Exit Number",
                    "type": "symbol",
                    "metadata": {"group": "road_label"},
                    "source": "vectorTiles",
                    "source-layer": "roads_points",
                    "minzoom": "//{{roads-zoom-exit_numbers-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "highway_exit"],
                      ["<=", ["length", ["get", "number"]], 5]
                    ],
                    "layout": {
                      "visibility": "{{roads-exit_numbers-visibility}}",
                      "icon-image": [
                        "concat",
                        "{{road-exit-icon}}",
                        ["length", ["get", "number"]]
                      ],
                      "icon-padding": 5,
                      "icon-pitch-alignment": "viewport",
                      "icon-rotation-alignment": "viewport",
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        "//{{roads-size-exit_numbers-icon-m}}//",
                        17,
                        "//{{roads-size-exit_numbers-icon-l}}//"
                      ],
                      "text-field": ["get", "number"],
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-keep-upright": true,
                      "text-pitch-alignment": "viewport",
                      "text-rotation-alignment": "viewport",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        "//{{roads-size-exit_numbers-m}}//",
                        17,
                        "//{{roads-size-exit_numbers-l}}//"
                      ],
                      "text-justify": "left",
                      "text-offset": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        15,
                        ["literal", [0.6, 0]],
                        17,
                        ["literal", [0.6, 0]]
                      ]
                    },
                    "paint": {"text-color": "{{road-exit-text-color}}"}
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "roads-driving-flag": false,
                "roads-module-opacity": false,
                "roads-opacity-s": "{{#if (equal roads-module-opacity toggle-true)}}1{{else}}0.3{{/if}}",
                "roads-opacity-m": "{{#if (equal roads-module-opacity toggle-true)}}0.5{{else}}1{{/if}}",
                "roads-opacity-l": "{{#if (equal roads-module-opacity toggle-true)}}0{{else}}1{{/if}}",
                "roads-module-visible": true,
                "roads-areas-visible": true,
                "roads-areas-shadow-visible": true,
                "roads-tarmac-visible": false,
                "roads-outline-visible": true,
                "roads-inline-visible": true,
                "roads-construction-visible": true,
                "roads-restricted-visible": true,
                "roads-turning_feature-visible": true,
                "roads-arrows-visible": true,
                "roads-labels-visible": true,
                "roads-shields-visible": true,
                "roads-exit_numbers-visible": true,
                "roads-areas-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-areas-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-areas-shadow-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-areas-visible toggle-false)}}none{{else}}{{#if (equal roads-areas-shadow-visible toggle-false)}}none{{else}}{{#if (equal pmd-flag toggle-true)}}none{{else}}visible{{/if}}{{/if}}{{/if}}{{/if}}",
                "roads-tarmac-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-tarmac-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-outline-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-outline-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-inline-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-inline-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-construction-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-construction-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-restricted-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-restricted-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-occlusion-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal pmd-flag toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-turning_feature-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-turning_feature-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-arrows-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-arrows-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-labels-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-labels-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-shields-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-shields-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "roads-exit_numbers-visibility": "{{#if (equal roads-module-visible toggle-false)}}none{{else}}{{#if (equal roads-exit_numbers-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "road-major-minor-factor": "{{minus (getL road-major-derived) (getL road-derived)}}",
                "road-saturation-factor": "{{minus (getS road-major-derived) (getS road-derived)}}",
                "road-outline-factor": "{{minus (getL road-outline-derived) (getL road-derived)}}",
                "road-luminance-factor": "{{minus (getL road-derived) (getL artificial)}}",
                "road-major-color": "{{road-major-derived}}",
                "road-major-outline-color": "{{mixHue road-major-derived 1 (mixSaturation road-major-derived 0.5 (darkenBy (multiply road-outline-factor -0.3) road-outline-derived))}}",
                "road-color": "{{road-derived}}",
                "road-outline-color": "{{road-outline-derived}}",
                "road-motorway-color": "{{road-major-color}}",
                "road-trunk-color": "{{desaturateBy (min 8 (multiply road-saturation-factor 0.25)) (mixLightness road-color 0.25 road-major-color)}}",
                "road-primary-color": "{{desaturateBy (min 16 (multiply road-saturation-factor 0.5)) (mixLightness road-color 0.5 road-major-color)}}",
                "road-secondary-color": "{{road-color}}",
                "road-tertiary-color": "{{road-color}}",
                "road-street-color": "{{darkenBy (multiply road-major-minor-factor 0.4) road-color}}",
                "road-street-color-m": "{{mixLightness road-street-outline-color 0.5 road-street-color}}",
                "road-minor-color": "{{darkenBy (multiply road-luminance-factor 0.2) road-street-color}}",
                "road-pedestrian-color": "{{mixLightness road-outline-color 0.15 (darkenBy (multiply road-luminance-factor 0.6) road-color)}}",
                "road-pedestrian-fill-color": "{{lighten (multiply artificial-sign 0.02) (darkenBy (multiply artificial-sign 4) (mixSaturation artificial 0.75 (mixLightness artificial 0.5 land)))}}",
                "road-pedestrian-shadow-color": "{{darkenBy 10 road-pedestrian-fill-color}}",
                "road-construction-color": "{{mixLightness land 0.5 road-secondary-color}}",
                "road-track-color": "{{mixLightness road-outline-color 0.05 road-minor-color}}",
                "road-restricted-color": "{{desaturate 0.5 road-pedestrian-color}}",
                "road-path-color": "{{darken (multiply artificial-sign 0.25) (darkenBy (multiply artificial-sign 10) road-pedestrian-color)}}",
                "road-motorway-outline-color": "{{road-major-outline-color}}",
                "road-motorway-color-s": "{{darkenBy (multiply road-major-minor-factor -0.5) road-motorway-color}}",
                "road-trunk-outline-color": "{{mixHue road-major-derived 1 (mixSaturation road-major-derived 0.5 (darkenBy (multiply road-outline-factor -0.2) road-outline-derived))}}",
                "road-trunk-color-s": "{{darkenBy (multiply road-major-minor-factor -0.5) road-trunk-color}}",
                "road-primary-outline-color": "{{mixHue road-major-derived 1 (mixSaturation road-major-derived 0.5 (darkenBy (multiply road-outline-factor -0.1) road-outline-derived))}}",
                "road-primary-color-s": "{{darkenBy (multiply road-major-minor-factor -0.5) road-primary-color}}",
                "road-secondary-outline-color": "{{road-outline-color}}",
                "road-tertiary-outline-color": "{{road-secondary-outline-color}}",
                "road-street-outline-color": "{{lighten 0.06 road-secondary-outline-color}}",
                "road-street-outline-color-m": "{{mixLightness artificial 0.5 road-street-outline-color}}",
                "road-minor-outline-color": "{{lighten 0.06 road-secondary-outline-color}}",
                "road-minor-outline-color-m": "{{mixLightness artificial 0.75 road-minor-outline-color}}",
                "road-pedestrian-outline-color": "{{mixLightness road-pedestrian-color 0.15 road-minor-outline-color}}",
                "road-turning-icon": "{{#if (equal roads-driving-flag true)}}roads-turning_feature_tarmac{{else}}roads-turning_feature{{/if}}",
                "road-turning-visibility": "{{#if (equal roads-satellite-flag true)}}none{{else}}visible{{/if}}",
                "road-motorway-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-motorway-color))}}",
                "road-trunk-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-trunk-color))}}",
                "road-primary-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-primary-color))}}",
                "road-secondary-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-secondary-color))}}",
                "road-tertiary-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-tertiary-color))}}",
                "road-street-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-street-color))}}",
                "road-minor-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-minor-color))}}",
                "road-pedestrian-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-pedestrian-color))}}",
                "road-track-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-track-color))}}",
                "road-restricted-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-restricted-color))}}",
                "road-path-tunnel-color": "{{mixLightness land 0.5 (lighten 0.06 (desaturate 0.2 road-path-color))}}",
                "road-motorway-tunnel-outline-color": "{{lighten 0.06 (desaturate 0.15 road-motorway-outline-color)}}",
                "road-trunk-tunnel-outline-color": "{{lighten 0.06 (desaturate 0.15 road-trunk-outline-color)}}",
                "road-primary-tunnel-outline-color": "{{lighten 0.06 (desaturate 0.15 road-primary-outline-color)}}",
                "road-secondary-tunnel-outline-color": "{{lighten 0.06 (desaturate 0.15 road-secondary-outline-color)}}",
                "road-tertiary-tunnel-outline-color": "{{lighten 0.06 (desaturate 0.15 road-tertiary-outline-color)}}",
                "road-street-tunnel-outline-color": "{{lighten 0.06 (desaturate 0.15 road-street-outline-color)}}",
                "road-minor-tunnel-outline-color": "{{lighten 0.06 (desaturate 0.15 road-minor-outline-color)}}",
                "road-pedestrian-tunnel-outline-color": "{{lighten 0.06 (desaturate 0.15 road-pedestrian-outline-color)}}",
                "road-motorway-bridge-color": "{{road-motorway-color}}",
                "road-trunk-bridge-color": "{{road-trunk-color}}",
                "road-primary-bridge-color": "{{road-primary-color}}",
                "road-secondary-bridge-color": "{{road-secondary-color}}",
                "road-tertiary-bridge-color": "{{road-tertiary-color}}",
                "road-street-bridge-color": "{{road-street-color}}",
                "road-minor-bridge-color": "{{road-minor-color}}",
                "road-pedestrian-bridge-color": "{{road-pedestrian-color}}",
                "road-restricted-bridge-color": "{{road-restricted-color}}",
                "road-motorway-bridge-outline-color": "{{darken 0.06 road-motorway-outline-color}}",
                "road-trunk-bridge-outline-color": "{{darken 0.06 road-trunk-outline-color}}",
                "road-primary-bridge-outline-color": "{{darken 0.06 road-primary-outline-color}}",
                "road-secondary-bridge-outline-color": "{{darken 0.06 road-secondary-outline-color}}",
                "road-tertiary-bridge-outline-color": "{{darken 0.06 road-tertiary-outline-color}}",
                "road-street-bridge-outline-color": "{{darken 0.06 road-street-outline-color}}",
                "road-minor-bridge-outline-color": "{{darken 0.06 road-minor-outline-color}}",
                "road-pedestrian-bridge-outline-color": "{{darken 0.06 road-pedestrian-outline-color}}",
                "road-text-color": "{{label-derived}}",
                "road-motorway-text-color": "{{mixSaturation road-text-color 0.75 (mixLightness road-text-color 1 road-motorway-color)}}",
                "road-trunk-text-color": "{{mixSaturation road-text-color 0.75 (mixLightness road-text-color 1 road-trunk-color)}}",
                "road-primary-text-color": "{{mixSaturation road-text-color 0.75 (mixLightness road-text-color 1 road-primary-color)}}",
                "road-secondary-text-color": "{{mixSaturation road-text-color 0.75 (mixLightness road-text-color 0.90 road-color)}}",
                "road-street-text-color": "{{mixSaturation road-text-color 0.75 (mixLightness road-text-color 0.85 road-color)}}",
                "road-halo-color": "{{fade 0.25 label-outline-derived}}",
                "road-shield-white-color": "{{#if (more base-lum 0.3)}}hsl(0, 0%, 100%){{else}}hsl(0, 0%, 82%){{/if}}",
                "road-shield-grey1-color": "{{#if (more base-lum 0.3)}}hsl(0, 0%, 73%){{else}}hsl(0, 0%, 60%){{/if}}",
                "road-shield-grey2-color": "{{#if (more base-lum 0.3)}}hsl(0, 0%, 33%){{else}}hsl(0, 0%, 29%){{/if}}",
                "road-shield-black-color": "{{#if (more base-lum 0.3)}}hsl(0, 0%, 0%){{else}}hsl(0, 0%, 0%){{/if}}",
                "road-shield-yellow1-color": "{{#if (more base-lum 0.3)}}hsl(55, 94%, 54%){{else}}hsl(55, 80%, 44%){{/if}}",
                "road-shield-yellow2-color": "{{#if (more base-lum 0.3)}}hsl(46, 97%, 57%){{else}}hsl(46, 74%, 46%){{/if}}",
                "road-shield-yellow3-color": "{{#if (more base-lum 0.3)}}hsl(37, 100%, 59%){{else}}hsl(37, 70%, 48%){{/if}}",
                "road-shield-orange-color": "{{#if (more base-lum 0.3)}}hsl(22, 100%, 59%){{else}}hsl(22, 67%, 49%){{/if}}",
                "road-shield-red-color": "{{#if (more base-lum 0.3)}}hsl(0, 100%, 42%){{else}}hsl(0, 100%, 34%){{/if}}",
                "road-shield-green1-color": "{{#if (more base-lum 0.3)}}hsl(100, 65%, 51%){{else}}hsl(100, 64%, 41%){{/if}}",
                "road-shield-green2-color": "{{#if (more base-lum 0.3)}}hsl(153, 83%, 33%){{else}}hsl(162, 84%, 26%){{/if}}",
                "road-shield-green3-color": "{{#if (more base-lum 0.3)}}hsl(142, 84%, 27%){{else}}hsl(141, 83%, 25%){{/if}}",
                "road-shield-blue1-color": "{{#if (more base-lum 0.3)}}hsl(205, 99%, 59%){{else}}hsl(204, 68%, 48%){{/if}}",
                "road-shield-blue2-color": "{{#if (more base-lum 0.3)}}hsl(214, 69%, 37%){{else}}hsl(214, 69%, 30%){{/if}}",
                "road-shield-blue3-color": "{{#if (more base-lum 0.3)}}hsl(213, 100%, 50%){{else}}hsl(214, 69%, 30%){{/if}}",
                "road-shield-text-color": "{{road-text-color}}",
                "road-shield-flavor-genesis": "{{#if (more base-lum 0.3)}}{{else}}_night{{/if}}",
                "road-shield-text-color-genesis": "{{#if (equal sprites-monochrome-flag 'true')}}{{else}}shield_icon_text_color{{road-shield-flavor-genesis}}{{/if}}",
                "road-shield-white-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-white-color}}{{/if}}",
                "road-shield-grey1-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-grey1-color}}{{/if}}",
                "road-shield-grey2-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-grey2-color}}{{/if}}",
                "road-shield-black-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-black-color}}{{/if}}",
                "road-shield-yellow1-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-yellow1-color}}{{/if}}",
                "road-shield-yellow2-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-yellow2-color}}{{/if}}",
                "road-shield-yellow3-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-yellow3-color}}{{/if}}",
                "road-shield-orange-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-orange-color}}{{/if}}",
                "road-shield-red-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-red-color}}{{/if}}",
                "road-shield-green1-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-green1-color}}{{/if}}",
                "road-shield-green2-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-green2-color}}{{/if}}",
                "road-shield-green3-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-green3-color}}{{/if}}",
                "road-shield-blue1-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-blue1-color}}{{/if}}",
                "road-shield-blue2-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-blue2-color}}{{/if}}",
                "road-shield-blue3-text-color": "{{#if (equal sprites-monochrome-flag 'true')}}{{road-shield-text-color}}{{else}}{{road-shield-blue3-color}}{{/if}}",
                "road-exit-text-color": "{{#if (equal sprites-satellite-flag 'true')}}hsl(0, 0%, 21%){{else}}{{#if (equal roads-driving-flag true)}}{{road-shield-white-color}}{{else}}{{#if (equal sprites-monochrome-flag 'true')}}{{desaturate 1 road-text-color}}{{else}}{{road-text-color}}{{/if}}{{/if}}{{/if}}",
                "road-exit-icon": "{{#if (equal roads-driving-flag true)}}roads-exit_EU_{{else}}roads-exit_{{/if}}",
                "roads-width-factor": 1,
                "roads-width-factor-xs": 1,
                "roads-width-factor-s": 1,
                "roads-width-factor-m": 1,
                "roads-width-factor-l": 1,
                "roads-width-factor-major": 1,
                "roads-width-factor-secondary": 1,
                "roads-width-factor-local": 1,
                "roads-width-factor-minor": 1,
                "roads-width-exponential-base": 1.3,
                "roads-width-zoom-xs": 5,
                "roads-width-zoom-s": 9,
                "roads-width-zoom-m": 13,
                "roads-width-zoom-l": 19,
                "roads-width-min-xs": 0,
                "roads-width-min-s": 0,
                "roads-width-min-m": 0,
                "roads-width-min-l": 0,
                "roads-width-max-xs": 0.5,
                "roads-width-max-s": 2.5,
                "roads-width-max-m": 4.5,
                "roads-width-max-l": 44,
                "roads-width-offset-xs": 0.25,
                "roads-width-offset-s": 0.25,
                "roads-width-offset-m": 0.5,
                "roads-width-offset-l": 4,
                "roads-width-motorway-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-major (minus roads-width-max-l (multiply roads-width-offset-l 0))))}}",
                "roads-width-trunk-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-major (minus roads-width-max-l (multiply roads-width-offset-l 1))))}}",
                "roads-width-primary-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-major (minus roads-width-max-l (multiply roads-width-offset-l 2))))}}",
                "roads-width-secondary-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-secondary (minus roads-width-max-l (multiply roads-width-offset-l 3))))}}",
                "roads-width-tertiary-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-secondary (minus roads-width-max-l (multiply roads-width-offset-l 4))))}}",
                "roads-width-link-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-secondary (minus roads-width-max-l (multiply roads-width-offset-l 5))))}}",
                "roads-width-street-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-local (minus roads-width-max-l (multiply roads-width-offset-l 6))))}}",
                "roads-width-living_street-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-local (minus roads-width-max-l (multiply roads-width-offset-l 7))))}}",
                "roads-width-minor-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-minor (minus roads-width-max-l (multiply roads-width-offset-l 8))))}}",
                "roads-width-parking-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-minor (minus roads-width-max-l (multiply roads-width-offset-l 9))))}}",
                "roads-width-pedestrian-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-minor (minus roads-width-max-l (multiply roads-width-offset-l 9))))}}",
                "roads-width-motorway-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-major (minus roads-width-max-m (multiply roads-width-offset-m 0))))}}",
                "roads-width-trunk-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-major (minus roads-width-max-m (multiply roads-width-offset-m 1))))}}",
                "roads-width-primary-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-major (minus roads-width-max-m (multiply roads-width-offset-m 2))))}}",
                "roads-width-secondary-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-secondary (minus roads-width-max-m (multiply roads-width-offset-m 3))))}}",
                "roads-width-tertiary-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-secondary (minus roads-width-max-m (multiply roads-width-offset-m 4))))}}",
                "roads-width-link-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-secondary (minus roads-width-max-m (multiply roads-width-offset-m 5))))}}",
                "roads-width-street-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-local (minus roads-width-max-m (multiply roads-width-offset-m 6))))}}",
                "roads-width-living_street-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-local (minus roads-width-max-m (multiply roads-width-offset-m 7))))}}",
                "roads-width-minor-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-minor (minus roads-width-max-m (multiply roads-width-offset-m 8))))}}",
                "roads-width-parking-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-minor (minus roads-width-max-m (multiply roads-width-offset-m 9))))}}",
                "roads-width-pedestrian-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-minor (minus roads-width-max-m (multiply roads-width-offset-m 9))))}}",
                "roads-width-motorway-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-major (minus roads-width-max-s (multiply roads-width-offset-s 0))))}}",
                "roads-width-trunk-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-major (minus roads-width-max-s (multiply roads-width-offset-s 1))))}}",
                "roads-width-primary-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-major (minus roads-width-max-s (multiply roads-width-offset-s 2))))}}",
                "roads-width-secondary-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-secondary (minus roads-width-max-s (multiply roads-width-offset-s 3))))}}",
                "roads-width-tertiary-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-secondary (minus roads-width-max-s (multiply roads-width-offset-s 4))))}}",
                "roads-width-link-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-secondary (minus roads-width-max-s (multiply roads-width-offset-s 5))))}}",
                "roads-width-street-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-local (minus roads-width-max-s (multiply roads-width-offset-s 6))))}}",
                "roads-width-living_street-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-local (minus roads-width-max-s (multiply roads-width-offset-s 7))))}}",
                "roads-width-motorway-xs": "{{multiply roads-width-factor (multiply roads-width-factor-xs (multiply roads-width-factor-major (minus roads-width-max-xs (multiply roads-width-offset-xs 0))))}}",
                "roads-width-trunk-xs": "{{multiply roads-width-factor (multiply roads-width-factor-xs (multiply roads-width-factor-major (minus roads-width-max-xs (multiply roads-width-offset-xs 1))))}}",
                "roads-width-primary-xs": "{{multiply roads-width-factor (multiply roads-width-factor-xs (multiply roads-width-factor-major (minus roads-width-max-xs (multiply roads-width-offset-xs 2))))}}",
                "roads-width-factor-restricted": 0.5,
                "roads-width-restricted-l": "{{multiply roads-width-factor-restricted roads-width-minor-l}}",
                "roads-width-outline-factor": 1,
                "roads-width-outline-factor-xs": 1,
                "roads-width-outline-factor-s": 1,
                "roads-width-outline-factor-m": 1,
                "roads-width-outline-factor-l": 1,
                "roads-width-outline-factor-major": 1,
                "roads-width-outline-factor-secondary": 1,
                "roads-width-outline-factor-local": 1,
                "roads-width-outline-factor-minor": 1,
                "roads-width-outline-min-xs": 0,
                "roads-width-outline-min-s": 0,
                "roads-width-outline-min-m": 0,
                "roads-width-outline-min-l": 0,
                "roads-width-outline-max-xs": 0,
                "roads-width-outline-max-s": 1,
                "roads-width-outline-max-m": 1.5,
                "roads-width-outline-max-l": 3,
                "roads-width-outline-offset-xs": 0,
                "roads-width-outline-offset-s": 0.25,
                "roads-width-outline-offset-m": 0.375,
                "roads-width-outline-offset-l": 0.5,
                "roads-width-outline-motorway-l": "{{add roads-width-motorway-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-major (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 0)))))}}",
                "roads-width-outline-trunk-l": "{{add roads-width-trunk-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-major (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 0)))))}}",
                "roads-width-outline-primary-l": "{{add roads-width-primary-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-major (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 0)))))}}",
                "roads-width-outline-secondary-l": "{{add roads-width-secondary-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 1)))))}}",
                "roads-width-outline-tertiary-l": "{{add roads-width-tertiary-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 1)))))}}",
                "roads-width-outline-link-l": "{{add roads-width-link-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 1)))))}}",
                "roads-width-outline-street-l": "{{add roads-width-street-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-local (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 2)))))}}",
                "roads-width-outline-living_street-l": "{{add roads-width-living_street-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-local (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 2)))))}}",
                "roads-width-outline-minor-l": "{{add roads-width-minor-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-minor (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 3)))))}}",
                "roads-width-outline-parking-l": "{{add roads-width-parking-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-minor (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 3)))))}}",
                "roads-width-outline-pedestrian-l": "{{add roads-width-pedestrian-l (multiply roads-width-outline-factor (multiply roads-width-outline-factor-l (multiply roads-width-outline-factor-minor (minus roads-width-outline-max-l (multiply roads-width-outline-offset-l 3)))))}}",
                "roads-width-outline-motorway-m": "{{add roads-width-motorway-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-major (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 0)))))}}",
                "roads-width-outline-trunk-m": "{{add roads-width-trunk-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-major (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 0)))))}}",
                "roads-width-outline-primary-m": "{{add roads-width-primary-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-major (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 0)))))}}",
                "roads-width-outline-secondary-m": "{{add roads-width-secondary-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 1)))))}}",
                "roads-width-outline-tertiary-m": "{{add roads-width-tertiary-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 1)))))}}",
                "roads-width-outline-link-m": "{{add roads-width-link-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 1)))))}}",
                "roads-width-outline-street-m": "{{add roads-width-street-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-local (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 2)))))}}",
                "roads-width-outline-living_street-m": "{{add roads-width-living_street-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-local (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 2)))))}}",
                "roads-width-outline-minor-m": "{{add roads-width-minor-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-minor (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 3)))))}}",
                "roads-width-outline-parking-m": "{{add roads-width-parking-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-minor (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 3)))))}}",
                "roads-width-outline-pedestrian-m": "{{add roads-width-pedestrian-m (multiply roads-width-outline-factor (multiply roads-width-outline-factor-m (multiply roads-width-outline-factor-minor (minus roads-width-outline-max-m (multiply roads-width-outline-offset-m 3)))))}}",
                "roads-width-outline-motorway-s": "{{add roads-width-motorway-s (multiply roads-width-outline-factor (multiply roads-width-outline-factor-s (multiply roads-width-outline-factor-major (minus roads-width-outline-max-s (multiply roads-width-outline-offset-s 0)))))}}",
                "roads-width-outline-trunk-s": "{{add roads-width-trunk-s (multiply roads-width-outline-factor (multiply roads-width-outline-factor-s (multiply roads-width-outline-factor-major (minus roads-width-outline-max-s (multiply roads-width-outline-offset-s 0)))))}}",
                "roads-width-outline-primary-s": "{{add roads-width-primary-s (multiply roads-width-outline-factor (multiply roads-width-outline-factor-s (multiply roads-width-outline-factor-major (minus roads-width-outline-max-s (multiply roads-width-outline-offset-s 0)))))}}",
                "roads-width-outline-secondary-s": "{{add roads-width-secondary-s (multiply roads-width-outline-factor (multiply roads-width-outline-factor-s (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-s (multiply roads-width-outline-offset-s 1)))))}}",
                "roads-width-outline-tertiary-s": "{{add roads-width-tertiary-s (multiply roads-width-outline-factor (multiply roads-width-outline-factor-s (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-s (multiply roads-width-outline-offset-s 1)))))}}",
                "roads-width-outline-link-s": "{{add roads-width-link-s (multiply roads-width-outline-factor (multiply roads-width-outline-factor-s (multiply roads-width-outline-factor-secondary (minus roads-width-outline-max-s (multiply roads-width-outline-offset-s 1)))))}}",
                "roads-width-outline-street-s": "{{add roads-width-street-s (multiply roads-width-outline-factor (multiply roads-width-outline-factor-s (multiply roads-width-outline-factor-local (minus roads-width-outline-max-s (multiply roads-width-outline-offset-s 2)))))}}",
                "roads-width-outline-living_street-s": "{{add roads-width-living_street-s (multiply roads-width-outline-factor (multiply roads-width-outline-factor-s (multiply roads-width-outline-factor-local (minus roads-width-outline-max-s (multiply roads-width-outline-offset-s 2)))))}}",
                "roads-width-outline-motorway-xs": "{{add roads-width-motorway-xs (multiply roads-width-outline-factor (multiply roads-width-outline-factor-xs (multiply roads-width-outline-factor-major (minus roads-width-outline-max-xs (multiply roads-width-outline-offset-xs 0)))))}}",
                "roads-width-outline-trunk-xs": "{{add roads-width-trunk-xs (multiply roads-width-outline-factor (multiply roads-width-outline-factor-xs (multiply roads-width-outline-factor-major (minus roads-width-outline-max-xs (multiply roads-width-outline-offset-xs 0)))))}}",
                "roads-width-outline-primary-xs": "{{add roads-width-primary-xs (multiply roads-width-outline-factor (multiply roads-width-outline-factor-xs (multiply roads-width-outline-factor-major (minus roads-width-outline-max-xs (multiply roads-width-outline-offset-xs 0)))))}}",
                "roads-width-tarmac-factor": 1,
                "roads-width-tarmac-exponential-base": 1.2,
                "roads-width-tarmac-offset": 2.5,
                "roads-width-tarmac-offset-l": "{{multiply roads-width-tarmac-factor roads-width-tarmac-offset}}",
                "roads-size-factor": 1,
                "roads-size-labels-factor": 1,
                "roads-size-labels-factor-m": 1,
                "roads-size-labels-factor-l": 1,
                "roads-size-labels-factor-major": 1,
                "roads-size-labels-factor-secondary": 1,
                "roads-size-labels-factor-local": 1,
                "roads-size-labels-factor-minor": 1,
                "roads-size-labels-min-m": 9,
                "roads-size-labels-min-l": 13,
                "roads-size-labels-max-m": 13,
                "roads-size-labels-max-l": 16,
                "roads-size-labels-step-m": 2,
                "roads-size-labels-step-l": 1,
                "roads-size-labels-major-l": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-labels-factor (multiply roads-size-labels-factor-l (multiply roads-size-labels-factor-major (minus roads-size-labels-max-l (multiply roads-size-labels-step-l 0))))))}}",
                "roads-size-labels-secondary-l": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-labels-factor (multiply roads-size-labels-factor-l (multiply roads-size-labels-factor-secondary (minus roads-size-labels-max-l (multiply roads-size-labels-step-l 1))))))}}",
                "roads-size-labels-local-l": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-labels-factor (multiply roads-size-labels-factor-l (multiply roads-size-labels-factor-local (minus roads-size-labels-max-l (multiply roads-size-labels-step-l 2))))))}}",
                "roads-size-labels-minor-l": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-labels-factor (multiply roads-size-labels-factor-l (multiply roads-size-labels-factor-minor (minus roads-size-labels-max-l (multiply roads-size-labels-step-l 3))))))}}",
                "roads-size-labels-major-m": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-labels-factor (multiply roads-size-labels-factor-m (multiply roads-size-labels-factor-major (minus roads-size-labels-max-m (multiply roads-size-labels-step-m 0))))))}}",
                "roads-size-labels-secondary-m": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-labels-factor (multiply roads-size-labels-factor-m (multiply roads-size-labels-factor-secondary (minus roads-size-labels-max-m (multiply roads-size-labels-step-m 0))))))}}",
                "roads-size-labels-local-m": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-labels-factor (multiply roads-size-labels-factor-m (multiply roads-size-labels-factor-local (minus roads-size-labels-max-m (multiply roads-size-labels-step-m 1))))))}}",
                "roads-size-labels-minor-m": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-labels-factor (multiply roads-size-labels-factor-m (multiply roads-size-labels-factor-minor (minus roads-size-labels-max-m (multiply roads-size-labels-step-m 2))))))}}",
                "roads-size-shields-factor": 1,
                "roads-size-shields-factor-s": 0.85,
                "roads-size-shields-factor-m": 1,
                "roads-size-shields-max": 10,
                "roads-size-shields-m": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-shields-factor (multiply roads-size-shields-factor-m roads-size-shields-max)))}}",
                "roads-size-shields-s": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-shields-factor (multiply roads-size-shields-factor-s roads-size-shields-max)))}}",
                "roads-size-shields-icon-m": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-shields-factor roads-size-shields-factor-m))}}",
                "roads-size-shields-icon-s": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-shields-factor roads-size-shields-factor-s))}}",
                "roads-size-exit_numbers-factor": 1,
                "roads-size-exit_numbers-factor-m": 0.75,
                "roads-size-exit_numbers-factor-l": 1,
                "roads-size-exit_numbers-max": 12.5,
                "roads-size-exit_numbers-m": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-exit_numbers-factor (multiply roads-size-exit_numbers-factor-m roads-size-exit_numbers-max)))}}",
                "roads-size-exit_numbers-l": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-exit_numbers-factor (multiply roads-size-exit_numbers-factor-l roads-size-exit_numbers-max)))}}",
                "roads-size-exit_numbers-icon-m": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-exit_numbers-factor roads-size-exit_numbers-factor-m))}}",
                "roads-size-exit_numbers-icon-l": "{{multiply symbol-size-factor (multiply roads-size-factor (multiply roads-size-exit_numbers-factor roads-size-exit_numbers-factor-l))}}",
                "roads-size-turning_feature-factor": 1,
                "roads-size-arrows-factor": 1,
                "roads-zoom-min": 5,
                "roads-zoom-offset": 0,
                "roads-zoom-outline-min": 5,
                "roads-zoom-tarmac-min": 13,
                "roads-zoom-arrows-min": 15,
                "roads-zoom-restricted-min": 15,
                "roads-zoom-labels-min": 10,
                "roads-zoom-labels-offset": 0,
                "roads-zoom-shields-min": 10,
                "roads-zoom-exit_numbers-min": 15
              }
            }
          },
          "transit": {
            "groups": {
              "aeroways": {
                "layers": [
                  {
                    "id": "Transit - Aeroway line",
                    "type": "line",
                    "metadata": {"group": "transit_area"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-aeroways-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["aeroway"], true, false]
                    ],
                    "layout": {
                      "visibility": "{{transit-aeroways-visibility}}",
                      "line-sort-key": [
                        "match",
                        ["get", "subcategory"],
                        "runway",
                        1,
                        0
                      ]
                    },
                    "paint": {
                      "line-color": [
                        "match",
                        ["get", "subcategory"],
                        ["runway"],
                        "{{transit-runway-color}}",
                        "{{transit-taxiway-color}}"
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", 2],
                        ["zoom"],
                        10,
                        ["match", ["get", "subcategory"], ["runway"], 3, 1],
                        16,
                        ["match", ["get", "subcategory"], ["runway"], 48, 16],
                        19,
                        ["match", ["get", "subcategory"], ["runway"], 60, 20]
                      ]
                    }
                  },
                  {
                    "id": "Transit - Aeroway area",
                    "type": "fill",
                    "metadata": {"group": "transit_area"},
                    "source": "vectorTiles",
                    "source-layer": "transit_areas",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-aeroways-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["aeroway"], true, false]
                    ],
                    "layout": {
                      "visibility": "{{transit-aeroways-visibility}}",
                      "fill-sort-key": [
                        "match",
                        ["get", "subcategory"],
                        "runway",
                        1,
                        0
                      ]
                    },
                    "paint": {
                      "fill-color": [
                        "match",
                        ["get", "subcategory"],
                        ["runway"],
                        "{{transit-runway-color}}",
                        "{{transit-taxiway-color}}"
                      ]
                    }
                  }
                ]
              },
              "platforms": {
                "layers": [
                  {
                    "id": "Transit - Platform line",
                    "type": "line",
                    "metadata": {"group": "transit_area"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-platforms-min)}}//",
                    "layout": {
                      "visibility": "{{transit-platforms-visibility}}"
                    },
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["platform"], true, false],
                      ["match", ["get", "modality"], ["subway"], false, true],
                      [
                        "any",
                        ["==", ["has", "z_level"], false],
                        [">=", ["get", "z_level"], 0]
                      ]
                    ],
                    "paint": {
                      "line-color": "{{transit-platform-color}}",
                      "line-width": [
                        "interpolate",
                        ["exponential", 2],
                        ["zoom"],
                        14,
                        0.75,
                        16,
                        3,
                        19,
                        24
                      ]
                    }
                  },
                  {
                    "id": "Transit - Platform area",
                    "type": "fill",
                    "metadata": {"group": "transit_area"},
                    "source": "vectorTiles",
                    "source-layer": "transit_areas",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-platforms-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["platform"], true, false],
                      ["match", ["get", "modality"], ["subway"], false, true],
                      [
                        "any",
                        ["==", ["has", "z_level"], false],
                        [">=", ["get", "z_level"], 0]
                      ]
                    ],
                    "paint": {"fill-color": "{{transit-platform-color}}"},
                    "layout": {"visibility": "{{transit-platforms-visibility}}"}
                  }
                ]
              },
              "railways-tunnel": {
                "layers": [
                  {
                    "id": "Tunnel - Subway",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-subway-min)}}//",
                    "maxzoom": "//{{transit-zoom-railways-tunnel-max}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "railway"],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["subway"],
                        true,
                        false
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-tunnel-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{add -2 transit-zoom-railways-tunnel-max}}//",
                        1,
                        "//{{transit-zoom-railways-tunnel-max}}//",
                        0
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        0.25,
                        19,
                        1.5
                      ],
                      "line-dasharray": [4, 4]
                    }
                  },
                  {
                    "id": "Tunnel - Railway fill",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-fill-min)}}//",
                    "maxzoom": "//{{transit-zoom-railways-tunnel-max}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "railway"],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["main", "light"],
                        true,
                        false
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-fill-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-tunnel-fill-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        0,
                        16.25,
                        1
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        0,
                        19,
                        ["match", ["get", "subcategory"], ["main"], 8, 5]
                      ]
                    }
                  },
                  {
                    "id": "Tunnel - Railway outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-min)}}//",
                    "maxzoom": "//{{transit-zoom-railways-tunnel-max}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "railway"],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["subway"],
                        false,
                        true
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-tunnel-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{add -2 transit-zoom-railways-tunnel-max}}//",
                        1,
                        "//{{transit-zoom-railways-tunnel-max}}//",
                        0
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        12,
                        0,
                        13,
                        0.25,
                        16,
                        0.5,
                        19,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main"],
                          1.5,
                          ["light"],
                          1.25,
                          ["subway"],
                          1,
                          ["tram"],
                          1,
                          1
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Tunnel - Railway dash",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-dash-min)}}//",
                    "maxzoom": "//{{transit-zoom-railways-tunnel-max}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "railway"],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["subway"],
                        false,
                        true
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-dash-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-tunnel-color}}",
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [0.15, 10]],
                        19,
                        ["literal", [0.15, 12]]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0,
                        15,
                        0.5,
                        16,
                        1
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0,
                        16,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main", "light"],
                          3,
                          ["tram"],
                          2,
                          1
                        ],
                        19,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main"],
                          8,
                          ["light"],
                          6,
                          ["tram"],
                          4.5,
                          4.5
                        ]
                      ]
                    }
                  }
                ]
              },
              "ferries": {
                "layers": [
                  {
                    "id": "Surface - Ferry",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-ferries-min)}}//",
                    "filter": ["==", ["get", "category"], "ferry"],
                    "layout": {
                      "visibility": "{{transit-ferries-visibility}}",
                      "line-cap": "butt",
                      "line-join": "miter"
                    },
                    "paint": {
                      "line-color": "{{transit-ferry-color}}",
                      "line-dasharray": [2, 4],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        8,
                        0,
                        9,
                        1
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0.5,
                        16,
                        1.5
                      ]
                    }
                  }
                ]
              },
              "railways-surface": {
                "layers": [
                  {
                    "id": "Surface - Railway fill",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-fill-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["railway"], true, false],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["main", "light"],
                        true,
                        false
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["!=", ["get", "bridge"], true],
                      ["!=", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-fill-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-fill-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        0,
                        16.25,
                        1
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        0,
                        19,
                        ["match", ["get", "subcategory"], ["main"], 8, 5]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Railway outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["railway"], true, false],
                      ["!=", ["get", "under_construction"], true],
                      ["!=", ["get", "bridge"], true],
                      ["!=", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-color}}",
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        12,
                        0,
                        13,
                        0.25,
                        16,
                        0.5,
                        19,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main"],
                          1.5,
                          ["light"],
                          1.25,
                          ["subway"],
                          1,
                          ["tram"],
                          1,
                          1
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Surface - Railway dash",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-dash-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["railway"], true, false],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["subway"],
                        false,
                        true
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["!=", ["get", "bridge"], true],
                      ["!=", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-dash-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-color}}",
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [0.15, 10]],
                        19,
                        ["literal", [0.15, 12]]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0,
                        15,
                        0.5,
                        16,
                        1
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0,
                        16,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main", "light"],
                          3,
                          ["tram"],
                          2,
                          1
                        ],
                        19,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main"],
                          8,
                          ["light"],
                          6,
                          ["tram"],
                          4.5,
                          4.5
                        ]
                      ]
                    }
                  }
                ]
              },
              "railways-bridge": {
                "layers": [
                  {
                    "id": "Bridge - Railway fill",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-fill-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["railway"], true, false],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["main", "light"],
                        true,
                        false
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "bridge"], true],
                      ["!=", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-fill-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-fill-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        0,
                        16.25,
                        1
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        0,
                        19,
                        ["match", ["get", "subcategory"], ["main"], 8, 5]
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Railway outline",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["railway"], true, false],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "bridge"], true],
                      ["!=", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-color}}",
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        12,
                        0,
                        13,
                        0.25,
                        16,
                        0.5,
                        19,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main"],
                          1.5,
                          ["light"],
                          1.25,
                          ["subway"],
                          1,
                          ["tram"],
                          1,
                          1
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Bridge - Railway dash",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-railways-dash-min)}}//",
                    "filter": [
                      "all",
                      ["match", ["get", "category"], ["railway"], true, false],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["subway"],
                        false,
                        true
                      ],
                      ["!=", ["get", "under_construction"], true],
                      ["==", ["get", "bridge"], true],
                      ["!=", ["get", "tunnel"], true],
                      [
                        "any",
                        [">=", ["zoom"], 15],
                        ["!=", ["get", "service"], true]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-railways-dash-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-rail-color}}",
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [0.15, 10]],
                        19,
                        ["literal", [0.15, 12]]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0,
                        15,
                        0.5,
                        16,
                        1
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0,
                        16,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main", "light"],
                          3,
                          ["tram"],
                          2,
                          1
                        ],
                        19,
                        [
                          "match",
                          ["get", "subcategory"],
                          ["main"],
                          8,
                          ["light"],
                          6,
                          ["tram"],
                          4.5,
                          4.5
                        ]
                      ]
                    }
                  }
                ]
              },
              "aerialways": {
                "layers": [
                  {
                    "id": "Bridge - Aerialway",
                    "type": "line",
                    "metadata": {"group": "road"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-aerialways-min)}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "aerialway"],
                      ["!=", ["get", "under_construction"], true]
                    ],
                    "layout": {
                      "visibility": "{{transit-aerialways-visibility}}",
                      "line-cap": "butt",
                      "line-join": "bevel"
                    },
                    "paint": {
                      "line-color": "{{transit-aerialway-color}}",
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        0.5,
                        19,
                        1.5
                      ],
                      "line-dasharray": [4, 4, 1, 4]
                    }
                  }
                ]
              },
              "labels": {
                "layers": [
                  {
                    "id": "TransitLabels - Ferry",
                    "type": "symbol",
                    "metadata": {"group": "road_label"},
                    "source": "vectorTiles",
                    "source-layer": "transit",
                    "minzoom": "//{{max transit-zoom-min (add transit-zoom-offset transit-zoom-ferries-labels-min)}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "ferry"],
                      [
                        "any",
                        ["has", "name"],
                        [
                          "all",
                          ["has", "reference_number"],
                          [
                            "==",
                            ["in", ";", ["get", "reference_number"]],
                            false
                          ]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{transit-ferries-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "text-field": [
                        "step",
                        ["zoom"],
                        ["to-string", ["get", "reference_number"]],
                        14,
                        ["to-string", ["get", "name"]]
                      ],
                      "text-font": ["{{{text-font-regular}}}"],
                      "text-keep-upright": true,
                      "text-letter-spacing": 0.05,
                      "text-pitch-alignment": "viewport",
                      "text-rotation-alignment": "map",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        12,
                        "//{{multiply symbol-size-factor (multiply transit-size-factor (multiply transit-size-factor-m 10))}}//",
                        14,
                        "//{{multiply symbol-size-factor (multiply transit-size-factor (multiply transit-size-factor-m 12))}}//"
                      ]
                    },
                    "paint": {
                      "text-color": "{{transit-ferry-text-color}}",
                      "text-halo-color": "{{transit-ferry-halo-color}}",
                      "text-halo-width": 1
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "transit-module-visible": true,
                "transit-aeroways-visible": true,
                "transit-platforms-visible": true,
                "transit-railways-visible": true,
                "transit-railways-fill-visible": false,
                "transit-railways-dash-visible": true,
                "transit-ferries-visible": true,
                "transit-aerialways-visible": true,
                "transit-aeroways-visibility": "{{#if (equal transit-module-visible toggle-false)}}none{{else}}{{#if (equal transit-aeroways-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "transit-platforms-visibility": "{{#if (equal transit-module-visible toggle-false)}}none{{else}}{{#if (equal transit-platforms-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "transit-railways-visibility": "{{#if (equal transit-module-visible toggle-false)}}none{{else}}{{#if (equal transit-railways-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "transit-railways-fill-visibility": "{{#if (equal transit-module-visible toggle-false)}}none{{else}}{{#if (equal transit-railways-visible toggle-false)}}none{{else}}{{#if (equal transit-railways-fill-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}{{/if}}",
                "transit-railways-dash-visibility": "{{#if (equal transit-module-visible toggle-false)}}none{{else}}{{#if (equal transit-railways-visible toggle-false)}}none{{else}}{{#if (equal transit-railways-dash-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}{{/if}}",
                "transit-ferries-visibility": "{{#if (equal transit-module-visible toggle-false)}}none{{else}}{{#if (equal transit-ferries-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "transit-aerialways-visibility": "{{#if (equal transit-module-visible toggle-false)}}none{{else}}{{#if (equal transit-aerialways-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "transit-monochrome-flag": false,
                "transit-inherit-poi-colors": true,
                "transit-color": "{{darken (multiply artificial-sign 0.1) (darkenBy (multiply artificial-sign 15) artificial-derived)}}",
                "transit-area-color": "{{darken (multiply artificial-sign 0.01) (darkenBy (multiply artificial-sign 2) artificial-derived)}}",
                "transit-transport-color": "{{#if (equal transit-inherit-poi-colors false)}}{{transit-area-color}}{{else}}{{desaturate (minus 1 (multiply 0.5 lu-saturation-factor)) (mixLightness transit-area-color 0.95 loi-transport-color)}}{{/if}}",
                "transit-airport-color": "{{#if (equal transit-inherit-poi-colors false)}}{{transit-area-color}}{{else}}{{desaturate (minus 1 (multiply 0.66 lu-saturation-factor)) (mixLightness transit-area-color 0.95 loi-transport-color)}}{{/if}}",
                "transit-runway-color": "{{darken 0.025 (darkenBy 6 transit-airport-color)}}",
                "transit-taxiway-color": "{{lighten 0.025 (lightenBy 3 transit-runway-color)}}",
                "transit-platform-color": "{{darken (multiply artificial-sign 0.025) (darkenBy (multiply artificial-sign 1) transit-transport-color)}}",
                "transit-rail-color": "{{desaturate 0.33 (mixLightness transit-color 0.95 transit-transport-color)}}",
                "transit-rail-fill-color": "{{desaturate 0.33 (mixLightness artificial 1 transit-rail-color)}}",
                "transit-rail-tunnel-color": "{{mixLightness artificial 0.5 (lighten 0.06 (desaturate 0.25 transit-rail-color))}}",
                "transit-rail-tunnel-fill-color": "{{mixLightness artificial 0.5 (lighten 0.06 (desaturate 0.25 transit-rail-fill-color))}}",
                "transit-ferry-color": "{{darken (multiply water-contrast-sign 0.1) (darkenBy (multiply water-contrast-sign 10) water)}}",
                "transit-aerialway-color": "{{desaturate 0.16 (mixLightness transit-color 0.9 transit-transport-color)}}",
                "transit-ferry-text-color": "{{darken (multiply water-contrast-sign 0.1) (darkenBy (multiply water-contrast-sign 10) transit-ferry-color)}}",
                "transit-ferry-halo-color": "{{fade 0.5 (lighten (multiply water-contrast-sign 0.5) (lightenBy (multiply water-contrast-sign 30) transit-ferry-color))}}",
                "transit-size-factor": 1,
                "transit-size-factor-m": 1,
                "transit-size-factor-l": 1,
                "transit-zoom-min": 8,
                "transit-zoom-offset": 0,
                "transit-zoom-aeroways-min": 10,
                "transit-zoom-platforms-min": 14,
                "transit-zoom-railways-min": 12,
                "transit-zoom-railways-tunnel-max": 15,
                "transit-zoom-railways-subway-min": 14,
                "transit-zoom-railways-dash-min": 14,
                "transit-zoom-railways-fill-min": 16,
                "transit-zoom-ferries-min": 8,
                "transit-zoom-ferries-labels-min": "{{max 9 transit-zoom-ferries-min}}",
                "transit-zoom-aerialways-min": 14
              }
            }
          },
          "borders": {
            "groups": {
              "features": {
                "layers": [
                  {
                    "id": "Borders - Background",
                    "type": "line",
                    "metadata": {"group": "border"},
                    "source": "vectorTiles",
                    "source-layer": "boundaries",
                    "filter": [
                      "all",
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]]
                    ],
                    "layout": {
                      "visibility": "{{borders-layer-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{border-background-color}}",
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        ["match", ["get", "category"], "country", 0, 0],
                        7,
                        ["match", ["get", "category"], "country", 0.3, 0],
                        10,
                        ["match", ["get", "category"], "country", 0.7, 0.5]
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        4,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-background-factor 2))}}//",
                        10,
                        [
                          "match",
                          ["get", "category"],
                          "country",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-background-factor 5))}}//",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-background-factor 3))}}//"
                        ],
                        16,
                        [
                          "match",
                          ["get", "category"],
                          "country",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-l (multiply borders-width-background-factor 6))}}//",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-l (multiply borders-width-background-factor 4))}}//"
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Borders - Maritime",
                    "type": "line",
                    "metadata": {"group": "border"},
                    "source": "vectorTiles",
                    "source-layer": "boundaries",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "maritime"],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      ["!", ["has", "disputed"]],
                      ["!", ["has", "treaty"]]
                    ],
                    "layout": {
                      "visibility": "{{borders-layer-visibility}}",
                      "line-cap": "square",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{border-maritime-color}}",
                      "line-dasharray": [5, 3],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        2,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-xs (multiply borders-width-maritime-factor 0.5))}}//",
                        4,
                        [
                          "match",
                          ["get", "subcategory"],
                          "territorial_sea",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-maritime-factor 1.5))}}//",
                          "contiguous_zone",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-maritime-factor 1.25))}}//",
                          "exclusive_economic_zone",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-maritime-factor 1))}}//",
                          "continental_shelf",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-maritime-factor 0.75))}}//",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-maritime-factor 0.5))}}//"
                        ],
                        10,
                        [
                          "match",
                          ["get", "subcategory"],
                          "territorial_sea",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-maritime-factor 3.5))}}//",
                          "contiguous_zone",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-maritime-factor 3))}}//",
                          "exclusive_economic_zone",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-maritime-factor 2))}}//",
                          "continental_shelf",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-maritime-factor 1.5))}}//",
                          "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-maritime-factor 1))}}//"
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Borders - Treaty",
                    "type": "line",
                    "metadata": {"group": "border"},
                    "source": "vectorTiles",
                    "source-layer": "boundaries",
                    "filter": [
                      "all",
                      ["!", ["has", "disputed"]],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      ["has", "treaty"]
                    ],
                    "layout": {
                      "visibility": "{{borders-layer-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{border-treaty-color}}",
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [1.5, 2]],
                        6,
                        ["literal", [2, 3]],
                        10,
                        ["literal", [2, 4]]
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        2,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-xs (multiply borders-width-disputed_treaty-factor 0.8))}}//",
                        4,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-disputed_treaty-factor 1))}}//",
                        10,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-disputed_treaty-factor 1.8))}}//"
                      ]
                    }
                  },
                  {
                    "id": "Borders - Disputed",
                    "type": "line",
                    "metadata": {"group": "border"},
                    "source": "vectorTiles",
                    "source-layer": "boundaries",
                    "filter": [
                      "all",
                      ["has", "disputed"],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      ["!", ["has", "treaty"]]
                    ],
                    "layout": {
                      "visibility": "{{borders-layer-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{border-disputed-color}}",
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [1, 1, 0, 1]],
                        6,
                        ["literal", [2, 2, 0, 2]],
                        10,
                        ["literal", [3, 3, 0, 3]]
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        2,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-xs (multiply borders-width-disputed_treaty-factor 0.8))}}//",
                        4,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-disputed_treaty-factor 1))}}//",
                        10,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-disputed_treaty-factor 1.8))}}//"
                      ]
                    }
                  },
                  {
                    "id": "Borders - State",
                    "type": "line",
                    "metadata": {"group": "border"},
                    "source": "vectorTiles",
                    "source-layer": "boundaries",
                    "minzoom": 3,
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "state"],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      ["!", ["has", "disputed"]],
                      ["!", ["has", "treaty"]]
                    ],
                    "layout": {
                      "visibility": "{{borders-layer-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "{{border-state-color-s}}",
                        7,
                        "{{border-state-color-m}}"
                      ],
                      "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [1, 0.01]],
                        4,
                        ["literal", [2, 2]]
                      ],
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        4,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-state-factor 0.5))}}//",
                        10,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-state-factor 1.5))}}//"
                      ]
                    }
                  },
                  {
                    "id": "Borders - Country",
                    "type": "line",
                    "metadata": {"group": "border"},
                    "source": "vectorTiles",
                    "source-layer": "boundaries",
                    "filter": [
                      "all",
                      ["==", ["get", "category"], "country"],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      ["!", ["has", "disputed"]],
                      ["!", ["has", "treaty"]]
                    ],
                    "layout": {
                      "visibility": "{{borders-layer-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{border-country-color}}",
                      "line-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        2,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-xs (multiply borders-width-country-factor 0.5))}}//",
                        4,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-s (multiply borders-width-country-factor 1))}}//",
                        10,
                        "//{{multiply borders-width-factor (multiply borders-width-factor-m (multiply borders-width-country-factor 2))}}//"
                      ]
                    }
                  }
                ]
              },
              "labels": {
                "layers": [
                  {
                    "id": "Borders - Treaty label",
                    "type": "symbol",
                    "metadata": {"group": "label"},
                    "source": "vectorTiles",
                    "source-layer": "boundaries",
                    "filter": [
                      "all",
                      ["has", "name"],
                      [
                        ">=",
                        ["zoom"],
                        ["coalesce", ["get", "label_minzoom"], 0]
                      ],
                      [
                        "<=",
                        ["zoom"],
                        ["coalesce", ["get", "label_maxzoom"], 22]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{borders-layer-visibility}}",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "line",
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-regular}}}"],
                      "text-keep-upright": true,
                      "text-letter-spacing": 0.1,
                      "text-rotation-alignment": "map",
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        0,
                        "//{{multiply symbol-size-factor (multiply borders-size-factor (multiply borders-size-factor-xs 8))}}//",
                        4,
                        "//{{multiply symbol-size-factor (multiply borders-size-factor (multiply borders-size-factor-s 10))}}//",
                        10,
                        "//{{multiply symbol-size-factor (multiply borders-size-factor (multiply borders-size-factor-m 16))}}//"
                      ],
                      "text-offset": [0, -1],
                      "text-pitch-alignment": "viewport"
                    },
                    "paint": {
                      "text-color": [
                        "case",
                        ["has", "disputed"],
                        "{{border-disputed-text-color}}",
                        ["has", "treaty"],
                        "{{border-treaty-text-color}}",
                        ["==", ["get", "category"], "maritime"],
                        "{{border-maritime-text-color}}",
                        "{{border-text-color}}"
                      ],
                      "text-halo-color": "{{border-halo-color}}",
                      "text-halo-width": 1
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "borders-module-visible": true,
                "borders-layer-visibility": "{{#if (equal borders-module-visible toggle-false)}}none{{else}}visible{{/if}}",
                "treaty-color": "{{hsl 219 70 100}}",
                "disputed-color": "{{hsl 23 56 100}}",
                "border-country-color": "{{mixLightness label-derived 0.5 (scaleHsl 1 0.05 1 land)}}",
                "border-state-color-m": "{{mixLightness label-derived 0.4 (scaleHsl 1 0.1 1 land)}}",
                "border-state-color-s": "{{mixLightness land 0.1 border-state-color-m}}",
                "border-background-color": "{{label-outline-derived}}",
                "border-treaty-color": "{{mixLightness border-country-color 0.9 (mixSaturation land 0.75 treaty-color)}}",
                "border-disputed-color": "{{mixLightness border-country-color 0.9 (mixSaturation land 0.75 disputed-color)}}",
                "border-maritime-color": "{{mixLightness border-country-color 0.9 water}}",
                "border-treaty-text-color": "{{mixLightness label-derived 0.25 border-treaty-color}}",
                "border-disputed-text-color": "{{mixLightness label-derived 0.25 border-disputed-color}}",
                "border-maritime-text-color": "{{mixLightness label-derived 0.25 border-maritime-color}}",
                "border-text-color": "{{mixLightness label-derived 0.15 border-country-color}}",
                "border-treaty-halo-color": "{{fade 0.5 label-outline-derived}}",
                "border-halo-color": "{{fade 0.5 label-outline-derived}}",
                "borders-width-factor": 1,
                "borders-width-factor-xs": 1,
                "borders-width-factor-s": 1,
                "borders-width-factor-m": 1,
                "borders-width-factor-l": 1,
                "borders-width-country-factor": 1,
                "borders-width-state-factor": 1,
                "borders-width-maritime-factor": 1,
                "borders-width-disputed_treaty-factor": 1,
                "borders-width-background-factor": 1,
                "borders-size-factor": 1,
                "borders-size-factor-xs": 1,
                "borders-size-factor-s": 1,
                "borders-size-factor-m": 1
              }
            }
          },
          "places": {
            "groups": {
              "address_points": {
                "layers": [
                  {
                    "id": "House Number",
                    "type": "symbol",
                    "metadata": {"group": "address_point_label"},
                    "source": "vectorTiles",
                    "source-layer": "address_points",
                    "minzoom": "//{{max places-zoom-min places-zoom-address_points-min}}//",
                    "filter": ["==", ["get", "category"], "house"],
                    "layout": {
                      "visibility": "{{places-address_points-visibility}}",
                      "symbol-placement": "point",
                      "text-field": [
                        "coalesce",
                        ["get", "number"],
                        ["get", "name"]
                      ],
                      "text-font": ["{{{text-font-regular}}}"],
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        18,
                        "//{{places-size-address_points-l}}//",
                        20,
                        "//{{places-size-address_points-xl}}//"
                      ]
                    },
                    "paint": {
                      "text-color": "{{places-address-text-color}}",
                      "text-halo-color": "{{places-address-halo-color}}",
                      "text-halo-width": 1
                    }
                  }
                ]
              },
              "labels": {
                "layers": [
                  {
                    "id": "Places - Village / Hamlet",
                    "type": "symbol",
                    "metadata": {"group": "places_label"},
                    "source": "vectorTiles",
                    "source-layer": "places",
                    "minzoom": "//{{max (max places-zoom-min places-zoom-settlements-min) (add places-zoom-settlements-offset 10)}}//",
                    "maxzoom": "//{{min places-zoom-settlements-max (add places-zoom-settlements-offset 17)}}//",
                    "filter": [
                      "all",
                      ["!=", ["has", "name"], false],
                      ["==", ["get", "category"], "settlement"],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "subcategory"],
                          ["village"],
                          true,
                          false
                        ],
                        "//{{add places-zoom-settlements-offset 11}}//",
                        [
                          "match",
                          ["get", "subcategory"],
                          ["village", "hamlet"],
                          true,
                          false
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{places-settlements-visibility}}",
                      "symbol-placement": "point",
                      "symbol-sort-key": [
                        "+",
                        ["length", ["get", "name"]],
                        ["*", ["coalesce", ["get", "display_class"], 12], 100],
                        [
                          "*",
                          ["match", ["get", "subcategory"], "hamlet", 2, 1],
                          10
                        ]
                      ],
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-regular}}}"],
                      "text-padding": 10,
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        8,
                        [
                          "match",
                          ["get", "subcategory"],
                          "hamlet",
                          "//{{places-size-settlements-hamlet-s}}//",
                          "//{{places-size-settlements-village-s}}//"
                        ],
                        15,
                        [
                          "match",
                          ["get", "subcategory"],
                          "hamlet",
                          "//{{places-size-settlements-hamlet-m}}//",
                          "//{{places-size-settlements-village-m}}//"
                        ]
                      ],
                      "text-transform": [
                        "match",
                        ["get", "subcategory"],
                        "hamlet",
                        "none",
                        "none"
                      ]
                    },
                    "paint": {
                      "text-color": "{{places-village-text-color}}",
                      "text-halo-color": "{{places-settlement-halo-color}}",
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "Places - Neighbourhood",
                    "type": "symbol",
                    "metadata": {"group": "places_label"},
                    "source": "vectorTiles",
                    "source-layer": "places",
                    "minzoom": "//{{max (max places-zoom-min places-zoom-settlements-min) (add places-zoom-settlements-offset 10)}}//",
                    "maxzoom": "//{{min places-zoom-settlements-max (add places-zoom-settlements-offset 17)}}//",
                    "filter": [
                      "all",
                      ["!=", ["has", "name"], false],
                      [
                        "any",
                        ["==", ["get", "category"], "settlement_division"],
                        [">=", ["get", "admin_class"], 9]
                      ],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]]
                    ],
                    "layout": {
                      "visibility": "{{places-settlements-visibility}}",
                      "symbol-placement": "point",
                      "symbol-sort-key": [
                        "+",
                        ["length", ["get", "name"]],
                        ["*", ["coalesce", ["get", "display_class"], 12], 100]
                      ],
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-regular}}}"],
                      "text-letter-spacing": 0.05,
                      "text-padding": 8,
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        8,
                        "//{{places-size-settlements-neighbourhood-s}}//",
                        15,
                        "//{{places-size-settlements-neighbourhood-m}}//"
                      ],
                      "text-transform": "uppercase"
                    },
                    "paint": {
                      "text-color": "{{places-neighbourhood-text-color}}",
                      "text-halo-color": "{{places-area-halo-color}}",
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "Places - Town",
                    "type": "symbol",
                    "metadata": {"group": "places_label"},
                    "source": "vectorTiles",
                    "source-layer": "places",
                    "minzoom": "//{{max (max places-zoom-min places-zoom-settlements-min) (add places-zoom-settlements-offset 7)}}//",
                    "maxzoom": "//{{min places-zoom-settlements-max (add places-zoom-settlements-offset 16)}}//",
                    "filter": [
                      "all",
                      ["!=", ["has", "name"], false],
                      ["==", ["get", "category"], "settlement"],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["city", "town"],
                        true,
                        false
                      ],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      [">", ["get", "display_class"], 8],
                      [
                        "step",
                        ["zoom"],
                        [
                          "any",
                          [
                            "all",
                            ["<=", ["get", "admin_class"], 8],
                            ["<=", ["get", "display_class"], 10]
                          ],
                          ["<=", ["get", "display_class"], 9]
                        ],
                        "//{{add places-zoom-settlements-offset 8}}//",
                        ["<=", ["get", "display_class"], 10],
                        "//{{add places-zoom-settlements-offset 9}}//",
                        ["<=", ["get", "display_class"], 12]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{places-settlements-visibility}}",
                      "icon-image": [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "icon"],
                          "town",
                          "cityPopRank4",
                          "cityPopRank4"
                        ],
                        "//{{places-zoom-settlements-icon-max}}//",
                        ""
                      ],
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "//{{places-size-settlements-icon-xs}}//",
                        8,
                        "//{{places-size-settlements-icon-s}}//"
                      ],
                      "symbol-placement": "point",
                      "symbol-sort-key": [
                        "+",
                        ["length", ["get", "name"]],
                        ["*", ["coalesce", ["get", "display_class"], 12], 100],
                        ["*", ["coalesce", ["get", "admin_class"], 9], 10]
                      ],
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-regular}}}"],
                      "text-justify": "auto",
                      "text-padding": 5,
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        8,
                        "//{{places-size-settlements-town-s}}//",
                        15,
                        "//{{places-size-settlements-town-m}}//"
                      ],
                      "text-radial-offset": [
                        "step",
                        ["zoom"],
                        0.55,
                        "//{{places-zoom-settlements-icon-max}}//",
                        0
                      ],
                      "text-anchor": "bottom"
                    },
                    "paint": {
                      "text-color": "{{places-town-text-color}}",
                      "text-halo-color": "{{places-settlement-halo-color}}",
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "Places - City",
                    "type": "symbol",
                    "metadata": {"group": "places_label"},
                    "source": "vectorTiles",
                    "source-layer": "places",
                    "minzoom": "//{{max (max places-zoom-min places-zoom-settlements-min) (add places-zoom-settlements-offset 3)}}//",
                    "maxzoom": "//{{min places-zoom-settlements-max (add places-zoom-settlements-offset 15)}}//",
                    "filter": [
                      "all",
                      ["!=", ["has", "name"], false],
                      ["==", ["get", "category"], "settlement"],
                      [
                        "match",
                        ["get", "subcategory"],
                        ["city", "town"],
                        true,
                        false
                      ],
                      ["!=", ["get", "admin_class"], 2],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      [
                        "step",
                        ["zoom"],
                        [
                          "any",
                          ["<=", ["get", "display_class"], 3],
                          [
                            "all",
                            ["<=", ["get", "admin_class"], 4],
                            ["<=", ["get", "display_class"], 5]
                          ]
                        ],
                        "//{{add places-zoom-settlements-offset 5}}//",
                        [
                          "any",
                          ["<=", ["get", "display_class"], 3],
                          [
                            "all",
                            ["<=", ["get", "admin_class"], 4],
                            ["<=", ["get", "display_class"], 8]
                          ],
                          [
                            "all",
                            ["<=", ["get", "admin_class"], 6],
                            ["<=", ["get", "display_class"], 6]
                          ]
                        ],
                        "//{{add places-zoom-settlements-offset 6}}//",
                        [
                          "any",
                          ["<=", ["get", "display_class"], 5],
                          [
                            "all",
                            ["<=", ["get", "admin_class"], 8],
                            ["<=", ["get", "display_class"], 8]
                          ]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{places-settlements-visibility}}",
                      "icon-image": [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "icon"],
                          "city_large",
                          "cityPopRank1",
                          "city_medium",
                          "cityPopRank2",
                          "city_small",
                          "cityPopRank3",
                          "cityPopRank4"
                        ],
                        "//{{places-zoom-settlements-icon-max}}//",
                        ""
                      ],
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "//{{places-size-settlements-icon-xs}}//",
                        8,
                        "//{{places-size-settlements-icon-s}}//"
                      ],
                      "symbol-placement": "point",
                      "symbol-sort-key": [
                        "+",
                        ["length", ["get", "name"]],
                        ["*", ["coalesce", ["get", "display_class"], 8], 100],
                        ["*", ["coalesce", ["get", "admin_class"], 8], 10]
                      ],
                      "text-anchor": "bottom",
                      "text-field": "{name}",
                      "text-font": [
                        "step",
                        ["zoom"],
                        ["literal", ["{{{text-font-regular}}}"]],
                        5,
                        ["literal", ["{{{text-font-medium}}}"]]
                      ],
                      "text-justify": "auto",
                      "text-letter-spacing": 0.05,
                      "text-padding": 5,
                      "text-radial-offset": [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "icon"],
                          "city_large",
                          0.65,
                          "city_medium",
                          0.6,
                          "city_small",
                          0.55,
                          0.55
                        ],
                        "//{{places-zoom-settlements-icon-max}}//",
                        0
                      ],
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        [
                          "match",
                          ["get", "icon"],
                          "city_large",
                          "//{{places-size-settlements-city_large-xs}}//",
                          "city_medium",
                          "//{{places-size-settlements-city_medium-xs}}//",
                          "city_small",
                          "//{{places-size-settlements-city_small-xs}}//",
                          "//{{places-size-settlements-city_small-xs}}//"
                        ],
                        8,
                        [
                          "match",
                          ["get", "icon"],
                          "city_large",
                          "//{{places-size-settlements-city_large-s}}//",
                          "city_medium",
                          "//{{places-size-settlements-city_medium-s}}//",
                          "city_small",
                          "//{{places-size-settlements-city_small-s}}//",
                          "//{{places-size-settlements-city_small-s}}//"
                        ],
                        15,
                        [
                          "match",
                          ["get", "icon"],
                          "city_large",
                          "//{{places-size-settlements-city_large-m}}//",
                          "city_medium",
                          "//{{places-size-settlements-city_medium-m}}//",
                          "city_small",
                          "//{{places-size-settlements-city_small-m}}//",
                          "//{{places-size-settlements-city_small-m}}//"
                        ]
                      ]
                    },
                    "paint": {
                      "text-color": [
                        "match",
                        ["get", "icon"],
                        "city_large",
                        "{{places-city-l-text-color}}",
                        "city_medium",
                        "{{places-city-m-text-color}}",
                        "city_small",
                        "{{places-city-s-text-color}}",
                        "{{places-city-text-color}}"
                      ],
                      "text-halo-color": "{{places-settlement-halo-color}}",
                      "text-halo-width": 1.5
                    }
                  },
                  {
                    "id": "Places - Label point",
                    "type": "symbol",
                    "metadata": {"group": "places_label"},
                    "source": "vectorTiles",
                    "source-layer": "places",
                    "filter": [
                      "all",
                      ["==", ["has", "name"], true],
                      ["==", ["get", "category"], "label_point"],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]]
                    ],
                    "layout": {
                      "visibility": "{{places-admin-visibility}}",
                      "symbol-placement": "point",
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-regular}}}"],
                      "text-letter-spacing": 0.1,
                      "text-max-width": 6,
                      "text-padding": 2,
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "//{{places-size-admin-state-xxs}}//",
                        4,
                        "//{{places-size-admin-state-xs}}//",
                        8,
                        "//{{places-size-admin-state-s}}//"
                      ],
                      "text-anchor": "center"
                    },
                    "paint": {
                      "text-color": "{{places-label_point-text-color}}",
                      "text-halo-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        0,
                        "{{places-area-halo-color-xs}}",
                        4,
                        "{{places-area-halo-color}}"
                      ],
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "Places - State name",
                    "type": "symbol",
                    "metadata": {"group": "places_label"},
                    "source": "vectorTiles",
                    "source-layer": "places",
                    "minzoom": "//{{max (max places-zoom-min places-zoom-admin-min) (add places-zoom-admin-offset 3)}}//",
                    "maxzoom": "//{{min places-zoom-admin-max (add places-zoom-admin-offset 14)}}//",
                    "filter": [
                      "all",
                      ["!=", ["has", "name"], false],
                      ["==", ["get", "category"], "admin_division"],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      [
                        "step",
                        ["zoom"],
                        [
                          "match",
                          ["get", "country_code"],
                          ["USA", "CAN", "BRA", "AUS"],
                          true,
                          false
                        ],
                        "//{{add places-zoom-admin-offset 6}}//",
                        [
                          "match",
                          ["get", "subcategory"],
                          ["state", "province"],
                          true,
                          false
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{places-admin-visibility}}",
                      "symbol-placement": "point",
                      "text-field": [
                        "step",
                        ["zoom"],
                        ["get", "state_code"],
                        "//{{places-zoom-admin-code-max}}//",
                        ["get", "name"]
                      ],
                      "text-font": ["{{{text-font-regular}}}"],
                      "text-letter-spacing": 0.1,
                      "text-padding": 2,
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "//{{places-size-admin-state-xxs}}//",
                        4,
                        "//{{places-size-admin-state-xs}}//",
                        8,
                        "//{{places-size-admin-state-s}}//"
                      ],
                      "text-transform": "uppercase",
                      "text-max-width": 6
                    },
                    "paint": {
                      "text-color": "{{places-state-text-color}}",
                      "text-halo-blur": 1,
                      "text-halo-color": "{{places-area-halo-color}}",
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "Places - Capital",
                    "type": "symbol",
                    "metadata": {"group": "places_label"},
                    "source": "vectorTiles",
                    "source-layer": "places",
                    "minzoom": "//{{max places-zoom-min places-zoom-settlements-min}}//",
                    "maxzoom": "//{{min places-zoom-settlements-max (add places-zoom-settlements-offset 15)}}//",
                    "filter": [
                      "all",
                      ["!=", ["has", "name"], false],
                      ["==", ["get", "category"], "settlement"],
                      ["==", ["get", "admin_class"], 2],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      [
                        "step",
                        ["zoom"],
                        ["<=", ["get", "display_class"], 7],
                        "//{{add places-zoom-settlements-offset 4}}//",
                        ["<=", ["get", "display_class"], 12]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{places-settlements-visibility}}",
                      "icon-image": [
                        "step",
                        ["zoom"],
                        "capitalPopRank0",
                        "//{{places-zoom-settlements-icon-max}}//",
                        ""
                      ],
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "//{{places-size-settlements-icon-xs}}//",
                        8,
                        "//{{places-size-settlements-icon-s}}//"
                      ],
                      "symbol-placement": "point",
                      "symbol-sort-key": [
                        "+",
                        ["length", ["get", "name"]],
                        ["*", ["coalesce", ["get", "display_class"], 2], 100]
                      ],
                      "text-variable-anchor": ["top", "bottom"],
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-justify": "auto",
                      "text-letter-spacing": 0.05,
                      "text-radial-offset": [
                        "step",
                        ["zoom"],
                        0.6,
                        "//{{places-zoom-settlements-icon-max}}//",
                        0
                      ],
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "//{{places-size-settlements-capital-xs}}//",
                        8,
                        "//{{places-size-settlements-capital-s}}//",
                        15,
                        "//{{places-size-settlements-capital-m}}//"
                      ]
                    },
                    "paint": {
                      "text-color": "{{places-capital-text-color}}",
                      "text-halo-color": "{{places-settlement-halo-color}}",
                      "text-halo-width": 2
                    }
                  },
                  {
                    "id": "Places - Country name",
                    "type": "symbol",
                    "metadata": {"group": "places_label"},
                    "source": "vectorTiles",
                    "source-layer": "places",
                    "minzoom": "//{{max places-zoom-min places-zoom-admin-min}}//",
                    "maxzoom": "//{{min places-zoom-admin-max (add places-zoom-admin-offset 13)}}//",
                    "filter": [
                      "all",
                      ["!=", ["has", "name"], false],
                      ["==", ["get", "category"], "country"],
                      [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
                      ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
                      [
                        "<=",
                        ["get", "display_class"],
                        ["-", ["zoom"], "//{{places-zoom-admin-offset}}//"]
                      ],
                      [
                        ">=",
                        ["+", 6, ["get", "display_class"]],
                        ["-", ["zoom"], "//{{places-zoom-admin-offset}}//"]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{places-admin-visibility}}",
                      "symbol-placement": "point",
                      "symbol-sort-key": [
                        "+",
                        ["length", ["get", "name"]],
                        ["*", ["get", "display_class"], 100]
                      ],
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-medium}}}"],
                      "text-letter-spacing": 0.1,
                      "text-max-width": 8,
                      "text-padding": 2,
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        2,
                        "//{{places-size-admin-country-xxs}}//",
                        4,
                        [
                          "-",
                          "//{{places-size-admin-country-xs}}//",
                          ["get", "display_class"]
                        ],
                        6,
                        [
                          "-",
                          "//{{divide (add places-size-admin-country-xs places-size-admin-country-s) 2}}//",
                          ["get", "display_class"]
                        ],
                        8,
                        "//{{places-size-admin-country-s}}//"
                      ],
                      "text-transform": [
                        "match",
                        ["get", "country_code"],
                        "GEO",
                        "none",
                        "uppercase"
                      ]
                    },
                    "paint": {
                      "text-color": "{{places-country-text-color}}",
                      "text-halo-color": "{{places-area-halo-color}}",
                      "text-halo-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        2,
                        0.5,
                        6,
                        1
                      ]
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "places-module-visible": true,
                "places-address_points-visible": true,
                "places-settlements-visible": true,
                "places-admin-visible": true,
                "places-address_points-visibility": "{{#if (equal places-module-visible toggle-false)}}none{{else}}{{#if (equal places-address_points-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "places-settlements-visibility": "{{#if (equal places-module-visible toggle-false)}}none{{else}}{{#if (equal places-settlements-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "places-admin-visibility": "{{#if (equal places-module-visible toggle-false)}}none{{else}}{{#if (equal places-admin-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "area-label": "{{lightness (getL label-derived) (scaleHsl 1 0.6 1 land)}}",
                "label-halo-full": "{{label-outline-derived}}",
                "label-halo-medium": "{{fade 0.2 label-outline-derived}}",
                "label-halo-subtle": "{{fade 0.5 label-outline-derived}}",
                "places-capital-text-color": "{{label-derived}}",
                "places-city-text-color": "{{mixLightness land 0.05 label-derived}}",
                "places-city-l-text-color": "{{places-city-text-color}}",
                "places-city-m-text-color": "{{mixLightness land 0.05 places-city-l-text-color}}",
                "places-city-s-text-color": "{{mixLightness land 0.05 places-city-m-text-color}}",
                "places-town-text-color": "{{mixLightness land 0.2 label-derived}}",
                "places-neighbourhood-text-color": "{{mixLightness land 0.25 label-derived}}",
                "places-village-text-color": "{{mixLightness land 0.3 label-derived}}",
                "places-address-text-color": "{{mixLightness land 0.35 label-derived}}",
                "places-country-text-color": "{{mixLightness land 0.2 area-label}}",
                "places-state-text-color": "{{desaturate 0.5 (mixLightness land 0.4 (mixLightness land 0.2 area-label))}}",
                "places-label_point-text-color": "{{desaturate 1 (mixLightness land 0.4 area-label)}}",
                "places-area-halo-color": "{{label-halo-full}}",
                "places-area-halo-color-xs": "{{label-halo-subtle}}",
                "places-settlement-halo-color": "{{label-halo-medium}}",
                "places-address-halo-color": "{{label-halo-subtle}}",
                "places-size-factor": 1,
                "places-size-settlements-factor": 1,
                "places-size-settlements-factor-xs": 1,
                "places-size-settlements-factor-s": 1,
                "places-size-settlements-factor-m": 1,
                "places-size-settlements-min-xs": 8,
                "places-size-settlements-min-s": 8,
                "places-size-settlements-min-m": 10,
                "places-size-settlements-max-xs": 12,
                "places-size-settlements-max-s": 18,
                "places-size-settlements-max-m": 25,
                "places-size-settlements-step-xs": 1,
                "places-size-settlements-step-s": 2,
                "places-size-settlements-step-m": 2,
                "places-size-settlements-capital-m": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-m (multiply places-size-settlements-factor (minus places-size-settlements-max-m (multiply places-size-settlements-step-m 0)))))}}",
                "places-size-settlements-city_large-m": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-m (multiply places-size-settlements-factor (minus places-size-settlements-max-m (multiply places-size-settlements-step-m 0)))))}}",
                "places-size-settlements-city_medium-m": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-m (multiply places-size-settlements-factor (minus places-size-settlements-max-m (multiply places-size-settlements-step-m 1)))))}}",
                "places-size-settlements-city_small-m": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-m (multiply places-size-settlements-factor (minus places-size-settlements-max-m (multiply places-size-settlements-step-m 2)))))}}",
                "places-size-settlements-town-m": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-m (multiply places-size-settlements-factor (minus places-size-settlements-max-m (multiply places-size-settlements-step-m 3)))))}}",
                "places-size-settlements-neighbourhood-m": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-m (multiply places-size-settlements-factor (minus places-size-settlements-max-m (multiply places-size-settlements-step-m 5)))))}}",
                "places-size-settlements-village-m": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-m (multiply places-size-settlements-factor (minus places-size-settlements-max-m (multiply places-size-settlements-step-m 5)))))}}",
                "places-size-settlements-hamlet-m": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-m (multiply places-size-settlements-factor (minus places-size-settlements-max-m (multiply places-size-settlements-step-m 6)))))}}",
                "places-size-settlements-capital-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-s (multiply places-size-settlements-factor (minus places-size-settlements-max-s (multiply places-size-settlements-step-s 0)))))}}",
                "places-size-settlements-city_large-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-s (multiply places-size-settlements-factor (minus places-size-settlements-max-s (multiply places-size-settlements-step-s 0)))))}}",
                "places-size-settlements-city_medium-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-s (multiply places-size-settlements-factor (minus places-size-settlements-max-s (multiply places-size-settlements-step-s 1)))))}}",
                "places-size-settlements-city_small-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-s (multiply places-size-settlements-factor (minus places-size-settlements-max-s (multiply places-size-settlements-step-s 2)))))}}",
                "places-size-settlements-town-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-s (multiply places-size-settlements-factor (minus places-size-settlements-max-s (multiply places-size-settlements-step-s 3)))))}}",
                "places-size-settlements-neighbourhood-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-s (multiply places-size-settlements-factor (minus places-size-settlements-max-s (multiply places-size-settlements-step-s 4)))))}}",
                "places-size-settlements-village-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-s (multiply places-size-settlements-factor (minus places-size-settlements-max-s (multiply places-size-settlements-step-s 4)))))}}",
                "places-size-settlements-hamlet-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-s (multiply places-size-settlements-factor (minus places-size-settlements-max-s (multiply places-size-settlements-step-s 4.5)))))}}",
                "places-size-settlements-capital-xs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-xs (multiply places-size-settlements-factor (minus places-size-settlements-max-xs (multiply places-size-settlements-step-xs 0)))))}}",
                "places-size-settlements-city_large-xs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-xs (multiply places-size-settlements-factor (minus places-size-settlements-max-xs (multiply places-size-settlements-step-xs 0)))))}}",
                "places-size-settlements-city_medium-xs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-xs (multiply places-size-settlements-factor (minus places-size-settlements-max-xs (multiply places-size-settlements-step-xs 1)))))}}",
                "places-size-settlements-city_small-xs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-factor-xs (multiply places-size-settlements-factor (minus places-size-settlements-max-xs (multiply places-size-settlements-step-xs 2)))))}}",
                "places-size-settlements-icon-factor": 1,
                "places-size-settlements-icon-factor-xs": "{{divide places-size-settlements-capital-xs places-size-settlements-capital-s}}",
                "places-size-settlements-icon-factor-s": 1,
                "places-size-settlements-icon-xs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-icon-factor places-size-settlements-icon-factor-xs))}}",
                "places-size-settlements-icon-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-settlements-icon-factor places-size-settlements-icon-factor-s))}}",
                "places-size-admin-factor": 1,
                "places-size-admin-factor-xs": 1,
                "places-size-admin-factor-s": 1,
                "places-size-admin-step": 4,
                "places-size-admin-country-min": 10,
                "places-size-admin-state-min": 8,
                "places-size-admin-country-max": 24,
                "places-size-admin-state-max": 14,
                "places-size-admin-country-xxs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-admin-factor places-size-admin-country-min))}}",
                "places-size-admin-state-xxs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-admin-factor places-size-admin-state-min))}}",
                "places-size-admin-country-xs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-admin-factor (multiply places-size-admin-factor-xs (minus places-size-admin-country-max (multiply places-size-admin-step 2)))))}}",
                "places-size-admin-state-xs": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-admin-factor (multiply places-size-admin-factor-xs (minus places-size-admin-state-max (multiply places-size-admin-step 1)))))}}",
                "places-size-admin-country-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-admin-factor (multiply places-size-admin-factor-s (minus places-size-admin-country-max (multiply places-size-admin-step 0)))))}}",
                "places-size-admin-state-s": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-admin-factor (multiply places-size-admin-factor-s (minus places-size-admin-state-max (multiply places-size-admin-step 0)))))}}",
                "places-size-address_points-factor": 1,
                "places-size-address_points-factor-l": 1,
                "places-size-address_points-factor-xl": 1,
                "places-size-address_points-min": 10,
                "places-size-address_points-max": 12,
                "places-size-address_points-xl": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-address_points-factor (multiply places-size-address_points-factor-xl places-size-address_points-max)))}}",
                "places-size-address_points-l": "{{multiply symbol-size-factor (multiply places-size-factor (multiply places-size-address_points-factor (multiply places-size-address_points-factor-l places-size-address_points-min)))}}",
                "places-zoom-min": 2,
                "places-zoom-admin-min": 2,
                "places-zoom-admin-max": 14,
                "places-zoom-admin-offset": 0,
                "places-zoom-admin-code-max": 4,
                "places-zoom-settlements-min": 3,
                "places-zoom-settlements-max": 17,
                "places-zoom-settlements-offset": 0,
                "places-zoom-settlements-icon-max": 8,
                "places-zoom-address_points-min": 18
              }
            }
          },
          "poi": {
            "groups": {
              "markers": {
                "layers": [
                  {
                    "id": "POI - Micro",
                    "type": "symbol",
                    "metadata": {"group": "POI"},
                    "source": "vectorTiles",
                    "source-layer": "poi",
                    "minzoom": "//{{max poi-zoom-min poi-zoom-micro-min}}//",
                    "filter": [
                      "all",
                      [
                        "<=",
                        ["get", "priority"],
                        "//{{poi-zoom-priority-threshold}}//"
                      ],
                      [
                        "any",
                        ["has", "name"],
                        [
                          "match",
                          ["get", "group"],
                          ["parking", "transport"],
                          true,
                          false
                        ]
                      ],
                      [
                        "match",
                        ["get", "group"],
                        ["{{{poi-group-filter}}}"],
                        false,
                        true
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["{{{poi-category-filter}}}"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        [
                          "+",
                          ["get", "display_class"],
                          [
                            "match",
                            ["get", "group"],
                            ["parking"],
                            ["to-number", "{{poi-parking-weight}}"],
                            ["driving"],
                            ["to-number", "{{poi-driving-weight}}"],
                            ["sport"],
                            1,
                            ["healthcare"],
                            1,
                            ["protected"],
                            1,
                            ["match", ["get", "category"], ["stadium"], 1, 0]
                          ]
                        ],
                        ["-", ["zoom"], "//{{poi-zoom-micro-offset}}//"]
                      ]
                    ],
                    "layout": {
                      "icon-image": "poi-{group}-micro",
                      "icon-padding": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        10,
                        18,
                        0
                      ],
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        16,
                        "//{{poi-size-micro-icon-l}}//",
                        18,
                        "//{{poi-size-markers-icon-xl}}//"
                      ],
                      "symbol-placement": "point",
                      "symbol-sort-key": [
                        "+",
                        [
                          "*",
                          1000,
                          [
                            "+",
                            ["get", "display_class"],
                            [
                              "match",
                              ["get", "group"],
                              ["parking"],
                              ["to-number", "{{poi-parking-weight}}"],
                              ["driving"],
                              ["to-number", "{{poi-driving-weight}}"],
                              ["sport"],
                              1,
                              ["healthcare"],
                              1,
                              ["protected"],
                              1,
                              ["match", ["get", "category"], ["stadium"], 1, 0]
                            ]
                          ]
                        ],
                        ["get", "priority"],
                        ["*", 0.01, ["length", ["get", "name"]]]
                      ],
                      "symbol-z-order": "auto",
                      "visibility": "{{poi-micro-visibility}}"
                    },
                    "paint": {
                      "icon-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{max poi-zoom-min poi-zoom-micro-min}}//",
                        0,
                        "//{{add 0.5 (max poi-zoom-min poi-zoom-micro-min)}}//",
                        1
                      ]
                    }
                  },
                  {
                    "id": "POI",
                    "type": "symbol",
                    "metadata": {"group": "POI"},
                    "source": "vectorTiles",
                    "source-layer": "poi",
                    "minzoom": "//{{max poi-zoom-min poi-zoom-markers-min}}//",
                    "filter": [
                      "all",
                      [
                        "<=",
                        ["get", "priority"],
                        "//{{poi-zoom-priority-threshold}}//"
                      ],
                      [
                        "any",
                        ["has", "name"],
                        [
                          "match",
                          ["get", "group"],
                          ["parking", "transport"],
                          true,
                          false
                        ]
                      ],
                      [
                        "match",
                        ["get", "group"],
                        ["{{{poi-group-filter}}}"],
                        false,
                        true
                      ],
                      [
                        "match",
                        ["get", "category"],
                        ["{{{poi-category-filter}}}"],
                        false,
                        true
                      ],
                      [
                        "<=",
                        [
                          "+",
                          ["get", "display_class"],
                          [
                            "match",
                            ["get", "group"],
                            ["parking"],
                            ["to-number", "{{poi-parking-weight}}"],
                            ["driving"],
                            ["to-number", "{{poi-driving-weight}}"],
                            ["sport"],
                            1,
                            ["healthcare"],
                            1,
                            ["protected"],
                            1,
                            ["match", ["get", "category"], ["stadium"], 1, 0]
                          ]
                        ],
                        ["-", ["zoom"], "//{{poi-zoom-micro-offset}}//"]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{poi-markers-visibility}}",
                      "icon-image": [
                        "match",
                        ["get", "category"],
                        ["railway_station", "public_transport_station"],
                        [
                          "match",
                          ["get", "modality"],
                          ["bus"],
                          "poi-public_transport_station-bus",
                          ["ferry"],
                          "poi-public_transport_station-ferry",
                          ["rail"],
                          "poi-public_transport_station-rail",
                          ["subway"],
                          "poi-public_transport_station-subway",
                          ["tram"],
                          "poi-public_transport_station-tram",
                          ["concat", "poi-", ["get", "category"]]
                        ],
                        ["concat", "poi-", ["get", "category"]]
                      ],
                      "icon-optional": false,
                      "icon-padding": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        12,
                        "//{{poi-zoom-padding-s}}//",
                        14,
                        "//{{poi-zoom-padding-m}}//",
                        16,
                        "//{{poi-zoom-padding-l}}//",
                        18,
                        "//{{poi-zoom-padding-xl}}//"
                      ],
                      "icon-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{poi-size-markers-icon-m}}//",
                        18,
                        "//{{poi-size-markers-icon-xl}}//"
                      ],
                      "symbol-avoid-edges": true,
                      "symbol-placement": "point",
                      "symbol-sort-key": [
                        "+",
                        [
                          "*",
                          1000,
                          [
                            "+",
                            ["get", "display_class"],
                            [
                              "match",
                              ["get", "group"],
                              ["parking"],
                              ["to-number", "{{poi-parking-weight}}"],
                              ["driving"],
                              ["to-number", "{{poi-driving-weight}}"],
                              ["sport"],
                              1,
                              ["healthcare"],
                              1,
                              ["protected"],
                              1,
                              ["match", ["get", "category"], ["stadium"], 1, 0]
                            ]
                          ]
                        ],
                        ["get", "priority"],
                        ["*", 0.01, ["length", ["get", "name"]]]
                      ],
                      "symbol-z-order": "auto",
                      "text-field": "{name}",
                      "text-font": ["{{{text-font-medium}}}"],
                      "text-justify": "auto",
                      "text-letter-spacing": 0.1,
                      "text-line-height": 1.2,
                      "text-optional": ["step", ["zoom"], true, 13, false],
                      "text-radial-offset": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "//{{poi-size-markers-text-offset-m}}//",
                        18,
                        [
                          "match",
                          ["get", "category"],
                          "public_transport_platform",
                          "//{{multiply 0.7 poi-size-markers-text-offset-xl}}//",
                          "transport_access",
                          "//{{multiply 0.7 poi-size-markers-text-offset-xl}}//",
                          "public_transport_stop",
                          "//{{multiply 0.45 poi-size-markers-text-offset-xl}}//",
                          "//{{poi-size-markers-text-offset-xl}}//"
                        ]
                      ],
                      "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        [
                          "/",
                          "//{{poi-size-markers-text-m}}//",
                          ["log10", ["max", ["length", ["get", "name"]], 30]]
                        ],
                        18,
                        [
                          "match",
                          ["get", "category"],
                          "public_transport_stop",
                          "//{{multiply 0.45 poi-size-markers-text-xl}}//",
                          [
                            "/",
                            "//{{poi-size-markers-text-xl}}//",
                            ["log10", ["max", ["length", ["get", "name"]], 30]]
                          ]
                        ]
                      ],
                      "text-variable-anchor": ["top", "left", "bottom", "right"]
                    },
                    "paint": {
                      "{{poi-text-color-property-name}}": [
                        "match",
                        ["get", "group"],
                        ["public", "religion", "military"],
                        "{{poi-public-text-color}}",
                        ["outdoor", "protected", "sport"],
                        "{{poi-outdoor-text-color}}",
                        ["business"],
                        "{{poi-business-text-color}}",
                        ["cultural", "leisure"],
                        "{{poi-leisure-text-color}}",
                        ["eat_and_drink"],
                        "{{poi-eat_and_drink-text-color}}",
                        ["education"],
                        "{{poi-education-text-color}}",
                        ["healthcare"],
                        "{{poi-healthcare-text-color}}",
                        ["lodging"],
                        "{{poi-lodging-text-color}}",
                        ["parking"],
                        "{{poi-parking-text-color}}",
                        ["finance", "shopping"],
                        "{{poi-shopping-text-color}}",
                        ["driving", "transport"],
                        [
                          "match",
                          ["get", "category"],
                          ["charging_location"],
                          "{{poi-ev-text-color}}",
                          "{{poi-transportation-text-color}}"
                        ],
                        "{{poi-generic-text-color}}"
                      ],
                      "{{poi-text-halo-color-property-name}}": "{{poi-halo-color}}",
                      "text-halo-width": 1
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "poi-module-visible": true,
                "poi-micro-visible": true,
                "poi-markers-visible": true,
                "poi-micro-visibility": "{{#if (equal poi-module-visible toggle-false)}}none{{else}}{{#if (equal poi-micro-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "poi-markers-visibility": "{{#if (equal poi-module-visible toggle-false)}}none{{else}}{{#if (equal poi-markers-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "poi-driving-flag": false,
                "poi-group-filter": "{{#if (equal poi-driving-flag toggle-true)}}public\", \"religion\", \"military\", \"sport\", \"business\", \"cultural\", \"leisure\", \"eat_and_drink\", \"education\", \"healthcare\", \"lodging\", \"finance\", \"shopping{{else}}{{/if}}",
                "poi-category-filter": "{{#if (equal poi-driving-flag toggle-true)}}public_transport_stop\", \"public_transport_platform\", \"viewpoint{{else}}public_transport_platform{{/if}}",
                "poi-driving-weight": "{{#if (equal poi-driving-flag toggle-true)}}0{{else}}1{{/if}}",
                "poi-parking-weight": "{{#if (equal poi-driving-flag toggle-true)}}0{{else}}1{{/if}}",
                "poi-monochrome-flag": false,
                "poi-inherit-poi-colors": true,
                "poi-invert-text-colors": "//{{#if (more poi-label-sign 0)}}true{{else}}false{{/if}}//",
                "poi-industry-color-700": "{{scaleHsl 1 0.6 0.7 poi-industry-color-500}}",
                "poi-education-color-700": "{{scaleHsl 1 0.6 0.7 poi-education-color-500}}",
                "poi-public-color-700": "{{scaleHsl 1 0.6 0.7 poi-public-color-500}}",
                "poi-sport-color-700": "{{scaleHsl 1 0.6 0.7 poi-sport-color-500}}",
                "poi-commercial-color-700": "{{scaleHsl 1 0.6 0.7 poi-commercial-color-500}}",
                "poi-health-color-700": "{{scaleHsl 1 0.6 0.7 poi-health-color-500}}",
                "poi-entertainment-color-700": "{{scaleHsl 1 0.6 0.7 poi-entertainment-color-500}}",
                "poi-accomodation-color-700": "{{scaleHsl 1 0.6 0.7 poi-accomodation-color-500}}",
                "poi-car-color-700": "{{scaleHsl 1 0.6 0.7 poi-car-color-500}}",
                "poi-parking-color-700": "{{scaleHsl 1 0.6 0.7 poi-parking-color-500}}",
                "poi-ev-color-700": "{{scaleHsl 1 0.6 0.7 poi-ev-color-500}}",
                "poi-food-color-700": "{{scaleHsl 1 0.6 0.7 poi-food-color-500}}",
                "poi-generic-color-700": "{{scaleHsl 1 0.6 0.7 poi-generic-color-500}}",
                "poi-label-sign": "{{#if (more label-lum 0.4)}}1{{else}}-1{{/if}}",
                "poi-label-factor": "{{max (divide label-lum 5) 0.1}}",
                "log-poi-label-factor": "{{log 'labels parameter factor' poi-label-factor}}",
                "poi-text-color": "{{#if (more poi-label-sign 0)}}{{label-outline-derived}}{{else}}{{label-derived}}{{/if}}",
                "poi-halo-color": "{{#if (more poi-label-sign 0)}}{{label-derived}}{{else}}{{label-outline-derived}}{{/if}}",
                "poi-business-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-industry-color-700}}{{/if}}",
                "poi-education-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-education-color-700}}{{/if}}",
                "poi-public-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-public-color-700}}{{/if}}",
                "poi-outdoor-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-sport-color-700}}{{/if}}",
                "poi-sport-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-sport-color-700}}{{/if}}",
                "poi-healthcare-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-health-color-700}}{{/if}}",
                "poi-cultural-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-entertainment-color-700}}{{/if}}",
                "poi-leisure-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-entertainment-color-700}}{{/if}}",
                "poi-lodging-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-accomodation-color-700}}{{/if}}",
                "poi-transportation-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-car-color-700}}{{/if}}",
                "poi-driving-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-car-color-700}}{{/if}}",
                "poi-parking-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-parking-color-700}}{{/if}}",
                "poi-shopping-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-commercial-color-700}}{{/if}}",
                "poi-eat_and_drink-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-food-color-700}}{{/if}}",
                "poi-ev-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-ev-color-700}}{{/if}}",
                "poi-generic-text-color": "{{#if (equal poi-inherit-poi-colors false)}}{{poi-text-color}}{{else}}{{darken (multiply poi-label-sign poi-label-factor) poi-generic-color-700}}{{/if}}",
                "poi-text-color-property-name": "{{#if (more poi-label-sign 0)}}text-halo-color{{else}}text-color{{/if}}",
                "poi-text-halo-color-property-name": "{{#if (more poi-label-sign 0)}}text-color{{else}}text-halo-color{{/if}}",
                "poi-size-factor": 1,
                "poi-size-markers-factor": 1,
                "poi-size-markers-factor-text-m": 0.75,
                "poi-size-markers-factor-text-xl": 1,
                "poi-size-markers-text-min": 10,
                "poi-size-markers-text-max": 18,
                "poi-size-markers-text-offset-min": 1,
                "poi-size-markers-text-offset-max": 1.3,
                "poi-size-markers-text-offset-m": "{{multiply poi-size-markers-factor-icon-m poi-size-markers-text-offset-min}}",
                "poi-size-markers-text-offset-xl": "{{multiply poi-size-markers-factor-icon-xl poi-size-markers-text-offset-max}}",
                "poi-size-markers-factor-icon-m": 0.5,
                "poi-size-markers-factor-icon-xl": 1,
                "poi-size-markers-text-m": "{{multiply symbol-size-factor (multiply poi-size-factor (multiply poi-size-markers-factor (multiply poi-size-markers-factor-text-m poi-size-markers-text-max)))}}",
                "poi-size-markers-text-xl": "{{multiply symbol-size-factor (multiply poi-size-factor (multiply poi-size-markers-factor (multiply poi-size-markers-factor-text-xl poi-size-markers-text-max)))}}",
                "poi-size-markers-icon-m": "{{multiply symbol-size-factor (multiply poi-size-factor (multiply poi-size-markers-factor poi-size-markers-factor-icon-m))}}",
                "poi-size-markers-icon-xl": "{{multiply symbol-size-factor (multiply poi-size-factor (multiply poi-size-markers-factor poi-size-markers-factor-icon-xl))}}",
                "poi-size-micro-factor": 1,
                "poi-size-micro-factor-icon-l": 0.5,
                "poi-size-micro-factor-icon-xl": 0.75,
                "poi-size-micro-icon-l": "{{multiply symbol-size-factor (multiply poi-size-factor (multiply poi-size-micro-factor poi-size-micro-factor-icon-l))}}",
                "poi-size-micro-icon-xl": "{{multiply symbol-size-factor (multiply poi-size-factor (multiply poi-size-micro-factor poi-size-micro-factor-icon-xl))}}",
                "poi-zoom-min": 6,
                "poi-zoom-markers-min": 6,
                "poi-zoom-micro-min": 15.5,
                "poi-zoom-markers-offset": 0,
                "poi-zoom-micro-offset": -1,
                "poi-zoom-priority-max": 316,
                "poi-zoom-priority-factor": 1,
                "poi-zoom-priority-threshold": "{{multiply poi-zoom-priority-max poi-zoom-priority-factor}}",
                "poi-zoom-padding-factor": 1,
                "poi-zoom-padding-base": 5,
                "poi-zoom-padding-factor-s": 1,
                "poi-zoom-padding-factor-m": 2,
                "poi-zoom-padding-factor-l": 4,
                "poi-zoom-padding-factor-xl": 1,
                "poi-zoom-padding-s": "{{multiply poi-zoom-padding-base (multiply poi-zoom-padding-factor poi-zoom-padding-factor-s)}}",
                "poi-zoom-padding-m": "{{multiply poi-zoom-padding-base (multiply poi-zoom-padding-factor poi-zoom-padding-factor-m)}}",
                "poi-zoom-padding-l": "{{multiply poi-zoom-padding-base (multiply poi-zoom-padding-factor poi-zoom-padding-factor-l)}}",
                "poi-zoom-padding-xl": "{{multiply poi-zoom-padding-base (multiply poi-zoom-padding-factor poi-zoom-padding-factor-xl)}}"
              }
            }
          },
          "traffic": {
            "sources": {
              "vectorTilesFlow": {
                "maxzoom": 22,
                "minzoom": 0,
                "tiles": [
                  "https://a.api.tomtom.com/maps/orbis/traffic/tile/flow/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,relative_speed,left_hand_traffic,road_closure",
                  "https://b.api.tomtom.com/maps/orbis/traffic/tile/flow/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,relative_speed,left_hand_traffic,road_closure",
                  "https://c.api.tomtom.com/maps/orbis/traffic/tile/flow/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,relative_speed,left_hand_traffic,road_closure",
                  "https://d.api.tomtom.com/maps/orbis/traffic/tile/flow/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,relative_speed,left_hand_traffic,road_closure"
                ],
                "type": "vector",
                "attribution": "<a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
              },
              "vectorTilesIncidents": {
                "maxzoom": 16,
                "minzoom": 0,
                "tiles": [
                  "https://a.api.tomtom.com/maps/orbis/traffic/tile/incidents/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,icon_category,magnitude_of_delay,delay,left_hand_traffic,description",
                  "https://b.api.tomtom.com/maps/orbis/traffic/tile/incidents/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,icon_category,magnitude_of_delay,delay,left_hand_traffic,description",
                  "https://c.api.tomtom.com/maps/orbis/traffic/tile/incidents/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,icon_category,magnitude_of_delay,delay,left_hand_traffic,description",
                  "https://d.api.tomtom.com/maps/orbis/traffic/tile/incidents/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,icon_category,magnitude_of_delay,delay,left_hand_traffic,description"
                ],
                "type": "vector",
                "attribution": "<a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
              }
            },
            "groups": {
              "flow": {
                "layers": [
                  {
                    "id": "Traffic - Free flow outline",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      [">=", ["get", "relative_speed"], 0.75],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-free-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Free flow",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      [">=", ["get", "relative_speed"], 0.75],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-free-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Slow flow outline",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.75],
                      [">=", ["get", "relative_speed"], 0.35],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-slow-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Slow flow",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.75],
                      [">=", ["get", "relative_speed"], 0.35],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-slow-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Slow flow pattern",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.75],
                      [">=", ["get", "relative_speed"], 0.35],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-flow-slow",
                      "line-color": "{{traffic-flow-slow-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min}}//",
                        0,
                        "//{{add 1 (max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min)}}//",
                        1
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Queueing flow outline",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.35],
                      [">=", ["get", "relative_speed"], 0.15],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-queueing-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Queueing flow",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.35],
                      [">=", ["get", "relative_speed"], 0.15],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-queueing-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Queueing flow pattern",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.35],
                      [">=", ["get", "relative_speed"], 0.15],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-flow-queueing",
                      "line-color": "{{traffic-flow-queueing-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min}}//",
                        0,
                        "//{{add 1 (max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min)}}//",
                        1
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Stationary flow outline",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.15],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-stationary-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Stationary flow",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.15],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-stationary-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Stationary flow pattern",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min}}//",
                    "filter": [
                      "all",
                      ["<", ["get", "relative_speed"], 0.15],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-flow-stationary",
                      "line-color": "{{traffic-flow-stationary-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min}}//",
                        0,
                        "//{{add 1 (max (max traffic-zoom-min traffic-zoom-flow-min) traffic-zoom-flow-pattern-min)}}//",
                        1
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Closed road outline",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "relative_speed"], 0],
                      ["has", "road_closure"],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": {
                        "stops": [
                          [10, "{{traffic-flow-closed-outline-color-m}}"],
                          [15, "{{traffic-flow-closed-outline-color}}"]
                        ]
                      },
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-flow-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-flow-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Closed road",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "relative_speed"], 0],
                      ["has", "road_closure"],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": ["step", ["zoom"], "butt", 15, "round"],
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-flow-closed-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "Traffic - Closed road pattern",
                    "type": "line",
                    "metadata": {"group": "flow"},
                    "source": "vectorTilesFlow",
                    "source-layer": "Traffic flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "relative_speed"], 0],
                      ["has", "road_closure"],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-flow-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-flow-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-diagonal-closed",
                      "line-color": "{{traffic-flow-closed-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-xs}}//",
                            "//{{traffic-width-flow-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-s}}//",
                            "//{{traffic-width-flow-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-m}}//",
                            "//{{traffic-width-flow-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-flow-offset-l}}//",
                            "//{{traffic-width-flow-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-flow-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-flow-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-flow-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-flow-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                        0.2,
                        "//{{add 4 (max traffic-zoom-min traffic-zoom-flow-min)}}//",
                        1
                      ]
                    }
                  }
                ]
              },
              "incidents": {
                "layers": [
                  {
                    "id": "TrafficIncidents - No delay outline",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 0],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-nodelay-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - No delay",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 0],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-nodelay-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - No delay pattern",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-flow-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 0],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-diagonal{{traffic-incidents-line-pattern-flavor}}-unknown",
                      "line-color": "{{traffic-incidents-nodelay-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Minor jam outline",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 1],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-minor-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Minor jam ",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 1],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-minor-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Minor jam pattern",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max (max traffic-zoom-min traffic-zoom-incidents-min) traffic-zoom-incidents-pattern-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 1],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-incidents{{traffic-incidents-line-pattern-flavor}}-slow",
                      "line-color": "{{traffic-incidents-minor-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{max (max traffic-zoom-min traffic-zoom-incidents-min) traffic-zoom-incidents-pattern-min}}//",
                        0,
                        "//{{add 1 (max (max traffic-zoom-min traffic-zoom-incidents-min) traffic-zoom-incidents-pattern-min)}}//",
                        1
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Moderate jam outline",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 2],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-moderate-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Moderate jam",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 2],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-moderate-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Moderate jam pattern",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max (max traffic-zoom-min traffic-zoom-incidents-min) traffic-zoom-incidents-pattern-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 2],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-incidents{{traffic-incidents-line-pattern-flavor}}-queueing",
                      "line-color": "{{traffic-incidents-moderate-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-opacity": {"stops": [[14, 0], [15, 1]]}
                    }
                  },
                  {
                    "id": "TrafficIncidents - Major jam outline",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 3],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-major-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Major jam",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 3],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-major-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Major jam pattern",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max (max traffic-zoom-min traffic-zoom-incidents-min) traffic-zoom-incidents-pattern-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 3],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-incidents{{traffic-incidents-line-pattern-flavor}}-stationary",
                      "line-color": "{{traffic-incidents-major-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        "//{{max (max traffic-zoom-min traffic-zoom-incidents-min) traffic-zoom-incidents-pattern-min}}//",
                        0,
                        "//{{add 1 (max (max traffic-zoom-min traffic-zoom-incidents-min) traffic-zoom-incidents-pattern-min)}}//",
                        1
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Closed road outline",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 4],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-closed-outline-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-xs}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-xs}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-xs}}//",
                              ["trunk"],
                              "//{{roads-width-motorway-xs}}//",
                              "//{{roads-width-min-xs}}//"
                            ]
                          ]
                        ],
                        9,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-s}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-s}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-s}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-s}}//",
                              ["primary"],
                              "//{{roads-width-primary-s}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-s}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-s}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-s}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-s}}//",
                                "//{{roads-width-living_street-s}}//"
                              ],
                              "//{{roads-width-min-s}}//"
                            ]
                          ]
                        ],
                        13,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-m}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-m}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-m}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-m}}//",
                              ["primary"],
                              "//{{roads-width-primary-m}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-m}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-m}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-m}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-m}}//",
                                "//{{roads-width-living_street-m}}//"
                              ],
                              "//{{roads-width-min-m}}//"
                            ]
                          ]
                        ],
                        19,
                        [
                          "+",
                          "//{{traffic-width-incidents-outline-l}}//",
                          [
                            "*",
                            "//{{traffic-width-incidents-l}}//",
                            [
                              "match",
                              ["get", "road_category"],
                              ["motorway"],
                              "//{{roads-width-motorway-l}}//",
                              ["trunk"],
                              "//{{roads-width-trunk-l}}//",
                              ["primary"],
                              "//{{roads-width-primary-l}}//",
                              ["secondary"],
                              "//{{roads-width-secondary-l}}//",
                              ["tertiary"],
                              "//{{roads-width-tertiary-l}}//",
                              [
                                "motorway_link",
                                "trunk_link",
                                "primary_link",
                                "secondary_link",
                                "tertiary_link"
                              ],
                              "//{{roads-width-link-l}}//",
                              ["street"],
                              [
                                "match",
                                ["get", "road_subcategory"],
                                ["residential", "unclassified"],
                                "//{{roads-width-street-l}}//",
                                "//{{roads-width-living_street-l}}//"
                              ],
                              "//{{roads-width-minor-l}}//"
                            ]
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Closed road",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 4],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": "{{traffic-incidents-closed-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Closed road pattern",
                    "type": "line",
                    "metadata": {"group": "incidents_tube"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": "//{{max traffic-zoom-min traffic-zoom-incidents-min}}//",
                    "filter": [
                      "all",
                      ["==", ["get", "magnitude_of_delay"], 4],
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-incidents-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-pattern": "traffic-diagonal{{traffic-incidents-line-pattern-flavor}}-closed",
                      "line-color": "{{traffic-incidents-closed-line-color}}",
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  }
                ]
              },
              "occlusion": {
                "layers": [
                  {
                    "id": "AntiOcclusion - Traffic",
                    "type": "line",
                    "metadata": {
                      "group": "anti_occlusion",
                      "tomtom:material": "{{traffic-anti_occlusion-material}}"
                    },
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident flow",
                    "minzoom": 15,
                    "filter": [
                      "all",
                      [
                        "any",
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 6}}//"
                          ],
                          [
                            "any",
                            ["==", ["get", "road_category"], "motorway"],
                            ["==", ["get", "road_category"], "trunk"]
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 9}}//"
                          ],
                          ["==", ["get", "road_category"], "primary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 10}}//"
                          ],
                          ["==", ["get", "road_category"], "secondary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 11}}//"
                          ],
                          ["==", ["get", "road_category"], "tertiary"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 12}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            true,
                            false
                          ]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 13}}//"
                          ],
                          ["==", ["get", "road_category"], "street"],
                          ["!=", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 14}}//"
                          ],
                          ["==", ["get", "road_subcategory"], "living_street"]
                        ],
                        [
                          "all",
                          [
                            ">=",
                            ["zoom"],
                            "//{{add traffic-zoom-incidents-offset 15}}//"
                          ],
                          ["==", ["has", "road_category"], true]
                        ]
                      ]
                    ],
                    "layout": {
                      "visibility": "{{traffic-occlusion-visibility}}",
                      "line-cap": "round",
                      "line-join": "round"
                    },
                    "paint": {
                      "line-color": [
                        "case",
                        ["==", ["get", "magnitude_of_delay"], 0],
                        "{{darken 0.25 traffic-incidents-nodelay-line-color}}",
                        ["==", ["get", "magnitude_of_delay"], 1],
                        "{{darken 0.2 traffic-incidents-minor-line-color}}",
                        ["==", ["get", "magnitude_of_delay"], 2],
                        "{{darken 0.15 traffic-incidents-moderate-line-color}}",
                        ["==", ["get", "magnitude_of_delay"], 3],
                        "{{darken 0.1 traffic-incidents-major-outline-color}}",
                        ["==", ["get", "magnitude_of_delay"], 4],
                        "{{darken 0.05 traffic-incidents-closed-line-color}}",
                        "black"
                      ],
                      "line-offset": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-xs}}//",
                            "//{{traffic-width-incidents-offset-xs}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-s}}//",
                            "//{{traffic-width-incidents-offset-s}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-m}}//",
                            "//{{traffic-width-incidents-offset-m}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          [
                            "case",
                            ["has", "left_hand_traffic"],
                            "//{{multiply -1 traffic-width-incidents-offset-l}}//",
                            "//{{traffic-width-incidents-offset-l}}//"
                          ],
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ],
                      "line-opacity": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        15,
                        0,
                        15.5,
                        0.15
                      ],
                      "line-width": [
                        "interpolate",
                        ["exponential", "//{{roads-width-exponential-base}}//"],
                        ["zoom"],
                        5,
                        [
                          "*",
                          "//{{traffic-width-incidents-xs}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-xs}}//",
                            ["trunk"],
                            "//{{roads-width-motorway-xs}}//",
                            "//{{roads-width-min-xs}}//"
                          ]
                        ],
                        9,
                        [
                          "*",
                          "//{{traffic-width-incidents-s}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-s}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-s}}//",
                            ["primary"],
                            "//{{roads-width-primary-s}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-s}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-s}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-s}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-s}}//",
                              "//{{roads-width-living_street-s}}//"
                            ],
                            "//{{roads-width-min-s}}//"
                          ]
                        ],
                        13,
                        [
                          "*",
                          "//{{traffic-width-incidents-m}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-m}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-m}}//",
                            ["primary"],
                            "//{{roads-width-primary-m}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-m}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-m}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-m}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-m}}//",
                              "//{{roads-width-living_street-m}}//"
                            ],
                            "//{{roads-width-min-m}}//"
                          ]
                        ],
                        19,
                        [
                          "*",
                          "//{{traffic-width-incidents-l}}//",
                          [
                            "match",
                            ["get", "road_category"],
                            ["motorway"],
                            "//{{roads-width-motorway-l}}//",
                            ["trunk"],
                            "//{{roads-width-trunk-l}}//",
                            ["primary"],
                            "//{{roads-width-primary-l}}//",
                            ["secondary"],
                            "//{{roads-width-secondary-l}}//",
                            ["tertiary"],
                            "//{{roads-width-tertiary-l}}//",
                            [
                              "motorway_link",
                              "trunk_link",
                              "primary_link",
                              "secondary_link",
                              "tertiary_link"
                            ],
                            "//{{roads-width-link-l}}//",
                            ["street"],
                            [
                              "match",
                              ["get", "road_subcategory"],
                              ["residential", "unclassified"],
                              "//{{roads-width-street-l}}//",
                              "//{{roads-width-living_street-l}}//"
                            ],
                            "//{{roads-width-minor-l}}//"
                          ]
                        ]
                      ]
                    }
                  }
                ]
              },
              "markers": {
                "layers": [
                  {
                    "id": "TrafficIncidents - No delay marker",
                    "type": "symbol",
                    "metadata": {"group": "incidents_marker"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident points",
                    "minzoom": "//{{add 2 (max traffic-zoom-min traffic-zoom-markers-min)}}//",
                    "filter": [
                      "all",
                      ["in", "point_type", "start_point", "standalone_point"],
                      ["!=", "icon_category_0", 8]
                    ],
                    "layout": {
                      "visibility": "{{traffic-markers-visibility}}",
                      "icon-anchor": "center",
                      "icon-image": [
                        "match",
                        [
                          "concat",
                          ["get", "icon_category_0"],
                          ["get", "magnitude_of_delay"]
                        ],
                        "00",
                        "traffic_no_delay_info",
                        "01",
                        "traffic_slow_info",
                        "02",
                        "traffic_queueing_info",
                        "03",
                        "traffic_stationary_info",
                        "04",
                        "traffic_no_delay_info",
                        "10",
                        "traffic_no_delay_accident",
                        "11",
                        "traffic_slow_accident",
                        "12",
                        "traffic_queueing_accident",
                        "13",
                        "traffic_stationary_accident",
                        "14",
                        "traffic_no_delay_accident",
                        "20",
                        "traffic_no_delay_weather_fog",
                        "21",
                        "traffic_slow_weather_fog",
                        "22",
                        "traffic_queueing_weather_fog",
                        "23",
                        "traffic_stationary_weather_fog",
                        "24",
                        "traffic_no_delay_weather_fog",
                        "30",
                        "traffic_no_delay_danger",
                        "31",
                        "traffic_slow_danger",
                        "32",
                        "traffic_queueing_danger",
                        "33",
                        "traffic_stationary_danger",
                        "34",
                        "traffic_no_delay_danger",
                        "40",
                        "traffic_no_delay_weather_rain",
                        "41",
                        "traffic_slow_weather_rain",
                        "42",
                        "traffic_queueing_weather_rain",
                        "43",
                        "traffic_stationary_weather_rain",
                        "44",
                        "traffic_no_delay_weather_rain",
                        "50",
                        "traffic_no_delay_weather_frost",
                        "51",
                        "traffic_slow_weather_frost",
                        "52",
                        "traffic_queueing_weather_frost",
                        "53",
                        "traffic_stationary_weather_frost",
                        "54",
                        "traffic_no_delay_weather_frost",
                        "70",
                        "traffic_no_delay_lane_closed",
                        "71",
                        "traffic_slow_lane_closed",
                        "72",
                        "traffic_queueing_lane_closed",
                        "73",
                        "traffic_stationary_lane_closed",
                        "74",
                        "traffic_no_delay_lane_closed",
                        "90",
                        "traffic_no_delay_roadworks",
                        "91",
                        "traffic_slow_roadworks",
                        "92",
                        "traffic_queueing_roadworks",
                        "93",
                        "traffic_stationary_roadworks",
                        "94",
                        "traffic_no_delay_roadworks",
                        "100",
                        "traffic_no_delay_weather_wind",
                        "101",
                        "traffic_slow_weather_wind",
                        "102",
                        "traffic_queueing_weather_wind",
                        "103",
                        "traffic_stationary_weather_wind",
                        "104",
                        "traffic_no_delay_weather_wind",
                        "110",
                        "traffic_no_delay_flooding",
                        "111",
                        "traffic_slow_flooding",
                        "112",
                        "traffic_queueing_flooding",
                        "113",
                        "traffic_stationary_flooding",
                        "114",
                        "traffic_no_delay_flooding",
                        "120",
                        "traffic_no_delay_jam",
                        "121",
                        "traffic_slow_jam",
                        "122",
                        "traffic_queueing_jam",
                        "123",
                        "traffic_stationary_jam",
                        "124",
                        "traffic_no_delay_jam",
                        "140",
                        "traffic_no_delay_stationary_vehicle",
                        "141",
                        "traffic_slow_stationary_vehicle",
                        "142",
                        "traffic_queueing_stationary_vehicle",
                        "143",
                        "traffic_stationary_stationary_vehicle",
                        "144",
                        "traffic_no_delay_stationary_vehicle",
                        "traffic_no_delay_jam"
                      ],
                      "symbol-avoid-edges": true,
                      "symbol-placement": "point",
                      "icon-offset": [
                        "step",
                        ["zoom"],
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-m}}//"]
                        ],
                        16,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-l}}//"]
                        ],
                        18,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-xl}}//"]
                        ]
                      ],
                      "icon-size": [
                        "step",
                        ["zoom"],
                        "//{{traffic-size-markers-icon-m}}//",
                        16,
                        "//{{traffic-size-markers-icon-l}}//",
                        18,
                        "//{{traffic-size-markers-icon-xl}}//"
                      ]
                    }
                  },
                  {
                    "id": "TrafficIncidents - Minor jam marker",
                    "type": "symbol",
                    "metadata": {"group": "incidents_marker"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident points",
                    "minzoom": "//{{add 1 (max traffic-zoom-min traffic-zoom-markers-min)}}//",
                    "filter": [
                      "all",
                      ["==", "icon_category_0", 6],
                      ["in", "point_type", "start_point", "standalone_point"],
                      ["==", "magnitude_of_delay", 1]
                    ],
                    "layout": {
                      "visibility": "{{traffic-markers-visibility}}",
                      "icon-allow-overlap": true,
                      "icon-anchor": "center",
                      "icon-image": "traffic_slow_bg_base",
                      "icon-offset": [
                        "step",
                        ["zoom"],
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-m}}//"]
                        ],
                        16,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-l}}//"]
                        ],
                        18,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-xl}}//"]
                        ]
                      ],
                      "icon-size": [
                        "step",
                        ["zoom"],
                        "//{{traffic-size-markers-icon-m}}//",
                        16,
                        "//{{traffic-size-markers-icon-l}}//",
                        18,
                        "//{{traffic-size-markers-icon-xl}}//"
                      ],
                      "symbol-avoid-edges": true,
                      "symbol-placement": "point",
                      "text-anchor": "center",
                      "text-field": [
                        "concat",
                        ["max", 1, ["round", ["/", ["get", "delay"], 60]]],
                        "'"
                      ],
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-offset": [
                        "step",
                        ["zoom"],
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-m}}//"]
                        ],
                        16,
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-l}}//"]
                        ],
                        18,
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-xl}}//"]
                        ]
                      ],
                      "text-size": [
                        "step",
                        ["zoom"],
                        "//{{traffic-size-markers-text-m}}//",
                        16,
                        "//{{traffic-size-markers-text-l}}//",
                        18,
                        "//{{traffic-size-markers-text-xl}}//"
                      ]
                    },
                    "paint": {
                      "text-color": "{{traffic-incidents-minor-text-color}}",
                      "text-halo-color": "{{traffic-incidents-minor-halo-color}}",
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "TrafficIncidents - Moderate jam marker",
                    "type": "symbol",
                    "metadata": {"group": "incidents_marker"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident points",
                    "minzoom": "//{{add 1 (max traffic-zoom-min traffic-zoom-markers-min)}}//",
                    "filter": [
                      "all",
                      ["==", "icon_category_0", 6],
                      ["in", "point_type", "start_point", "standalone_point"],
                      ["==", "magnitude_of_delay", 2]
                    ],
                    "layout": {
                      "visibility": "{{traffic-markers-visibility}}",
                      "icon-allow-overlap": true,
                      "icon-anchor": "center",
                      "icon-image": "traffic_queueing_bg_base",
                      "icon-offset": [
                        "step",
                        ["zoom"],
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-m}}//"]
                        ],
                        16,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-l}}//"]
                        ],
                        18,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-xl}}//"]
                        ]
                      ],
                      "icon-size": [
                        "step",
                        ["zoom"],
                        "//{{traffic-size-markers-icon-m}}//",
                        16,
                        "//{{traffic-size-markers-icon-l}}//",
                        18,
                        "//{{traffic-size-markers-icon-xl}}//"
                      ],
                      "symbol-avoid-edges": true,
                      "symbol-placement": "point",
                      "text-anchor": "center",
                      "text-field": [
                        "concat",
                        ["max", 1, ["round", ["/", ["get", "delay"], 60]]],
                        "'"
                      ],
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-offset": [
                        "step",
                        ["zoom"],
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-m}}//"]
                        ],
                        16,
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-l}}//"]
                        ],
                        18,
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-xl}}//"]
                        ]
                      ],
                      "text-size": [
                        "step",
                        ["zoom"],
                        "//{{traffic-size-markers-text-m}}//",
                        16,
                        "//{{traffic-size-markers-text-l}}//",
                        18,
                        "//{{traffic-size-markers-text-xl}}//"
                      ]
                    },
                    "paint": {
                      "text-color": "{{traffic-incidents-moderate-text-color}}",
                      "text-halo-color": "{{traffic-incidents-moderate-halo-color}}",
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "TrafficIncidents - Major jam marker",
                    "type": "symbol",
                    "metadata": {"group": "incidents_marker"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident points",
                    "minzoom": "//{{add 1 (max traffic-zoom-min traffic-zoom-markers-min)}}//",
                    "filter": [
                      "all",
                      ["==", "icon_category_0", 6],
                      ["in", "point_type", "start_point", "standalone_point"],
                      ["==", "magnitude_of_delay", 3]
                    ],
                    "layout": {
                      "visibility": "{{traffic-markers-visibility}}",
                      "icon-allow-overlap": true,
                      "icon-anchor": "center",
                      "icon-image": "traffic_stationary_bg_base",
                      "icon-offset": [
                        "step",
                        ["zoom"],
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-m}}//"]
                        ],
                        16,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-l}}//"]
                        ],
                        18,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-xl}}//"]
                        ]
                      ],
                      "icon-size": [
                        "step",
                        ["zoom"],
                        "//{{traffic-size-markers-icon-m}}//",
                        16,
                        "//{{traffic-size-markers-icon-l}}//",
                        18,
                        "//{{traffic-size-markers-icon-xl}}//"
                      ],
                      "symbol-avoid-edges": true,
                      "symbol-placement": "point",
                      "text-anchor": "center",
                      "text-field": [
                        "concat",
                        ["max", 1, ["round", ["/", ["get", "delay"], 60]]],
                        "'"
                      ],
                      "text-font": ["{{{text-font-bold}}}"],
                      "text-offset": [
                        "step",
                        ["zoom"],
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-m}}//"]
                        ],
                        16,
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-l}}//"]
                        ],
                        18,
                        [
                          "literal",
                          [0.05, "//{{traffic-size-markers-text-offset-xl}}//"]
                        ]
                      ],
                      "text-size": [
                        "step",
                        ["zoom"],
                        "//{{traffic-size-markers-text-m}}//",
                        16,
                        "//{{traffic-size-markers-text-l}}//",
                        18,
                        "//{{traffic-size-markers-text-xl}}//"
                      ]
                    },
                    "paint": {
                      "text-color": "{{traffic-incidents-major-text-color}}",
                      "text-halo-color": "{{traffic-incidents-major-halo-color}}",
                      "text-halo-width": 1
                    }
                  },
                  {
                    "id": "TrafficIncidents - Closed road marker",
                    "type": "symbol",
                    "metadata": {"group": "incidents_marker"},
                    "source": "vectorTilesIncidents",
                    "source-layer": "Traffic incident points",
                    "minzoom": "//{{add 0 (max traffic-zoom-min traffic-zoom-markers-min)}}//",
                    "filter": [
                      "all",
                      ["==", "icon_category_0", 8],
                      ["in", "point_type", "start_point", "standalone_point"],
                      ["==", "magnitude_of_delay", 4]
                    ],
                    "layout": {
                      "visibility": "{{traffic-markers-visibility}}",
                      "icon-allow-overlap": true,
                      "icon-anchor": "center",
                      "icon-image": "traffic_road_closed",
                      "symbol-avoid-edges": true,
                      "symbol-placement": "point",
                      "icon-offset": [
                        "step",
                        ["zoom"],
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-m}}//"]
                        ],
                        16,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-l}}//"]
                        ],
                        18,
                        [
                          "literal",
                          [0, "//{{traffic-size-markers-icon-offset-xl}}//"]
                        ]
                      ],
                      "icon-size": [
                        "step",
                        ["zoom"],
                        "//{{traffic-size-markers-icon-m}}//",
                        16,
                        "//{{traffic-size-markers-icon-l}}//",
                        18,
                        "//{{traffic-size-markers-icon-xl}}//"
                      ]
                    }
                  }
                ]
              }
            },
            "variables": {
              "_namespace_vars": {
                "traffic-module-visible": false,
                "traffic-flow-visible": true,
                "traffic-incidents-visible": true,
                "traffic-markers-visible": true,
                "traffic-flow-visibility": "{{#if (equal traffic-module-visible toggle-false)}}none{{else}}{{#if (equal traffic-flow-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "traffic-incidents-visibility": "{{#if (equal traffic-module-visible toggle-false)}}none{{else}}{{#if (equal traffic-incidents-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "traffic-markers-visibility": "{{#if (equal traffic-module-visible toggle-false)}}none{{else}}{{#if (equal traffic-markers-visible toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "traffic-occlusion-visibility": "{{#if (equal traffic-module-visible toggle-false)}}none{{else}}{{#if (equal pmd-flag toggle-false)}}none{{else}}visible{{/if}}{{/if}}",
                "traffic-flow-free-outline-color": "{{scaleHsl 1 0.8 0.75 traffic-flow-free-line-color}}",
                "traffic-flow-free-line-color": "{{#if (more base-lum 0.3)}}hsl(146, 78%, 53%){{else}}hsl(156, 78%, 35%){{/if}}",
                "traffic-flow-slow-outline-color": "{{scaleHsl 1 0.85 0.7 traffic-flow-slow-line-color}}",
                "traffic-flow-slow-line-color": "{{#if (more base-lum 0.3)}}hsl(45, 100%, 51%){{else}}hsl(40, 100%, 43%){{/if}}",
                "traffic-flow-queueing-outline-color": "{{scaleHsl 1 0.9 0.6 traffic-flow-queueing-line-color}}",
                "traffic-flow-queueing-line-color": "{{#if (more base-lum 0.3)}}hsl(9, 97%, 51%){{else}}hsl(9, 97%, 41%){{/if}}",
                "traffic-flow-stationary-outline-color": "{{scaleHsl 1 1 0.5 traffic-flow-stationary-line-color}}",
                "traffic-flow-stationary-line-color": "{{#if (more base-lum 0.3)}}hsl(0, 100%, 34%){{else}}hsl(340, 90%, 24%){{/if}}",
                "traffic-flow-closed-outline-color-m": "{{scaleHsl 1 1 1.5 traffic-flow-closed-outline-color}}",
                "traffic-flow-closed-outline-color": "{{#if (more base-lum 0.3)}}hsl(0, 100%, 34%){{else}}hsl(0, 100%, 26%){{/if}}",
                "traffic-flow-closed-line-color": "{{#if (more base-lum 0.3)}}hsl(197, 28%, 95%){{else}}hsl(191, 11%, 80%){{/if}}",
                "traffic-incidents-nodelay-outline-color": "{{scaleHsl 1 1 0.6 traffic-incidents-nodelay-line-color}}",
                "traffic-incidents-nodelay-line-color": "{{#if (more base-lum 0.3)}}hsl(198, 20%, 90%){{else}}hsl(192, 6%, 68%){{/if}}",
                "traffic-incidents-minor-outline-color": "{{traffic-flow-slow-outline-color}}",
                "traffic-incidents-minor-line-color": "{{traffic-flow-slow-line-color}}",
                "traffic-incidents-moderate-outline-color": "{{traffic-flow-queueing-outline-color}}",
                "traffic-incidents-moderate-line-color": "{{traffic-flow-queueing-line-color}}",
                "traffic-incidents-major-outline-color": "{{traffic-flow-stationary-outline-color}}",
                "traffic-incidents-major-line-color": "{{traffic-flow-stationary-line-color}}",
                "traffic-incidents-closed-outline-color": "{{traffic-flow-closed-outline-color}}",
                "traffic-incidents-closed-line-color": "{{traffic-flow-closed-line-color}}",
                "traffic-incidents-minor-text-color": "{{white}}",
                "traffic-incidents-minor-halo-color": "{{traffic-flow-slow-line-color}}",
                "traffic-incidents-moderate-text-color": "{{white}}",
                "traffic-incidents-moderate-halo-color": "{{traffic-flow-queueing-line-color}}",
                "traffic-incidents-major-text-color": "{{white}}",
                "traffic-incidents-major-halo-color": "{{traffic-flow-stationary-line-color}}",
                "traffic-incidents-line-pattern-flavor": "{{#if (more base-lum 0.3)}}{{else}}-dark{{/if}}",
                "roads-width-factor": 1,
                "roads-width-factor-xs": 1,
                "roads-width-factor-s": 1,
                "roads-width-factor-m": 1,
                "roads-width-factor-l": 1,
                "roads-width-factor-major": 1,
                "roads-width-factor-secondary": 1,
                "roads-width-factor-local": 1,
                "roads-width-factor-minor": 1,
                "roads-width-exponential-base": 1.3,
                "roads-width-zoom-xs": 5,
                "roads-width-zoom-s": 9,
                "roads-width-zoom-m": 13,
                "roads-width-zoom-l": 19,
                "roads-width-min-xs": 0,
                "roads-width-min-s": 0,
                "roads-width-min-m": 0,
                "roads-width-min-l": 0,
                "roads-width-max-xs": 0.5,
                "roads-width-max-s": 2.5,
                "roads-width-max-m": 4.5,
                "roads-width-max-l": 44,
                "roads-width-offset-xs": 0.25,
                "roads-width-offset-s": 0.25,
                "roads-width-offset-m": 0.5,
                "roads-width-offset-l": 4,
                "roads-width-motorway-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-major (minus roads-width-max-l (multiply roads-width-offset-l 0))))}}",
                "roads-width-trunk-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-major (minus roads-width-max-l (multiply roads-width-offset-l 1))))}}",
                "roads-width-primary-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-major (minus roads-width-max-l (multiply roads-width-offset-l 2))))}}",
                "roads-width-secondary-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-secondary (minus roads-width-max-l (multiply roads-width-offset-l 3))))}}",
                "roads-width-tertiary-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-secondary (minus roads-width-max-l (multiply roads-width-offset-l 4))))}}",
                "roads-width-link-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-secondary (minus roads-width-max-l (multiply roads-width-offset-l 5))))}}",
                "roads-width-street-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-local (minus roads-width-max-l (multiply roads-width-offset-l 6))))}}",
                "roads-width-living_street-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-local (minus roads-width-max-l (multiply roads-width-offset-l 7))))}}",
                "roads-width-minor-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-minor (minus roads-width-max-l (multiply roads-width-offset-l 8))))}}",
                "roads-width-parking-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-minor (minus roads-width-max-l (multiply roads-width-offset-l 9))))}}",
                "roads-width-pedestrian-l": "{{multiply roads-width-factor (multiply roads-width-factor-l (multiply roads-width-factor-minor (minus roads-width-max-l (multiply roads-width-offset-l 9))))}}",
                "roads-width-motorway-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-major (minus roads-width-max-m (multiply roads-width-offset-m 0))))}}",
                "roads-width-trunk-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-major (minus roads-width-max-m (multiply roads-width-offset-m 1))))}}",
                "roads-width-primary-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-major (minus roads-width-max-m (multiply roads-width-offset-m 2))))}}",
                "roads-width-secondary-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-secondary (minus roads-width-max-m (multiply roads-width-offset-m 3))))}}",
                "roads-width-tertiary-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-secondary (minus roads-width-max-m (multiply roads-width-offset-m 4))))}}",
                "roads-width-link-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-secondary (minus roads-width-max-m (multiply roads-width-offset-m 5))))}}",
                "roads-width-street-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-local (minus roads-width-max-m (multiply roads-width-offset-m 6))))}}",
                "roads-width-living_street-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-local (minus roads-width-max-m (multiply roads-width-offset-m 7))))}}",
                "roads-width-minor-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-minor (minus roads-width-max-m (multiply roads-width-offset-m 8))))}}",
                "roads-width-parking-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-minor (minus roads-width-max-m (multiply roads-width-offset-m 9))))}}",
                "roads-width-pedestrian-m": "{{multiply roads-width-factor (multiply roads-width-factor-m (multiply roads-width-factor-minor (minus roads-width-max-m (multiply roads-width-offset-m 9))))}}",
                "roads-width-motorway-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-major (minus roads-width-max-s (multiply roads-width-offset-s 0))))}}",
                "roads-width-trunk-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-major (minus roads-width-max-s (multiply roads-width-offset-s 1))))}}",
                "roads-width-primary-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-major (minus roads-width-max-s (multiply roads-width-offset-s 2))))}}",
                "roads-width-secondary-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-secondary (minus roads-width-max-s (multiply roads-width-offset-s 3))))}}",
                "roads-width-tertiary-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-secondary (minus roads-width-max-s (multiply roads-width-offset-s 4))))}}",
                "roads-width-link-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-secondary (minus roads-width-max-s (multiply roads-width-offset-s 5))))}}",
                "roads-width-street-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-local (minus roads-width-max-s (multiply roads-width-offset-s 6))))}}",
                "roads-width-living_street-s": "{{multiply roads-width-factor (multiply roads-width-factor-s (multiply roads-width-factor-local (minus roads-width-max-s (multiply roads-width-offset-s 7))))}}",
                "roads-width-motorway-xs": "{{multiply roads-width-factor (multiply roads-width-factor-xs (multiply roads-width-factor-major (minus roads-width-max-xs (multiply roads-width-offset-xs 0))))}}",
                "roads-width-trunk-xs": "{{multiply roads-width-factor (multiply roads-width-factor-xs (multiply roads-width-factor-major (minus roads-width-max-xs (multiply roads-width-offset-xs 1))))}}",
                "roads-width-primary-xs": "{{multiply roads-width-factor (multiply roads-width-factor-xs (multiply roads-width-factor-major (minus roads-width-max-xs (multiply roads-width-offset-xs 2))))}}",
                "traffic-width-factor": 1,
                "traffic-width-flow-factor": 1,
                "traffic-width-flow-factor-xs": 0.8,
                "traffic-width-flow-factor-s": 0.6,
                "traffic-width-flow-factor-m": 0.4,
                "traffic-width-flow-factor-l": 0.2,
                "traffic-width-flow-offset-factor": 1,
                "traffic-width-flow-offset-factor-xs": 0.4,
                "traffic-width-flow-offset-factor-s": 0.4,
                "traffic-width-flow-offset-factor-m": 0.4,
                "traffic-width-flow-offset-factor-l": 0.4,
                "traffic-width-flow-outline-factor": 1,
                "traffic-width-flow-outline-factor-xs": 0.75,
                "traffic-width-flow-outline-factor-s": 1,
                "traffic-width-flow-outline-factor-m": 1.5,
                "traffic-width-flow-outline-factor-l": 3,
                "traffic-width-flow-xs": "{{multiply traffic-width-factor (multiply traffic-width-flow-factor traffic-width-flow-factor-xs)}}",
                "traffic-width-flow-s": "{{multiply traffic-width-factor (multiply traffic-width-flow-factor traffic-width-flow-factor-s)}}",
                "traffic-width-flow-m": "{{multiply traffic-width-factor (multiply traffic-width-flow-factor traffic-width-flow-factor-m)}}",
                "traffic-width-flow-l": "{{multiply traffic-width-factor (multiply traffic-width-flow-factor traffic-width-flow-factor-l)}}",
                "traffic-width-flow-offset-xs": "{{multiply traffic-width-flow-offset-factor traffic-width-flow-offset-factor-xs}}",
                "traffic-width-flow-offset-s": "{{multiply traffic-width-flow-offset-factor traffic-width-flow-offset-factor-s}}",
                "traffic-width-flow-offset-m": "{{multiply traffic-width-flow-offset-factor traffic-width-flow-offset-factor-m}}",
                "traffic-width-flow-offset-l": "{{multiply traffic-width-flow-offset-factor traffic-width-flow-offset-factor-l}}",
                "traffic-width-flow-outline-xs": "{{multiply traffic-width-flow-outline-factor traffic-width-flow-outline-factor-xs}}",
                "traffic-width-flow-outline-s": "{{multiply traffic-width-flow-outline-factor traffic-width-flow-outline-factor-s}}",
                "traffic-width-flow-outline-m": "{{multiply traffic-width-flow-outline-factor traffic-width-flow-outline-factor-m}}",
                "traffic-width-flow-outline-l": "{{multiply traffic-width-flow-outline-factor traffic-width-flow-outline-factor-l}}",
                "traffic-width-incidents-factor": 1,
                "traffic-width-incidents-factor-xs": 1,
                "traffic-width-incidents-factor-s": 0.8,
                "traffic-width-incidents-factor-m": 0.6,
                "traffic-width-incidents-factor-l": 0.4,
                "traffic-width-incidents-offset-factor": 1,
                "traffic-width-incidents-offset-factor-xs": 0.6,
                "traffic-width-incidents-offset-factor-s": 0.5,
                "traffic-width-incidents-offset-factor-m": 0.4,
                "traffic-width-incidents-offset-factor-l": 0.3,
                "traffic-width-incidents-outline-factor": 1,
                "traffic-width-incidents-outline-factor-xs": 0.75,
                "traffic-width-incidents-outline-factor-s": 1,
                "traffic-width-incidents-outline-factor-m": 1.5,
                "traffic-width-incidents-outline-factor-l": 3,
                "traffic-width-incidents-xs": "{{multiply traffic-width-factor (multiply traffic-width-incidents-factor traffic-width-incidents-factor-xs)}}",
                "traffic-width-incidents-s": "{{multiply traffic-width-factor (multiply traffic-width-incidents-factor traffic-width-incidents-factor-s)}}",
                "traffic-width-incidents-m": "{{multiply traffic-width-factor (multiply traffic-width-incidents-factor traffic-width-incidents-factor-m)}}",
                "traffic-width-incidents-l": "{{multiply traffic-width-factor (multiply traffic-width-incidents-factor traffic-width-incidents-factor-l)}}",
                "traffic-width-incidents-offset-xs": "{{multiply traffic-width-incidents-offset-factor traffic-width-incidents-offset-factor-xs}}",
                "traffic-width-incidents-offset-s": "{{multiply traffic-width-incidents-offset-factor traffic-width-incidents-offset-factor-s}}",
                "traffic-width-incidents-offset-m": "{{multiply traffic-width-incidents-offset-factor traffic-width-incidents-offset-factor-m}}",
                "traffic-width-incidents-offset-l": "{{multiply traffic-width-incidents-offset-factor traffic-width-incidents-offset-factor-l}}",
                "traffic-width-incidents-outline-xs": "{{multiply traffic-width-incidents-outline-factor traffic-width-incidents-outline-factor-xs}}",
                "traffic-width-incidents-outline-s": "{{multiply traffic-width-incidents-outline-factor traffic-width-incidents-outline-factor-s}}",
                "traffic-width-incidents-outline-m": "{{multiply traffic-width-incidents-outline-factor traffic-width-incidents-outline-factor-m}}",
                "traffic-width-incidents-outline-l": "{{multiply traffic-width-incidents-outline-factor traffic-width-incidents-outline-factor-l}}",
                "traffic-size-factor": 1,
                "traffic-size-markers-factor": 1,
                "traffic-size-markers-factor-m": 0.7,
                "traffic-size-markers-factor-l": 0.8,
                "traffic-size-markers-factor-xl": 1,
                "traffic-size-markers-text-max": 21,
                "traffic-size-markers-text-offset-max": -1.15,
                "traffic-size-markers-icon-offset-max": -22,
                "traffic-size-markers-text-m": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-m traffic-size-markers-text-max)))}}",
                "traffic-size-markers-text-l": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-l traffic-size-markers-text-max)))}}",
                "traffic-size-markers-text-xl": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-xl traffic-size-markers-text-max)))}}",
                "traffic-size-markers-icon-m": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor traffic-size-markers-factor-m))}}",
                "traffic-size-markers-icon-l": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor traffic-size-markers-factor-l))}}",
                "traffic-size-markers-icon-xl": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor traffic-size-markers-factor-xl))}}",
                "traffic-size-markers-text-offset-m": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-m traffic-size-markers-text-offset-max)))}}",
                "traffic-size-markers-text-offset-l": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-l traffic-size-markers-text-offset-max)))}}",
                "traffic-size-markers-text-offset-xl": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-xl traffic-size-markers-text-offset-max)))}}",
                "traffic-size-markers-icon-offset-m": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-m traffic-size-markers-icon-offset-max)))}}",
                "traffic-size-markers-icon-offset-l": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-l traffic-size-markers-icon-offset-max)))}}",
                "traffic-size-markers-icon-offset-xl": "{{multiply symbol-size-factor (multiply traffic-size-factor (multiply traffic-size-markers-factor (multiply traffic-size-markers-factor-xl traffic-size-markers-icon-offset-max)))}}",
                "traffic-zoom-min": 6,
                "traffic-zoom-max": 22,
                "traffic-zoom-flow-min": 6,
                "traffic-zoom-flow-pattern-min": 14,
                "traffic-zoom-incidents-min": 6,
                "traffic-zoom-incidents-pattern-min": 14,
                "traffic-zoom-markers-min": 13,
                "traffic-zoom-flow-max": "{{traffic-zoom-max}}",
                "traffic-zoom-incidents-max": "{{traffic-zoom-max}}",
                "traffic-zoom-markers-max": "{{traffic-zoom-max}}",
                "traffic-zoom-flow-offset": 0,
                "traffic-zoom-incidents-offset": 0,
                "traffic-zoom-markers-offset": 0
              }
            }
          }
        },
        "order": [
          ["land_nature", "background"],
          ["landuse", "built_up_area"],
          ["land_nature", "earth_cover"],
          ["landuse", "overlays"],
          ["landuse", "grounds"],
          ["land_nature", "land_cover"],
          ["landuse", "facilities"],
          ["imagery", "satellite"],
          ["water", "features"],
          ["terrain", "hillshade"],
          ["landuse", "structures"],
          ["transit", "aeroways"],
          ["transit", "platforms"],
          ["roads", "areas"],
          ["buildings", "footprints"],
          ["transit", "railways-tunnel"],
          ["paths", "tunnel"],
          ["roads", "tunnel"],
          ["transit", "ferries"],
          ["paths", "surface"],
          ["roads", "surface"],
          ["transit", "railways-surface"],
          ["paths", "bridge"],
          ["roads", "bridge"],
          ["transit", "railways-bridge"],
          ["transit", "aerialways"],
          ["landuse", "overlays-borders"],
          ["borders", "features"],
          ["traffic", "flow"],
          ["traffic", "incidents"],
          ["borders", "labels"],
          ["land_nature", "labels"],
          ["water", "labels"],
          ["transit", "labels"],
          ["paths", "labels"],
          ["roads", "labels"],
          ["buildings", "extrusions"],
          ["buildings", "landmarks"],
          ["roads", "occlusion"],
          ["traffic", "occlusion"],
          ["places", "address_points"],
          ["poi", "markers"],
          ["places", "labels"],
          ["traffic", "markers"]
        ],
        "sources": {
          "vectorTiles": {
            "maxzoom": 22,
            "minzoom": 0,
            "tiles": [
              "https://a.api.tomtom.com/maps/orbis/map-display/tile/{z}/{x}/{y}.pbf?apiVersion=1&key={key}",
              "https://b.api.tomtom.com/maps/orbis/map-display/tile/{z}/{x}/{y}.pbf?apiVersion=1&key={key}",
              "https://c.api.tomtom.com/maps/orbis/map-display/tile/{z}/{x}/{y}.pbf?apiVersion=1&key={key}",
              "https://d.api.tomtom.com/maps/orbis/map-display/tile/{z}/{x}/{y}.pbf?apiVersion=1&key={key}"
            ],
            "type": "vector",
            "attribution": "<a href='https://www.openstreetmap.org/copyright'> OpenStreetMap</a> | <a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
          },
          "tomtom:placeholder": {
            "type": "geojson",
            "data": {"type": "FeatureCollection", "features": []}
          }
        },
        "sprite": "https://api.tomtom.com/maps/orbis/assets/sprites/0.2.*/sprite?apiVersion=1&sourcesVersion=1&{{{sprite-suffix}}}",
        "glyphs": "https://api.tomtom.com/maps/orbis/assets/fonts/0.2.*/{fontstack}/{range}.pbf?apiVersion=1"
      },
      "user-variables": {
        "land": "hsl(45, 35%, 92%)",
        "water": "hsl(198, 60%, 73%)",
        "vegetation": "hsl(115, 40%, 75%)",
        "park": "hsl(115, 45%, 78%)",
        "artificial": "hsl(210, 15%, 96%)",
        "road-major": "hsl(47, 100%, 72%)",
        "road": "hsl(0, 0%, 100%)",
        "road-outline": "hsl(215, 15%, 60%)",
        "label": "hsl(0, 0%, 15%)",
        "label-outline": "hsl(0, 0%, 100%)",
        "modules": {
          "traffic": {"traffic-module-visible": false},
          "terrain": {
            "terrain-module-visible": true,
            "hillshade-color": "hsla(45, 28.795811518324605%, 36.49186991869919%, 1)"
          }
        }
      },
      "user-overrides": {
        "Places - Village / Hamlet": {"layout": {}},
        "Places - City": {"paint": {"icon-color": "#000000"}},
        "LULC - Landcover": {
          "paint": {
            "fill-color": [
              "match",
              ["get", "category"],
              "woodland",
              "hsl(115, 92.2%, 11.2%)",
              "grassland",
              "hsl(115, 92.9%, 11.7%)",
              "shrubland",
              "hsl(85, 89.2%, 13.2%)",
              "agricultural",
              "hsl(85, 92.2%, 14.8%)",
              "sandy",
              "hsl(45, 90.7%, 12.3%)",
              "bareland",
              "hsl(45, 86.4%, 19.3%)",
              "hsla(0, 0%, 100%, 0)"
            ]
          }
        }
      },
      "user-order": [
        "background",
        "LULC - Built-up area",
        "LULC - Earth Cover",
        "LULC - Protected Areas",
        "LULC - Landuse",
        "LULC - Landcover",
        "LULC - Outdoor & Sport",
        "LULC - Parking & Driving",
        "Satellite Imagery",
        "Water - Line",
        "Water - Shadow",
        "Water - Intermittent",
        "Water - Fill",
        "Hillshade",
        "Structure - Bridge & Pier shadow",
        "Structure - Bridge & Pier line",
        "Structure - Bridge & Pier area",
        "Transit - Aeroway line",
        "Transit - Aeroway area",
        "Transit - Platform line",
        "Transit - Platform area",
        "Areas - Pedestrian shadow",
        "Areas - Pedestrian",
        "Areas - Service road",
        "Buildings - Underground",
        "Buildings - Shadow",
        "Buildings - Fill",
        "Buildings - Outline",
        "Tunnel - Subway",
        "Tunnel - Railway fill",
        "Tunnel - Railway outline",
        "Tunnel - Railway dash",
        "Tunnel - Track",
        "Tunnel - Path",
        "Tunnel - Tarmac outline",
        "Tunnel - Road outline",
        "Tunnel - Road under construction",
        "Tunnel - Road line",
        "Tunnel - Restricted road dash",
        "Tunnel - Road arrow",
        "Surface - Ferry",
        "Surface - Track",
        "Surface - Path",
        "Surface - Tarmac outline",
        "Surface - Minor road outline",
        "Surface - Street outline",
        "Surface - Link road outline",
        "Surface - Tertiary road outline",
        "Surface - Secondary road outline",
        "Surface - Primary road outline",
        "Surface - Motorway & Trunk outline",
        "Surface - Turning Feature",
        "Surface - Road under construction",
        "Surface - Minor road",
        "Surface - Street",
        "Surface - Link road",
        "Surface - Tertiary road",
        "Surface - Secondary road",
        "Surface - Major road small scale outline",
        "Surface - Primary road",
        "Surface - Motorway & Trunk",
        "Surface - Restricted road dash",
        "Surface - Road arrow",
        "Surface - Railway fill",
        "Surface - Railway outline",
        "Surface - Railway dash",
        "Bridge - Track",
        "Bridge - Path",
        "Bridge - Z1 Tarmac outline",
        "Bridge - Z1 Road outline",
        "Bridge - Z1 Road under construction",
        "Bridge - Z1 Road line",
        "Bridge - Z1 Restricted road dash",
        "Bridge - Z2 Tarmac outline",
        "Bridge  - Z2 Road outline",
        "Bridge  - Z2 Road under construction",
        "Bridge  - Z2 Road line",
        "Bridge - Z2 Restricted road dash",
        "Bridge - Z3+ Tarmac outline",
        "Bridge  - Z3+ Road outline",
        "Bridge  - Z3+ Road under construction",
        "Bridge  - Z3+ Road line",
        "Bridge - Z3+ Restricted road dash",
        "Bridge - Road arrow",
        "Bridge - Railway fill",
        "Bridge - Railway outline",
        "Bridge - Railway dash",
        "Bridge - Aerialway",
        "Borders - Overlays background",
        "Borders - Overlays",
        "Borders - Background",
        "Borders - Maritime",
        "Borders - Treaty",
        "Borders - Disputed",
        "Borders - State",
        "Borders - Country",
        "Traffic - Free flow outline",
        "Traffic - Free flow",
        "Traffic - Slow flow outline",
        "Traffic - Slow flow",
        "Traffic - Slow flow pattern",
        "Traffic - Queueing flow outline",
        "Traffic - Queueing flow",
        "Traffic - Queueing flow pattern",
        "Traffic - Stationary flow outline",
        "Traffic - Stationary flow",
        "Traffic - Stationary flow pattern",
        "Traffic - Closed road outline",
        "Traffic - Closed road",
        "Traffic - Closed road pattern",
        "TrafficIncidents - No delay outline",
        "TrafficIncidents - No delay",
        "TrafficIncidents - No delay pattern",
        "TrafficIncidents - Minor jam outline",
        "TrafficIncidents - Minor jam ",
        "TrafficIncidents - Minor jam pattern",
        "TrafficIncidents - Moderate jam outline",
        "TrafficIncidents - Moderate jam",
        "TrafficIncidents - Moderate jam pattern",
        "TrafficIncidents - Major jam outline",
        "TrafficIncidents - Major jam",
        "TrafficIncidents - Major jam pattern",
        "TrafficIncidents - Closed road outline",
        "TrafficIncidents - Closed road",
        "TrafficIncidents - Closed road pattern",
        "Borders - Treaty label",
        "NatureLabels - Elevation Point",
        "NatureLabels - Physiography",
        "NatureLabels - River line",
        "NatureLabels - Water area",
        "TransitLabels - Ferry",
        "TransitLabels - Path",
        "TransitLabels - Road",
        "TransitLabels - Route Shield 4",
        "TransitLabels - Route Shield 3",
        "TransitLabels - Route Shield 2",
        "TransitLabels - Route Shield 1",
        "TransitLabels - Exit Number",
        "3D - Building",
        "3D - Building - NoLandmarks",
        "3D - Landmarks",
        "AntiOcclusion - Roads",
        "AntiOcclusion - Traffic",
        "House Number",
        "POI - Micro",
        "POI",
        "Places - Village / Hamlet",
        "Places - Neighbourhood",
        "Places - Town",
        "Places - City",
        "Places - Label point",
        "Places - State name",
        "Places - Capital",
        "Places - Country name",
        "TrafficIncidents - No delay marker",
        "TrafficIncidents - Minor jam marker",
        "TrafficIncidents - Moderate jam marker",
        "TrafficIncidents - Major jam marker",
        "TrafficIncidents - Closed road marker"
      ],
      "ui-definition": {
        "foundations": {
          "name": "Foundations",
          "ui-groups": [
            {
              "name": "Map Colors",
              "parameters": [
                {
                  "var": "land",
                  "type": "color",
                  "name": "Land (base)",
                  "description": "The Land color is primarily used to style the map background and other bare-land features. It also influences admin borders/labels and will be used as a base to derive any other undefined map color.",
                  "summary": "Map background and other bare-land features, influences admin borders/labels. Also used to derive all map colors if undefined."
                },
                {
                  "var": "water",
                  "type": "color",
                  "name": "Water",
                  "description": "The Water color is primarily used to style waterbodies, waterways and other water features. It also influences other water-related map objects such as glaciers, water labels and ferry lines.",
                  "summary": "Waterbodies, waterways and other water features. Also influences glaciers, water labels and ferry lines."
                },
                {
                  "var": "vegetation",
                  "type": "color",
                  "name": "Vegetation",
                  "description": "The Vegetation color is primarily used to style forests and other classes of vegetated land cover such as grass and shrubland. It also influences styling of earth cover vegetation at smaller scales.",
                  "summary": "Forests and other land cover such as grass and shrubland. Also influences earth cover vegetation at smaller scales."
                },
                {
                  "var": "park",
                  "type": "color",
                  "name": "Park & Recreation",
                  "description": "The Park & Recreation color is primarily used to style city parks and sport/recreation grounds. It also influences the visualization of National Parks and other protected areas at smaller scales.",
                  "summary": "City parks and sport/recreation grounds. Also influences National Parks and other protected areas at smaller scales."
                },
                {
                  "var": "artificial",
                  "type": "color",
                  "name": "Artificial",
                  "description": "The Artificial color is primarily used to style built-up-areas and man-made features such as landuse grounds and buildings. It also influences styling of railways and other artificial objects.",
                  "summary": "Built-up-areas and man-made features such as landuse grounds and buildings Also influences railways."
                },
                {
                  "var": "road-major",
                  "type": "color",
                  "name": "Major Road",
                  "description": "The Major Road color is primarily used to style motorways and other major classes such as trunks and primary roads. It also influences outline and tunnel colors for the same road classes.",
                  "summary": "Most important road classes, from motorways & trunks to primary roads. Also influences outline and tunnel colors."
                },
                {
                  "var": "road",
                  "type": "color",
                  "name": "Road",
                  "description": "The Road color is primarily used to style secondary/tertiary roads and less important road classes such as streets and service roads. It also influences tunnel colors for the same road classes.",
                  "summary": "Less important road classes, from secondary/tertiary to streets and service roads. Also influences tunnel colors."
                },
                {
                  "var": "road-outline",
                  "type": "color",
                  "name": "Road Outline",
                  "description": "The Road Outline color is primarily used to style road outlines for secondary/tertiary roads and minor classes. It also influences road labels and all other road outline colors including tunnels.",
                  "summary": "Road outlines for secondary/tertiary roads and minor classes. Also influences road labels and all other outline colors."
                },
                {
                  "var": "label",
                  "type": "color",
                  "name": "Label",
                  "description": "The Label color is primarily used to style labels for capitals and all other populated places/admin areas. It also influences border styling and all other label colors including roads and POIs.",
                  "summary": "Labels for capitals and other populated places/admin areas. Also influences border styling and all other label colors."
                },
                {
                  "var": "label-outline",
                  "type": "color",
                  "name": "Label Outline",
                  "description": "The Label Outline color is primarily used to style outlines for populated places and admin area labels. It also influences styling of border outlines and all other label halos including roads and POIs.",
                  "summary": "Outlines for populated places and admin area labels. Also influences border outlines and all other label halos."
                }
              ]
            },
            {
              "name": "Map Properties",
              "parameters": [
                {
                  "name": "Assets flavor",
                  "type": "dropdown",
                  "options": ["Default", "Satellite", "Monochrome"],
                  "summary": "Determines the type of assets (images) used in the map. Default and monochrome will switch automatically between 'light' and 'dark' assets depending on the Land (base) color luminance.",
                  "var": "sprites-flavor"
                },
                {
                  "name": "Global symbol size",
                  "type": "slider",
                  "max": 1.5,
                  "min": 0.5,
                  "default": 1,
                  "step": 0.1,
                  "summary": "A multiplication factor for the size of all symbols (text and icon) in the map, compared to the default values. Note that it can be combined with other size factors at module level.",
                  "var": "symbol-size-factor"
                }
              ]
            }
          ],
          "icon": "color-icon"
        },
        "modules": [
          {
            "module-id": "traffic",
            "name": "Traffic",
            "icon": "traffic-icon",
            "visibility-var": "traffic-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Free traffic",
                    "summary": "Base color for free traffic flow tubes, including outlines.",
                    "type": "color",
                    "var": "traffic-flow-free-line-color"
                  },
                  {
                    "name": "Minor traffic",
                    "summary": "Base color for minor incidents and slow traffic flow tubes, including outlines. Note that patterns and markers won't be influenced.",
                    "type": "color",
                    "var": "traffic-flow-slow-line-color"
                  },
                  {
                    "name": "Moderate traffic",
                    "summary": "Base color for moderate incidents and queueing traffic flow tubes, including outlines. Note that patterns and markers won't be influenced.",
                    "type": "color",
                    "var": "traffic-flow-queueing-line-color"
                  },
                  {
                    "name": "Major traffic",
                    "summary": "Base color for major incidents and stationary traffic flow tubes, including outlines. Note that patterns and markers won't be influenced.",
                    "type": "color",
                    "var": "traffic-flow-stationary-line-color"
                  },
                  {
                    "name": "Closed road",
                    "summary": "Outline color for closed road tubes. Note that patterns and markers won't be influenced.",
                    "type": "color",
                    "var": "traffic-flow-closed-outline-color"
                  },
                  {
                    "name": "Closed road background",
                    "summary": "Background color for closed road tubes. Note that patterns and markers won't be influenced.",
                    "type": "color",
                    "var": "traffic-flow-closed-line-color"
                  },
                  {
                    "name": "Generic incident",
                    "summary": "Base color for traffic incidents not causing a delay, such as roadworks. Note that patterns and markers won't be influenced.",
                    "type": "color",
                    "var": "traffic-incidents-nodelay-line-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any feature in this module will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 6,
                    "step": 1,
                    "var": "traffic-zoom-min"
                  },
                  {
                    "name": "Line width",
                    "summary": "A multiplication factor for the width of all lines in this module, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-factor"
                  }
                ]
              },
              {
                "name": "Markers",
                "icon": "poi-icon",
                "visibility-var": "traffic-markers-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any traffic incident marker will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 13,
                    "step": 1,
                    "var": "traffic-zoom-markers-min"
                  },
                  {
                    "name": "Symbol size",
                    "summary": "A multiplication factor for the size of traffic incident markers, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-size-factor"
                  },
                  {
                    "name": "Symbol size (ZL<16)",
                    "summary": "A multiplication factor for the size of traffic incident markers at zoom levels <16, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-size-markers-factor-m"
                  },
                  {
                    "name": "Symbol size (ZL16)",
                    "summary": "A multiplication factor for the size of traffic incident markers at zoom level 16, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-size-markers-factor-l"
                  },
                  {
                    "name": "Symbol size (ZL18)",
                    "summary": "A multiplication factor for the size of traffic incident markers at zoom level 18, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-size-markers-factor-xl"
                  }
                ]
              },
              {
                "name": "Incidents",
                "icon": "traffic-icon",
                "visibility-var": "traffic-incidents-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any traffic incident tube will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 6,
                    "step": 1,
                    "var": "traffic-zoom-incidents-min"
                  },
                  {
                    "name": "Zoom level shift",
                    "summary": "A shift in appearance of traffic incident tubes of one or more zoom levels, compared to default values. This can help reduce density of features at certain scales.",
                    "type": "slider",
                    "max": 5,
                    "min": 0,
                    "default": 0,
                    "step": 1,
                    "var": "traffic-zoom-incidents-offset"
                  },
                  {
                    "name": "Pattern minimum zoom level",
                    "summary": "The minimum zoom level at which any traffic incident pattern will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 14,
                    "step": 1,
                    "var": "traffic-zoom-incidents-pattern-min"
                  },
                  {
                    "name": "Tube width",
                    "summary": "A multiplication factor for the width of all traffic incidents tubes, compared to the default values. Note that it will be combined with other width factors.",
                    "type": "slider",
                    "max": 2,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-factor"
                  },
                  {
                    "name": "Tube width relative to road (ZL5)",
                    "summary": "A multiplication factor for the width of all traffic incidents tubes at ZL5, compared to the corresponding road class width. E.g. 1 means as wide as the road, 0.5 half of it.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-factor-xs"
                  },
                  {
                    "name": "Tube width relative to road (ZL9)",
                    "summary": "A multiplication factor for the width of all traffic incidents tubes at ZL9, compared to the corresponding road class width. E.g. 1 means as wide as the road, 0.5 half of it.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-factor-s"
                  },
                  {
                    "name": "Tube width relative to road (ZL13)",
                    "summary": "A multiplication factor for the width of all traffic incidents tubes at ZL13, compared to the corresponding road class width. E.g. 1 means as wide as the road, 0.5 half of it.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-factor-m"
                  },
                  {
                    "name": "Tube width relative to road (ZL19)",
                    "summary": "A multiplication factor for the width of all traffic incidents tubes at ZL19, compared to the corresponding road class width. E.g. 1 means as wide as the road, 0.5 half of it.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-factor-l"
                  },
                  {
                    "name": "Tube outline width",
                    "summary": "A multiplication factor for the width of all traffic incidents tube outlines, compared to the default values. Note that it will be combined with other width factors.",
                    "type": "slider",
                    "max": 2,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-outline-factor"
                  },
                  {
                    "name": "Tube offset",
                    "summary": "A multiplication factor for the offset from the center line of all traffic incidents tubes, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 2,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-offset-factor"
                  },
                  {
                    "name": "Tube offset relative to road (ZL5)",
                    "summary": "A multiplication factor for the offset from the center line of all traffic incidents tubes at ZL5, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-offset-factor-xs"
                  },
                  {
                    "name": "Tube offset relative to road (ZL9)",
                    "summary": "A multiplication factor for the offset from the center line of all traffic incidents tubes at ZL9, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-offset-factor-s"
                  },
                  {
                    "name": "Tube offset relative to road (ZL13)",
                    "summary": "A multiplication factor for the offset from the center line of all traffic incidents tubes at ZL13, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-offset-factor-m"
                  },
                  {
                    "name": "Tube offset relative to road (ZL19)",
                    "summary": "A multiplication factor for the offset from the center line of all traffic incidents tubes at ZL19, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-incidents-offset-factor-l"
                  }
                ]
              },
              {
                "name": "Flow",
                "icon": "traffic-icon",
                "visibility-var": "traffic-flow-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any traffic flow tube will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 6,
                    "step": 1,
                    "var": "traffic-zoom-flow-min"
                  },
                  {
                    "name": "Zoom level shift",
                    "summary": "A shift in appearance of traffic flow tubes of one or more zoom levels, compared to default values. This can help reduce density of features at certain scales.",
                    "type": "slider",
                    "max": 5,
                    "min": 0,
                    "default": 0,
                    "step": 1,
                    "var": "traffic-zoom-flow-offset"
                  },
                  {
                    "name": "Pattern minimum zoom level",
                    "summary": "The minimum zoom level at which any traffic flow pattern will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 14,
                    "step": 1,
                    "var": "traffic-zoom-flow-pattern-min"
                  },
                  {
                    "name": "Tube width",
                    "summary": "A multiplication factor for the width of all traffic flow tubes, compared to the default values. Note that it will be combined with other width factors.",
                    "type": "slider",
                    "max": 2,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-factor"
                  },
                  {
                    "name": "Tube width relative to road (ZL5)",
                    "summary": "A multiplication factor for the width of all traffic flow tubes at ZL5, compared to the corresponding road class width. E.g. 1 means as wide as the road, 0.5 half of it.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-factor-xs"
                  },
                  {
                    "name": "Tube width relative to road (ZL9)",
                    "summary": "A multiplication factor for the width of all traffic flow tubes at ZL9, compared to the corresponding road class width. E.g. 1 means as wide as the road, 0.5 half of it.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-factor-s"
                  },
                  {
                    "name": "Tube width relative to road (ZL13)",
                    "summary": "A multiplication factor for the width of all traffic flow tubes at ZL13, compared to the corresponding road class width. E.g. 1 means as wide as the road, 0.5 half of it.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-factor-m"
                  },
                  {
                    "name": "Tube width relative to road (ZL19)",
                    "summary": "A multiplication factor for the width of all traffic flow tubes at ZL19, compared to the corresponding road class width. E.g. 1 means as wide as the road, 0.5 half of it.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-factor-l"
                  },
                  {
                    "name": "Tube outline width",
                    "summary": "A multiplication factor for the width of all traffic flow tube outlines, compared to the default values. Note that it will be combined with other width factors.",
                    "type": "slider",
                    "max": 2,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-outline-factor"
                  },
                  {
                    "name": "Tube offset",
                    "summary": "A multiplication factor for the offset from the center line of all traffic flow tubes, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 2,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-offset-factor"
                  },
                  {
                    "name": "Tube offset relative to road (ZL5)",
                    "summary": "A multiplication factor for the offset from the center line of all traffic flow tubes at ZL5, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-offset-factor-xs"
                  },
                  {
                    "name": "Tube offset relative to road (ZL9)",
                    "summary": "A multiplication factor for the offset from the center line of all traffic flow tubes at ZL9, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-offset-factor-s"
                  },
                  {
                    "name": "Tube offset relative to road (ZL13)",
                    "summary": "A multiplication factor for the offset from the center line of all traffic flow tubes at ZL13, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-offset-factor-m"
                  },
                  {
                    "name": "Tube offset relative to road (ZL19)",
                    "summary": "A multiplication factor for the offset from the center line of all traffic flow tubes at ZL19, compared to the corresponding road class width. E.g. 1 means at the side of the road, 0.5 halfway from the center.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "traffic-width-flow-offset-factor-l"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "poi",
            "name": "POI",
            "icon": "poi-icon",
            "visibility-var": "poi-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "POI Label",
                    "summary": "Base color for POI labels. By default it's derived from the Label foundation color",
                    "type": "color",
                    "var": "poi-text-color"
                  },
                  {
                    "name": "POI Label Outline",
                    "summary": "Base color for POI label outlines. By default it's derived from the Label Outline foundation color",
                    "type": "color",
                    "var": "poi-halo-color"
                  },
                  {
                    "name": "Inherit label colors from POI groups",
                    "summary": "Generate POI label colors for POI families/groups from corresponding default assets. With the option off, all labels are monochromatic unless modified manually",
                    "type": "checkbox",
                    "default": true,
                    "var": "poi-inherit-poi-colors"
                  },
                  {
                    "name": "Eat & Drink",
                    "type": "color",
                    "var": "poi-eat_and_drink-text-color"
                  },
                  {
                    "name": "Healthcare",
                    "type": "color",
                    "var": "poi-healthcare-text-color"
                  },
                  {
                    "name": "Leisure",
                    "type": "color",
                    "var": "poi-leisure-text-color"
                  },
                  {
                    "name": "Cultural",
                    "type": "color",
                    "var": "poi-cultural-text-color"
                  },
                  {
                    "name": "Shopping",
                    "type": "color",
                    "var": "poi-shopping-text-color"
                  },
                  {
                    "name": "Lodging",
                    "type": "color",
                    "var": "poi-lodging-text-color"
                  },
                  {
                    "name": "Transportation",
                    "type": "color",
                    "var": "poi-transportation-text-color"
                  },
                  {
                    "name": "Driving",
                    "type": "color",
                    "var": "poi-driving-text-color"
                  },
                  {
                    "name": "Parking",
                    "type": "color",
                    "var": "poi-parking-text-color"
                  },
                  {
                    "name": "Outdoor",
                    "type": "color",
                    "var": "poi-outdoor-text-color"
                  },
                  {
                    "name": "Sport",
                    "type": "color",
                    "var": "poi-sport-text-color"
                  },
                  {
                    "name": "Education",
                    "type": "color",
                    "var": "poi-education-text-color"
                  },
                  {
                    "name": "Public",
                    "type": "color",
                    "var": "poi-public-text-color"
                  },
                  {
                    "name": "Business",
                    "type": "color",
                    "var": "poi-business-text-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any feature in this module will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 6,
                    "step": 1,
                    "var": "poi-zoom-min"
                  },
                  {
                    "name": "Symbol size",
                    "summary": "A multiplication factor for the size of all symbols (text and icons) in this module, compared to the default values. Note that it will be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-factor"
                  },
                  {
                    "name": "Symbol padding",
                    "summary": "A multiplication factor for the padding of all symbols in this module, compared to the default values. It can help to control density of features at certain scales.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-zoom-padding-factor"
                  },
                  {
                    "name": "Category filter",
                    "summary": "The percentage (expressed from 0 to 1) of POI categories filtered out from the map, starting from those with lower priority. E.g. 0.1 will remove the 10% less important categories from the map.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-zoom-priority-factor"
                  },
                  {
                    "name": "Driving filter",
                    "summary": "A specific configuration of POIs tailored for an uncluttered driving use case. It will enable only driving-related and major POI categories.",
                    "type": "checkbox",
                    "default": true,
                    "var": "poi-driving-flag"
                  }
                ]
              },
              {
                "name": "Markers",
                "icon": "poi-icon",
                "visibility-var": "poi-markers-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any POI marker will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 6,
                    "step": 1,
                    "var": "poi-zoom-markers-min"
                  },
                  {
                    "name": "Zoom level shift",
                    "summary": "A shift in appearance of POI markers of one or more zoom levels, compared to default values. This can help reduce density of features at certain scales.",
                    "type": "slider",
                    "max": 3,
                    "min": -3,
                    "default": 0,
                    "step": 1,
                    "var": "poi-zoom-markers-offset"
                  },
                  {
                    "name": "Symbol size",
                    "summary": "A multiplication factor for the size of POI markers (text and icon), compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-markers-factor"
                  },
                  {
                    "name": "Text size (ZL10)",
                    "summary": "A multiplication factor for the text size of POI markers at ZL10, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-markers-factor-text-m"
                  },
                  {
                    "name": "Text size (ZL18)",
                    "summary": "A multiplication factor for the text size of POI markers at ZL18, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-markers-factor-text-xl"
                  },
                  {
                    "name": "Icon size (ZL10)",
                    "summary": "A multiplication factor for the icon size of POI markers at ZL10, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-markers-factor-icon-m"
                  },
                  {
                    "name": "Icon size (ZL18)",
                    "summary": "A multiplication factor for the icon size of POI markers at ZL18, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-markers-factor-icon-xl"
                  }
                ]
              },
              {
                "name": "Micro Markers",
                "icon": "poi-icon",
                "visibility-var": "poi-micro-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any POI micro marker will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 15.5,
                    "step": 1,
                    "var": "poi-zoom-micro-min"
                  },
                  {
                    "name": "Zoom level shift",
                    "summary": "A shift in appearance of POI micro markers of one or more zoom levels, compared to default values. This can help reduce density of features at certain scales.",
                    "type": "slider",
                    "max": 3,
                    "min": -3,
                    "default": -1,
                    "step": 1,
                    "var": "poi-zoom-micro-offset"
                  },
                  {
                    "name": "Icon size",
                    "summary": "A multiplication factor for the icon size of POI micro markers, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-micro-factor"
                  },
                  {
                    "name": "Icon size (ZL15)",
                    "summary": "A multiplication factor for the icon size of POI micro markers at ZL15, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 2,
                    "min": 0.1,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-micro-factor-icon-l"
                  },
                  {
                    "name": "Icon size (ZL18)",
                    "summary": "A multiplication factor for the icon size of POI micro markers at ZL18, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 2,
                    "min": 0.1,
                    "default": 1,
                    "step": 0.1,
                    "var": "poi-size-micro-factor-icon-xl"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "places",
            "name": "Places",
            "icon": "places-icon",
            "visibility-var": "places-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Capital",
                    "summary": "Base color for capital labels. By default it corresponds to the Label foundation color",
                    "type": "color",
                    "var": "places-capital-text-color"
                  },
                  {
                    "name": "City",
                    "summary": "Base color for city labels. By default it's derived from the Label foundation color",
                    "type": "color",
                    "var": "places-city-text-color"
                  },
                  {
                    "name": "Town",
                    "summary": "Base color for town labels. By default it's derived from the Label foundation color",
                    "type": "color",
                    "var": "places-town-text-color"
                  },
                  {
                    "name": "Village",
                    "summary": "Base color for village labels. By default it's derived from the Label foundation color",
                    "type": "color",
                    "var": "places-village-text-color"
                  },
                  {
                    "name": "Neighbourhood",
                    "summary": "Base color for neighbourhood labels. By default it's derived from the Label foundation color",
                    "type": "color",
                    "var": "places-neighbourhood-text-color"
                  },
                  {
                    "name": "Country name",
                    "summary": "Base color for country labels. By default it's derived from the Land foundation color and influenced by Label",
                    "type": "color",
                    "var": "places-country-text-color"
                  },
                  {
                    "name": "State name",
                    "summary": "Base color for state labels. By default it's derived from the Land foundation color and influenced by Label",
                    "type": "color",
                    "var": "places-state-text-color"
                  },
                  {
                    "name": "Address Point",
                    "summary": "Base color for address point labels. By default it's derived from the Label foundation color",
                    "type": "color",
                    "var": "places-address-text-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any feature in this module will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 0,
                    "default": 2,
                    "step": 1,
                    "var": "places-zoom-min"
                  },
                  {
                    "name": "Symbol size",
                    "summary": "A multiplication factor for the size of all symbols (text and icons) in this module, compared to the default values. Note that it will be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-factor"
                  }
                ]
              },
              {
                "name": "City Centers",
                "icon": "places-icon",
                "visibility-var": "places-settlements-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any city center will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 3,
                    "default": 3,
                    "step": 1,
                    "var": "places-zoom-settlements-min"
                  },
                  {
                    "name": "Maximum zoom level",
                    "summary": "The maximum zoom level at which any city center will be visualized. Note that certain features can still disappear earlier.",
                    "type": "slider",
                    "max": 22,
                    "min": 3,
                    "default": 17,
                    "step": 1,
                    "var": "places-zoom-settlements-max"
                  },
                  {
                    "name": "Zoom level shift",
                    "summary": "A shift in appearance of city center of one or more zoom levels earlier or later, compared to default values. This can help reduce or increase density of features at certain scales.",
                    "type": "slider",
                    "max": 3,
                    "min": -3,
                    "default": 0,
                    "step": 1,
                    "var": "places-zoom-settlements-offset"
                  },
                  {
                    "name": "Text size",
                    "summary": "A multiplication factor for the text size of city centers, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-settlements-factor"
                  },
                  {
                    "name": "Text size (ZL3)",
                    "summary": "A multiplication factor for the text size of city centers at ZL3, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-settlements-factor-xs"
                  },
                  {
                    "name": "Text size (ZL8)",
                    "summary": "A multiplication factor for the text size of city centers at ZL8, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-settlements-factor-s"
                  },
                  {
                    "name": "Text size (ZL15)",
                    "summary": "A multiplication factor for the text size of city centers at ZL15, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-settlements-factor-m"
                  },
                  {
                    "name": "Text size difference between label classes (ZL3)",
                    "summary": "A pixel value for the difference in text sizes between city centers classes at ZL3, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 2,
                    "min": 0.1,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-settlements-step-xs"
                  },
                  {
                    "name": "Text size difference between label classes (ZL8)",
                    "summary": "A pixel value for the difference in text sizes between city centers classes at ZL8, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 3,
                    "min": 1,
                    "default": 2,
                    "step": 0.2,
                    "var": "places-size-settlements-step-s"
                  },
                  {
                    "name": "Text size difference between label classes (ZL15)",
                    "summary": "A pixel value for the difference in text sizes between city centers classes at ZL15, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 3,
                    "min": 1,
                    "default": 2,
                    "step": 0.2,
                    "var": "places-size-settlements-step-m"
                  },
                  {
                    "name": "Icon maximum zoom level",
                    "summary": "The maximum zoom level at which any city center icons will be visualized. Note that the label will be centered once the icon disappears.",
                    "type": "slider",
                    "max": 22,
                    "min": 0,
                    "default": 8,
                    "step": 1,
                    "var": "places-zoom-settlements-icon-max"
                  },
                  {
                    "name": "Icon size",
                    "summary": "A multiplication factor for the icon size of city centers, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-settlements-icon-factor"
                  },
                  {
                    "name": "Icon size (ZL3)",
                    "summary": "A multiplication factor for the icon size of city centers at ZL3, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-settlements-icon-factor-xs"
                  },
                  {
                    "name": "Icon size (ZL8)",
                    "summary": "A multiplication factor for the icon size of city centers at ZL3, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-settlements-icon-factor-s"
                  }
                ]
              },
              {
                "name": "Administrative Labels",
                "icon": "places-icon",
                "visibility-var": "places-admin-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any administrative label will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 2,
                    "default": 2,
                    "step": 1,
                    "var": "places-zoom-admin-min"
                  },
                  {
                    "name": "Maximum zoom level",
                    "summary": "The maximum zoom level at which any administrative label will be visualized. Note that certain features can still disappear ealier.",
                    "type": "slider",
                    "max": 22,
                    "min": 2,
                    "default": 13,
                    "step": 1,
                    "var": "places-zoom-admin-max"
                  },
                  {
                    "name": "Zoom level shift",
                    "summary": "A shift in appearance of administrative labels of one or more zoom levels earlier or later, compared to default values. This can help reduce or increase density of features at certain scales.",
                    "type": "slider",
                    "max": 3,
                    "min": -3,
                    "default": 0,
                    "step": 1,
                    "var": "places-zoom-admin-offset"
                  },
                  {
                    "name": "State code maximum zoom level",
                    "summary": "The maximum zoom level at which any state codes will be visualized. State names will be visualized instead after this ZL.",
                    "type": "slider",
                    "max": 22,
                    "min": 0,
                    "default": 4,
                    "step": 1,
                    "var": "places-zoom-admin-code-max"
                  },
                  {
                    "name": "Text size",
                    "summary": "A multiplication factor for the text size of administrative labels, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-admin-factor"
                  },
                  {
                    "name": "Text size (ZL4)",
                    "summary": "A multiplication factor for the text size of administrative labels at ZL4, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-admin-factor-xs"
                  },
                  {
                    "name": "Text size (ZL8)",
                    "summary": "A multiplication factor for the text size of administrative labels at ZL8, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-admin-factor-s"
                  }
                ]
              },
              {
                "name": "Address Points",
                "icon": "places-icon",
                "visibility-var": "places-address_points-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any address point will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 18,
                    "default": 18,
                    "step": 1,
                    "var": "places-zoom-address_points-min"
                  },
                  {
                    "name": "Text size",
                    "summary": "A multiplication factor for the text size of address points, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-address_points-factor"
                  },
                  {
                    "name": "Text size (ZL18)",
                    "summary": "A multiplication factor for the text size of address points at ZL18, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-address_points-factor-l"
                  },
                  {
                    "name": "Text size (ZL20)",
                    "summary": "A multiplication factor for the text size of address points at ZL20, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "places-size-address_points-factor-xl"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "borders",
            "name": "Borders",
            "icon": "borders-icon",
            "visibility-var": "borders-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Country border",
                    "summary": "Base color for country borders. By default it is derived from the Land foundation color and influenced by Label",
                    "type": "color",
                    "var": "border-country-color"
                  },
                  {
                    "name": "State border",
                    "summary": "Base color for state borders. By default it is derived from the Land foundation color and influenced by Label",
                    "type": "color",
                    "var": "border-state-color-m"
                  },
                  {
                    "name": "Treaty border",
                    "summary": "Base color for treaty borders. By default it is derived from an hardcoded color and influenced by country borders",
                    "type": "color",
                    "var": "border-treaty-color"
                  },
                  {
                    "name": "Disputed border",
                    "summary": "Base color for disputed borders. By default it is derived from an hardcoded color and influenced by country borders",
                    "type": "color",
                    "var": "border-disputed-color"
                  },
                  {
                    "name": "Maritime border",
                    "summary": "Base color for maritime borders. By default it is derived from the Water foundation color and influenced by country borders",
                    "type": "color",
                    "var": "border-maritime-color"
                  },
                  {
                    "name": "Border outline",
                    "summary": "Base color for country borders. By default it corresponds to the Label Outline foundation color",
                    "type": "color",
                    "var": "border-background-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Line width",
                    "summary": "A multiplication factor for the width of all lines in this module, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "borders-width-factor"
                  },
                  {
                    "name": "Text size",
                    "summary": "A multiplication factor for the size of all text labels in this module, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "borders-size-factor"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "roads",
            "name": "Roads",
            "icon": "roads-icon",
            "visibility-var": "roads-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Road label",
                    "summary": "Base color for road name labels, including text in route shields. By default it is derived from the Label foundation color and influenced by road colors.",
                    "type": "color",
                    "var": "road-text-color"
                  },
                  {
                    "name": "Road label outline",
                    "summary": "Base color for road name label outlines. By default it is derived from the Label Outline foundation color with additional transparency.",
                    "type": "color",
                    "var": "road-halo-color"
                  },
                  {
                    "name": "Motorway",
                    "summary": "Base color for motorways. By default it corresponds to the Major Road foundation color.",
                    "type": "color",
                    "var": "road-motorway-color"
                  },
                  {
                    "name": "Trunk",
                    "summary": "Base color for trunk roads. By default it is derived from the Major Road foundation color and influenced by the Road color.",
                    "type": "color",
                    "var": "road-trunk-color"
                  },
                  {
                    "name": "Primary road",
                    "summary": "Base color for primary roads. By default it is derived from the Major Road foundation color and influenced by the Road color.",
                    "type": "color",
                    "var": "road-primary-color"
                  },
                  {
                    "name": "Secondary road",
                    "summary": "Base color for secondary roads. By default it corresponds to the Road foundation color.",
                    "type": "color",
                    "var": "road-secondary-color"
                  },
                  {
                    "name": "Tertiary road",
                    "summary": "Base color for tertiary roads. By default it corresponds to the Road foundation color.",
                    "type": "color",
                    "var": "road-tertiary-color"
                  },
                  {
                    "name": "Residential road",
                    "summary": "Base color for residential and local roads. By default it is derived from the Road foundation color.",
                    "type": "color",
                    "var": "road-street-color"
                  },
                  {
                    "name": "Minor road",
                    "summary": "Base color for minor and service roads. By default it is derived from the Road foundation color.",
                    "type": "color",
                    "var": "road-minor-color"
                  },
                  {
                    "name": "Pedestrian road",
                    "summary": "Base color for pedestrian roads. By default it is derived from the Road foundation color and influenced by the Road Outline color.",
                    "type": "color",
                    "var": "road-pedestrian-color"
                  },
                  {
                    "name": "Restricted road",
                    "summary": "Base color for restricted roads, including bus/tram ways and private roads. By default it is derived from the pedestrian road color.",
                    "type": "color",
                    "var": "road-restricted-color"
                  },
                  {
                    "name": "Pedestrian area",
                    "summary": "Base color for pedestrian areas. By default it is derived from the Land foundation color and influenced by the Road Outline color.",
                    "type": "color",
                    "var": "road-pedestrian-fill-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any feature in this module will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 8,
                    "min": 5,
                    "default": 5,
                    "step": 1,
                    "var": "roads-zoom-min"
                  },
                  {
                    "name": "Zoom level shift",
                    "summary": "A shift in appearance of road features of one or more zoom levels earlier or later, compared to default values. This can help reduce or increase density of features at certain scales.",
                    "type": "slider",
                    "max": 2,
                    "min": -2,
                    "default": 0,
                    "step": 1,
                    "var": "roads-zoom-offset"
                  },
                  {
                    "name": "Use driving style assets",
                    "summary": "Use assets tailored to driving style roads for features such as exit shields and turning features.",
                    "type": "checkbox",
                    "default": false,
                    "var": "roads-driving-flag"
                  },
                  {
                    "name": "Fade roads at high zoom levels",
                    "summary": "Progressively fade road lines and outlines at higher zoom levels. This can help visualize satellite-based styles correctly.",
                    "type": "checkbox",
                    "default": true,
                    "var": "roads-module-opacity"
                  },
                  {
                    "name": "Symbol size",
                    "summary": "A multiplication factor for the size of all symbols (text and icon) in this module, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-factor"
                  }
                ]
              },
              {
                "name": "Exit Numbers",
                "icon": "typography-icon",
                "visibility-var": "roads-exit_numbers-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any exit number will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 12,
                    "default": 15,
                    "step": 1,
                    "var": "roads-zoom-exit_numbers-min"
                  },
                  {
                    "name": "Symbol size",
                    "summary": "A multiplication factor for the size of exit numbers shields (text and icon), compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-exit_numbers-factor"
                  },
                  {
                    "name": "Symbol size (ZL15)",
                    "summary": "A multiplication factor for the size of exit numbers shields at ZL15, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-exit_numbers-factor-m"
                  },
                  {
                    "name": "Symbol size (ZL17)",
                    "summary": "A multiplication factor for the size of exit numbers shields at ZL17, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-exit_numbers-factor-l"
                  }
                ]
              },
              {
                "name": "Route Shields",
                "icon": "typography-icon",
                "visibility-var": "roads-shields-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any route shield will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 5,
                    "default": 10,
                    "step": 1,
                    "var": "roads-zoom-shields-min"
                  },
                  {
                    "name": "Symbol size",
                    "summary": "A multiplication factor for the size of route shields (text and icon), compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-shields-factor"
                  },
                  {
                    "name": "Symbol size (ZL10)",
                    "summary": "A multiplication factor for the size of route shields at ZL10, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-shields-factor-s"
                  },
                  {
                    "name": "Symbol size (ZL12)",
                    "summary": "A multiplication factor for the size of route shields at ZL12, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-shields-factor-m"
                  }
                ]
              },
              {
                "name": "Road Labels",
                "icon": "typography-icon",
                "visibility-var": "roads-labels-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any road label will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 5,
                    "default": 10,
                    "step": 1,
                    "var": "roads-zoom-labels-min"
                  },
                  {
                    "name": "Text size",
                    "summary": "A multiplication factor for the text size of road labels, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-labels-factor"
                  },
                  {
                    "name": "Text size (ZL10)",
                    "summary": "A multiplication factor for the text size of road labels at ZL10, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-labels-factor-m"
                  },
                  {
                    "name": "Text size (ZL18)",
                    "summary": "A multiplication factor for the text size of road labels at ZL18, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-size-labels-factor-l"
                  }
                ]
              },
              {
                "name": "Road Arrows",
                "icon": "roads-icon",
                "visibility-var": "roads-arrows-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any road arrow will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 12,
                    "default": 15,
                    "step": 1,
                    "var": "roads-zoom-arrows-min"
                  }
                ]
              },
              {
                "name": "Turning Feature",
                "icon": "roads-icon",
                "visibility-var": "roads-turning_feature-visible",
                "parameters": []
              },
              {
                "name": "Restricted Roads",
                "icon": "roads-icon",
                "visibility-var": "roads-restricted-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any restricted road symbology will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 12,
                    "default": 15,
                    "step": 1,
                    "var": "roads-zoom-restricted-min"
                  },
                  {
                    "name": "Restricted road dash width",
                    "summary": "A multiplication factor for the width of restricted roads dashed lines, compared to the default values. Note that it won't be affected by other width factors.",
                    "type": "slider",
                    "max": 1,
                    "min": 0.1,
                    "default": 0.5,
                    "step": 0.1,
                    "var": "roads-width-factor-restricted"
                  }
                ]
              },
              {
                "name": "Roads Under Construction",
                "icon": "roads-icon",
                "visibility-var": "roads-construction-visible",
                "parameters": []
              },
              {
                "name": "Roads",
                "icon": "roads-icon",
                "visibility-var": "roads-inline-visible",
                "parameters": [
                  {
                    "name": "Road width",
                    "summary": "A multiplication factor for the width of all road lines, compared to the default values. Note that it will be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor"
                  },
                  {
                    "name": "Road width change rate",
                    "summary": "A factor to control the rate of change for road widths between zoom levels. 1 is linear, 2 is exponential (delayed increase).",
                    "type": "slider",
                    "max": 2,
                    "min": 1,
                    "default": 1.3,
                    "step": 0.1,
                    "var": "roads-width-exponential-base"
                  },
                  {
                    "name": "Road inline width (ZL5)",
                    "summary": "A multiplication factor for the width of road lines at ZL5, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-xs"
                  },
                  {
                    "name": "Road width (ZL9)",
                    "summary": "A multiplication factor for the width of road lines at ZL9, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-s"
                  },
                  {
                    "name": "Road width (ZL13)",
                    "summary": "A multiplication factor for the width of road lines at ZL13, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-m"
                  },
                  {
                    "name": "Road width (ZL19)",
                    "summary": "A multiplication factor for the width of road lines at ZL19, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-l"
                  },
                  {
                    "name": "Major roads width",
                    "summary": "A multiplication factor for the width of major road lines at all zoom levels, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-major"
                  },
                  {
                    "name": "Secondary roads width",
                    "summary": "A multiplication factor for the width of secondary road lines at all zoom levels, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-secondary"
                  },
                  {
                    "name": "Local roads width",
                    "summary": "A multiplication factor for the width of local road lines at all zoom levels, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-local"
                  },
                  {
                    "name": "Minor roads width",
                    "summary": "A multiplication factor for the width of minor road lines at all zoom levels, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-minor"
                  },
                  {
                    "name": "Width difference between road classes (ZL5)",
                    "summary": "A pixel value for the difference in line width between road classes at ZL5, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 0.5,
                    "min": 0.1,
                    "default": 0.25,
                    "step": 0.05,
                    "var": "roads-width-offset-xs"
                  },
                  {
                    "name": "Width difference between road classes (ZL9)",
                    "summary": "A pixel value for the difference in line width between road classes at ZL9, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 0.5,
                    "min": 0.1,
                    "default": 0.25,
                    "step": 0.05,
                    "var": "roads-width-offset-s"
                  },
                  {
                    "name": "Width difference between road classes (ZL13)",
                    "summary": "A pixel value for the difference in line width between road classes at ZL13, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 1,
                    "min": 0.1,
                    "default": 0.5,
                    "step": 0.1,
                    "var": "roads-width-offset-m"
                  },
                  {
                    "name": "Width difference between road classes (ZL19)",
                    "summary": "A pixel value for the difference in line width between road classes at ZL19, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 6,
                    "min": 2,
                    "default": 4,
                    "step": 0.5,
                    "var": "roads-width-offset-l"
                  }
                ]
              },
              {
                "name": "Roads Outline",
                "icon": "roads-icon",
                "visibility-var": "roads-outline-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any road outline will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 12,
                    "min": 5,
                    "default": 5,
                    "step": 1,
                    "var": "roads-zoom-outline-min"
                  },
                  {
                    "name": "Road outline width",
                    "summary": "A multiplication factor for the width of all road outlines, compared to the default values. Note that it will not affect inline width.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-outline-factor"
                  },
                  {
                    "name": "Road outline width (ZL5)",
                    "summary": "A multiplication factor for the width of road outlines at ZL5, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-outline-factor-xs"
                  },
                  {
                    "name": "Road outline width (ZL9)",
                    "summary": "A multiplication factor for the width of road outlines at ZL9, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-outline-factor-s"
                  },
                  {
                    "name": "Road outline width (ZL13)",
                    "summary": "A multiplication factor for the width of road outlines at ZL13, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-outline-factor-m"
                  },
                  {
                    "name": "Road outline width (ZL19)",
                    "summary": "A multiplication factor for the width of road outlines at ZL19, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-outline-factor-l"
                  },
                  {
                    "name": "Major roads outline width",
                    "summary": "A multiplication factor for the width of major road outlines at all zoom levels, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-outline-factor-major"
                  },
                  {
                    "name": "Secondary roads outline width",
                    "summary": "A multiplication factor for the width of secondary road outlines at all zoom levels, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-secondary"
                  },
                  {
                    "name": "Local roads outline width",
                    "summary": "A multiplication factor for the width of local road outlines at all zoom levels, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-outline-factor-local"
                  },
                  {
                    "name": "Minor roads outline width",
                    "summary": "A multiplication factor for the width of minor road outlines at all zoom levels, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-factor-minor"
                  },
                  {
                    "name": "Outline width difference between road groups (ZL9)",
                    "summary": "A pixel value for the difference in outline width between road classes at ZL5, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 0.5,
                    "min": 0,
                    "default": 0.25,
                    "step": 0.05,
                    "var": "roads-width-offset-s"
                  },
                  {
                    "name": "Outline width difference between road groups (ZL13)",
                    "summary": "A pixel value for the difference in outline width between road classes at ZL13, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 0.75,
                    "min": 0,
                    "default": 0.375,
                    "step": 0.125,
                    "var": "roads-width-outline-offset-m"
                  },
                  {
                    "name": "Outline width difference between road groups (ZL19)",
                    "summary": "A pixel value for the difference in outline width between road classes at ZL19, compared to the default values. This can help reduce or increase differentation of features.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 0.5,
                    "step": 0.1,
                    "var": "roads-width-outline-offset-l"
                  }
                ]
              },
              {
                "name": "Tarmac Outline",
                "icon": "roads-icon",
                "visibility-var": "roads-tarmac-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any tarmac outline will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 12,
                    "default": 13,
                    "step": 1,
                    "var": "roads-zoom-tarmac-min"
                  },
                  {
                    "name": "Tarmac outline width",
                    "summary": "A multiplication factor for the width of all tarmac outlines, compared to the default values. Note that it will not be combined with other width factors.",
                    "type": "slider",
                    "max": 2,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "roads-width-tarmac-factor"
                  },
                  {
                    "name": "Tarmac outline change rate",
                    "summary": "A factor to control the rate of change for tarmac outline widths between zoom levels. 1 is linear, 2 is exponential (delayed increase).",
                    "type": "slider",
                    "max": 2,
                    "min": 1,
                    "default": 1.2,
                    "step": 0.1,
                    "var": "roads-width-tarmac-exponential-base"
                  }
                ]
              },
              {
                "name": "Roads Areas",
                "icon": "roads-icon",
                "visibility-var": "roads-areas-visible",
                "parameters": []
              }
            ]
          },
          {
            "module-id": "paths",
            "name": "Paths",
            "icon": "paths-icon",
            "visibility-var": "paths-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Path",
                    "summary": "Base color for paths. By default it is derived from the Road foundation color and influenced by Road Outline.",
                    "type": "color",
                    "var": "paths-path-color"
                  },
                  {
                    "name": "Track",
                    "summary": "Base color for tracks. By default it is derived from the Road foundation color and influenced by Road Outline.",
                    "type": "color",
                    "var": "paths-track-color"
                  },
                  {
                    "name": "Paths label",
                    "summary": "Base color for track and path name labels, including text in route shields. By default it is derived from the Label foundation color and influenced by path and track colors.",
                    "type": "color",
                    "var": "paths-text-color"
                  },
                  {
                    "name": "Paths label outline",
                    "summary": "Base color for track and path name label outlines. By default it is derived from the Label Outline foundation color with additional transparency.",
                    "type": "color",
                    "var": "paths-halo-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any feature in this module will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 12,
                    "default": 13,
                    "step": 1,
                    "var": "paths-zoom-min"
                  },
                  {
                    "name": "Zoom level shift",
                    "summary": "A shift in appearance of road features of one or more zoom levels earlier or later, compared to default values. This can help reduce or increase density of features at certain scales.",
                    "type": "slider",
                    "max": 2,
                    "min": -2,
                    "default": 0,
                    "step": 1,
                    "var": "paths-zoom-offset"
                  },
                  {
                    "name": "Line width",
                    "summary": "A multiplication factor for the width of all lines in this module, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "paths-width-factor"
                  }
                ]
              },
              {
                "name": "Labels",
                "icon": "typography-icon",
                "visibility-var": "paths-labels-visible",
                "parameters": [
                  {
                    "name": "Text size",
                    "summary": "A multiplication factor for the size of all text labels in this module, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "paths-size-factor"
                  }
                ]
              },
              {
                "name": "Tracks",
                "icon": "paths-icon",
                "visibility-var": "paths-tracks-visible",
                "parameters": [
                  {
                    "name": "Track width",
                    "summary": "A multiplication factor for the width of all track lines, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "paths-width-tracks-factor"
                  }
                ]
              },
              {
                "name": "Paths",
                "icon": "paths-icon",
                "visibility-var": "paths-paths-visible",
                "parameters": [
                  {
                    "name": "Path width",
                    "summary": "A multiplication factor for the width of all path lines, compared to the default values. Note that it can be combined with other width factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "paths-width-paths-factor"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "transit",
            "name": "Transit",
            "icon": "transit-icon",
            "visibility-var": "transit-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Ferries",
                    "summary": "Base color for ferry lines and labels. By default it is derived from the Water foundation color and influenced by Artificial.",
                    "type": "color",
                    "var": "transit-ferry-color"
                  },
                  {
                    "name": "Inherit colors from Transport POI group",
                    "summary": "Generate colors for transport features from the corresponding POI group assets. With the option off, features are only derived from the Artificial foundation color",
                    "type": "checkbox",
                    "default": true,
                    "var": "transit-inherit-poi-colors"
                  },
                  {
                    "name": "Railways",
                    "summary": "Base color for all railways, including tram and subway lines. By default it is derived from the Artificial foundation color.",
                    "type": "color",
                    "var": "transit-rail-color"
                  },
                  {
                    "name": "Aeroways",
                    "summary": "Base color for runways and other aeroway features. By default it is derived from the Artificial foundation color.",
                    "type": "color",
                    "var": "transit-runway-color"
                  },
                  {
                    "name": "Platforms",
                    "summary": "Base color for public transit platforms. By default it is derived from the Artificial foundation color.",
                    "type": "color",
                    "var": "transit-platform-color"
                  },
                  {
                    "name": "Aerialways",
                    "summary": "Base color for cableway lines and other aerial transit features. By default it is derived from the Artificial foundation color.",
                    "type": "color",
                    "var": "transit-aerialway-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any feature in this module will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 8,
                    "default": 8,
                    "step": 1,
                    "var": "transit-zoom-min"
                  },
                  {
                    "name": "Text size",
                    "summary": "A multiplication factor for the size of all text labels in this module, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "transit-size-factor"
                  }
                ]
              },
              {
                "name": "Aerialways",
                "icon": "transit-icon",
                "visibility-var": "transit-aerialways-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which aerialways will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 14,
                    "default": 14,
                    "step": 1,
                    "var": "transit-zoom-aerialways-min"
                  }
                ]
              },
              {
                "name": "Platforms",
                "icon": "transit-icon",
                "visibility-var": "transit-platforms-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which aerialways will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 14,
                    "default": 14,
                    "step": 1,
                    "var": "transit-zoom-aerialways-min"
                  }
                ]
              },
              {
                "name": "Aeroways",
                "icon": "transit-icon",
                "visibility-var": "transit-aeroways-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which aeroways will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 10,
                    "default": 10,
                    "step": 1,
                    "var": "transit-zoom-aeroways-min"
                  }
                ]
              },
              {
                "name": "Railways",
                "icon": "transit-icon",
                "visibility-var": "transit-railways-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which railways will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 12,
                    "default": 12,
                    "step": 1,
                    "var": "transit-zoom-railways-min"
                  },
                  {
                    "name": "Tunnel maximum zoom level",
                    "summary": "The maximum zoom level at which railway tunnels and subway lines will be visualized. Note that certain features can still disappear earlier.",
                    "type": "slider",
                    "max": 22,
                    "min": 12,
                    "default": 15,
                    "step": 1,
                    "var": "transit-zoom-railways-tunnel-max"
                  }
                ]
              },
              {
                "name": "Ferries",
                "icon": "transit-icon",
                "visibility-var": "transit-ferries-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which ferries will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 8,
                    "default": 8,
                    "step": 1,
                    "var": "transit-zoom-ferries-min"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "buildings",
            "name": "Buildings",
            "icon": "buildings-icon",
            "visibility-var": "buildings-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Building extrusion",
                    "summary": "Base color for building extrusions. By default it is derived from the Artificial foundation color.",
                    "type": "color",
                    "var": "bld-generic-extrusion-color"
                  },
                  {
                    "name": "Building footprint",
                    "summary": "Base color for building footprints. By default it is derived from the Artificial foundation color.",
                    "type": "color",
                    "var": "bld-generic-color"
                  },
                  {
                    "name": "Building outline",
                    "summary": "Base color for building outlines. By default it is derived from the Building footprint color.",
                    "type": "color",
                    "var": "bld-generic-outline-color"
                  },
                  {
                    "name": "Building shadow",
                    "summary": "Base color for building shadows. By default it is derived from the Building footprint color.",
                    "type": "color",
                    "var": "bld-generic-shadow-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any feature in this module will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 15,
                    "default": 15,
                    "step": 1,
                    "var": "buildings-zoom-min"
                  }
                ]
              },
              {
                "name": "3D Extrusions",
                "icon": "buildings-icon",
                "visibility-var": "buildings-extrusions-visible",
                "parameters": [
                  {
                    "name": "Extrusion opacity",
                    "summary": "The transparency value of extruded buildings. 1 is fully opaque, 0.5 is half transparent.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 0.7,
                    "step": 0.1,
                    "var": "buildings-extrusions-opacity"
                  }
                ]
              },
              {
                "name": "2D Footprints",
                "icon": "buildings-icon",
                "visibility-var": "buildings-footprints-visible",
                "parameters": [
                  {
                    "name": "Underground footprints",
                    "summary": "Visualize underground buildings with half-transparent footprint",
                    "type": "checkbox",
                    "default": true,
                    "var": "buildings-footprints-underground-visible"
                  },
                  {
                    "name": "Building faux shadow",
                    "summary": "Visualize faux 2d shadow along building footprints",
                    "type": "checkbox",
                    "default": true,
                    "var": "buildings-footprints-shadow-visible"
                  },
                  {
                    "name": "Building outline",
                    "summary": "Visualize perimeter outline along building footprints",
                    "type": "checkbox",
                    "default": true,
                    "var": "buildings-footprints-outline-visible"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "water",
            "name": "Water",
            "icon": "water-icon",
            "visibility-var": "water-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Water label",
                    "summary": "Base color for water labels. By default it is derived from the Water foundation color and not influenced by Label color",
                    "type": "color",
                    "var": "water-text-color"
                  },
                  {
                    "name": "Water label outline",
                    "summary": "Base color for water label outlines. By default it is derived from the Water foundation color and not influenced by Label outline color",
                    "type": "color",
                    "var": "water-halo-color"
                  },
                  {
                    "name": "Waterbody",
                    "summary": "Base color for waterbodies, including oceans and seas. By default it matches the Water foundation color.",
                    "type": "color",
                    "var": "waterbody-color"
                  },
                  {
                    "name": "Waterway",
                    "summary": "Base color for waterways, including artificial canals. By default it matches the Water foundation color.",
                    "type": "color",
                    "var": "waterway-color"
                  },
                  {
                    "name": "Ice",
                    "summary": "Base color for glaciers and permament snow-covered areas. By default it is derived from the Water foundation color.",
                    "type": "color",
                    "var": "ice-color"
                  }
                ]
              },
              {
                "name": "Labels",
                "icon": "typography-icon",
                "visibility-var": "water-labels-visible",
                "parameters": [
                  {
                    "name": "Text size",
                    "summary": "A multiplication factor for the text size of all water labels, compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "water-size-factor"
                  },
                  {
                    "name": "Waterway minimum zoom level",
                    "summary": "The minimum zoom level at which any waterway label be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 8,
                    "default": 13,
                    "step": 1,
                    "var": "water-zoom-waterways-labels-min"
                  }
                ]
              },
              {
                "name": "Waterbodies",
                "icon": "water-icon",
                "visibility-var": "water-waterbodies-visible",
                "parameters": [
                  {
                    "name": "Intermittent waterbodies",
                    "summary": "Visualize intermittent or seasonal waterbodies with semi-transparent area",
                    "type": "checkbox",
                    "default": true,
                    "var": "water-waterbodies-intermittent-visible"
                  },
                  {
                    "name": "Intermittent minimum zoom level",
                    "summary": "The minimum zoom level at which any intermittent waterbody be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 9,
                    "default": 13,
                    "step": 1,
                    "var": "water-zoom-waterbodies-intermittent-min"
                  },
                  {
                    "name": "Waterbody faux shadow",
                    "summary": "Visualize faux 2d shadow along waterbodies to simulate depth.",
                    "type": "checkbox",
                    "default": true,
                    "var": "water-waterbodies-shadow-visible"
                  }
                ]
              },
              {
                "name": "Waterways",
                "icon": "water-icon",
                "visibility-var": "water-waterways-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any waterway will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 8,
                    "default": 8,
                    "step": 1,
                    "var": "water-zoom-waterways-min"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "terrain",
            "name": "Terrain",
            "icon": "terrain-icon",
            "visibility-var": "terrain-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Hillshade",
                    "summary": "Base color for shaded terrain. By default it matches the Land foundation color.",
                    "type": "color",
                    "var": "hillshade-color"
                  },
                  {
                    "name": "Hillshade shadow",
                    "summary": "Base color for hillshade shadow areas. By default it is derived from Hillshade color. Use alpha value to increase or decrease opacity.",
                    "type": "color",
                    "var": "hillshade-shadow-color"
                  },
                  {
                    "name": "Hillshade highlight",
                    "summary": "Base color for hillshade highlight areas. By default it is derived from Hillshade color. Use alpha value to increase or decrease opacity.",
                    "type": "color",
                    "var": "hillshade-highlight-color"
                  },
                  {
                    "name": "Hillshade accent",
                    "summary": "Base color for hillshade accent areas. By default it is derived from Hillshade color. Use alpha value to increase or decrease opacity.",
                    "type": "color",
                    "var": "hillshade-accent-color"
                  }
                ]
              },
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Maximum zoom level",
                    "summary": "The maximum zoom level at which the hillshade will be visualized. Note that the hillshade effect will be automatically faded up to this ZL.",
                    "type": "slider",
                    "max": 16,
                    "min": 10,
                    "default": 13,
                    "step": 1,
                    "var": "terrain-hillshade-zoom-max"
                  },
                  {
                    "name": "Hillshade exaggeration",
                    "summary": "The minimum zoom level at which satellite imagery will be visualized.",
                    "type": "slider",
                    "max": 2,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "terrain-hillshade-exaggeration-factor"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "imagery",
            "name": "Imagery",
            "icon": "imagery-icon",
            "visibility-var": "imagery-module-visible",
            "ui-groups": [
              {
                "name": "Module Properties",
                "icon": "properties-icon",
                "parameters": [
                  {
                    "name": "Maximum zoom level",
                    "summary": "The minimum zoom level at which satellite imagery will be visualized.",
                    "type": "slider",
                    "max": 22,
                    "min": 0,
                    "default": 22,
                    "step": 1,
                    "var": "imagery-satellite-zoom-max"
                  },
                  {
                    "name": "Opacity",
                    "summary": "The opacity of the satellite imagery layer. Note that this might not be supported in certain applications.",
                    "type": "slider",
                    "max": 1,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "imagery-satellite-opacity"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "landuse",
            "name": "Landuse",
            "icon": "landuse-icon",
            "visibility-var": "landuse-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Built-up area",
                    "summary": "Base color for built-up areas. By default it matches the Artificial foundation color.",
                    "type": "color",
                    "var": "bua-color"
                  },
                  {
                    "name": "Landuse ground",
                    "summary": "Base color for all landuse grounds, except protected areas and outdoor/sport ground. By default it is derived from the Artificial foundation color.",
                    "type": "color",
                    "var": "landuse-color"
                  },
                  {
                    "name": "Protected area",
                    "summary": "Base color for all protected areas, including national parks and natural reserves. By default it is derived from the Park & Recreation foundation color.",
                    "type": "color",
                    "var": "protected-color"
                  },
                  {
                    "name": "Park ground",
                    "summary": "Base color for all city parks and outdoor related facilities. By default it matches the Park & Recreation foundation color.",
                    "type": "color",
                    "var": "outdoor-color"
                  },
                  {
                    "name": "Sport ground",
                    "summary": "Base color for all sport grounds and facilities. By default it is derived the Park & Recreation foundation color.",
                    "type": "color",
                    "var": "sport-color"
                  },
                  {
                    "name": "Inherit colors from POI groups",
                    "summary": "Generate colors for landuse grounds from the corresponding POI group assets. With the option off, features are only derived from the Landuse ground color",
                    "type": "checkbox",
                    "default": true,
                    "var": "landuse-inherit-poi-colors"
                  },
                  {
                    "name": "Business ground",
                    "type": "color",
                    "var": "lu-business-color"
                  },
                  {
                    "name": "Education ground",
                    "type": "color",
                    "var": "lu-education-color"
                  },
                  {
                    "name": "Healthcare ground",
                    "type": "color",
                    "var": "lu-healthcare-color"
                  },
                  {
                    "name": "Leisure ground",
                    "type": "color",
                    "var": "lu-leisure-color"
                  },
                  {
                    "name": "Lodging ground",
                    "type": "color",
                    "var": "lu-lodging-color"
                  },
                  {
                    "name": "Religion ground",
                    "type": "color",
                    "var": "lu-religion-color"
                  },
                  {
                    "name": "Shopping ground",
                    "type": "color",
                    "var": "lu-shopping-color"
                  },
                  {
                    "name": "Transportation ground",
                    "type": "color",
                    "var": "lu-transport-color"
                  },
                  {
                    "name": "Airport ground",
                    "type": "color",
                    "var": "lu-airport-color"
                  },
                  {
                    "name": "Driving facility",
                    "type": "color",
                    "var": "lu-driving-color"
                  },
                  {
                    "name": "Parking facility",
                    "type": "color",
                    "var": "lu-parking-color"
                  }
                ]
              },
              {
                "name": "Protected Areas",
                "icon": "landuse-icon",
                "visibility-var": "landuse-overlays-visible",
                "parameters": [
                  {
                    "name": "Fill maximum zoom level",
                    "summary": "The maximum zoom level at which any protected areas will be visualized with a partially transparent polygon. Note that certain features can still fade out earlier.",
                    "type": "slider",
                    "max": 22,
                    "min": 11,
                    "default": 12,
                    "step": 1,
                    "var": "landuse-overlays-fill-zoom-max"
                  },
                  {
                    "name": "Outline minimum zoom level",
                    "summary": "The minimum zoom level at which any protected areas will be visualized with a partially transparent outline. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 4,
                    "default": 11,
                    "step": 1,
                    "var": "landuse-overlays-outline-zoom-min"
                  }
                ]
              },
              {
                "name": "Artificial Structures",
                "icon": "landuse-icon",
                "visibility-var": "landuse-structures-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any artificial structure will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 10,
                    "default": 10,
                    "step": 1,
                    "var": "landuse-structures-zoom-min"
                  }
                ]
              },
              {
                "name": "Landuse Facilities",
                "icon": "landuse-icon",
                "visibility-var": "landuse-facilities-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any landuse facility will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 12,
                    "default": 13,
                    "step": 1,
                    "var": "landuse-facilities-zoom-min"
                  }
                ]
              },
              {
                "name": "Landuse Grounds",
                "icon": "landuse-icon",
                "visibility-var": "landuse-grounds-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any landuse ground will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 8,
                    "default": 8,
                    "step": 1,
                    "var": "landuse-grounds-zoom-min"
                  }
                ]
              },
              {
                "name": "Built-up Areas",
                "icon": "landuse-icon",
                "visibility-var": "landuse-built_up_area-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any built-up area will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 6,
                    "default": 6,
                    "step": 1,
                    "var": "landuse-built_up_area-zoom-min"
                  }
                ]
              }
            ]
          },
          {
            "module-id": "land_nature",
            "name": "Land & Nature",
            "icon": "land_nature-icon",
            "visibility-var": "land_nature-module-visible",
            "ui-groups": [
              {
                "name": "Colors",
                "icon": "color-icon",
                "parameters": [
                  {
                    "name": "Woodland",
                    "summary": "Base color for forests and woodland areas. By default it corresponds to the Vegetation foundation color.",
                    "type": "color",
                    "var": "wood-color"
                  },
                  {
                    "name": "Grassland",
                    "summary": "Base color for gardens and grassland areas. By default it is derived by the Vegetation foundation color.",
                    "type": "color",
                    "var": "grass-color"
                  },
                  {
                    "name": "Cropland",
                    "summary": "Base color for agricultural and cropland areas. By default it is derived by the Vegetation foundation color.",
                    "type": "color",
                    "var": "agriculture-color"
                  },
                  {
                    "name": "Shrubland",
                    "summary": "Base color for heath and shrubland areas. By default it is derived by the Vegetation foundation color.",
                    "type": "color",
                    "var": "shrub-color"
                  },
                  {
                    "name": "Sand",
                    "summary": "Base color for beaches and sandy areas. By default it is derived by the Land foundation color.",
                    "type": "color",
                    "var": "sand-color"
                  },
                  {
                    "name": "Bareland",
                    "summary": "Base color for rocky and bareland areas. By default it is derived by the Land foundation color.",
                    "type": "color",
                    "var": "bareland-color"
                  },
                  {
                    "name": "Background",
                    "summary": "Base color for the background of the map. By default it matches the Land foundation color.",
                    "type": "color",
                    "var": "background-color"
                  }
                ]
              },
              {
                "name": "Labels",
                "icon": "typography-icon",
                "visibility-var": "land_nature-labels-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any natural label will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 0,
                    "default": 4,
                    "step": 1,
                    "var": "land_nature-labels-zoom-min"
                  },
                  {
                    "name": "Symbol size",
                    "summary": "A multiplication factor for the size of all natural symbols (text and icon), compared to the default values. Note that it can be combined with other size factors.",
                    "type": "slider",
                    "max": 1.5,
                    "min": 0.5,
                    "default": 1,
                    "step": 0.1,
                    "var": "land_nature-size-factor"
                  }
                ]
              },
              {
                "name": "Land Cover",
                "icon": "land_nature-icon",
                "visibility-var": "land_nature-land_cover-visible",
                "parameters": [
                  {
                    "name": "Minimum zoom level",
                    "summary": "The minimum zoom level at which any land cover area will be visualized. Note that certain features can still appear later.",
                    "type": "slider",
                    "max": 22,
                    "min": 10,
                    "default": 10,
                    "step": 1,
                    "var": "land_nature-land_cover-zoom-min"
                  }
                ]
              },
              {
                "name": "Earth Cover",
                "icon": "land_nature-icon",
                "visibility-var": "land_nature-earth_cover-visible",
                "parameters": [
                  {
                    "name": "Maximum zoom level",
                    "summary": "The maximum zoom level at which any earth cover area will be visualized. Note that certain features can still disappear earlier.",
                    "type": "slider",
                    "max": 22,
                    "min": 10,
                    "default": 22,
                    "step": 1,
                    "var": "land_nature-earth_cover-zoom-max"
                  },
                  {
                    "name": "Opacity factor",
                    "summary": "A multiplication factor for the additional opacity applied to earth cover layer. Note that it will also influence fading of all earth cover categories at large scale.",
                    "type": "slider",
                    "max": 2,
                    "min": 0,
                    "default": 1,
                    "step": 0.1,
                    "var": "land_nature-earth_cover-opacity-factor"
                  }
                ]
              },
              {
                "name": "Background",
                "icon": "land_nature-icon",
                "visibility-var": "land_nature-background-visible",
                "parameters": []
              }
            ]
          }
        ]
      },
      "schema:version": "2.0.0",
      "theme:version": "2.0.5-2",
      "theme:changelog": {
        "2.0.5-2": "## Version 2.0.5-2\n1. fixed expressions for certain color parameters\n2. fixed filter for browsing POI categories\n3. updated user-order to include PMD-specific layers",
        "2.0.5-1": "## Version 2.0.5-1\n1. updated hillshade and satellite tile sources to new Orbis endpoints\n2. fixed metadata properties and colors for anti-occlusion layers (PMD only)\n3. restored tooltips for all UI parameters, including Foundations"
      },
      "theme:flavor": "street-light",
      "theme:family": "orbis",
      "type": "style-theme"
    },
    "tomtom:version": "0.2.9-0"
  },
  "sources": {
    "vectorTiles": {
      "maxzoom": 22,
      "minzoom": 0,
      "tiles": [
        "https://a.api.tomtom.com/maps/orbis/map-display/tile/{z}/{x}/{y}.pbf?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://b.api.tomtom.com/maps/orbis/map-display/tile/{z}/{x}/{y}.pbf?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://c.api.tomtom.com/maps/orbis/map-display/tile/{z}/{x}/{y}.pbf?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://d.api.tomtom.com/maps/orbis/map-display/tile/{z}/{x}/{y}.pbf?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM"
      ],
      "type": "vector",
      "attribution": "<a href='https://www.openstreetmap.org/copyright'> OpenStreetMap</a> | <a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
    },
    "tomtom:placeholder": {
      "type": "geojson",
      "data": {"type": "FeatureCollection", "features": []}
    },
    "satellite": {
      "type": "raster",
      "tileSize": 256,
      "tiles": [
        "https://a.api.tomtom.com/maps/orbis/map-display/tile/satellite/{z}/{x}/{y}.jpg?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://b.api.tomtom.com/maps/orbis/map-display/tile/satellite/{z}/{x}/{y}.jpg?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://c.api.tomtom.com/maps/orbis/map-display/tile/satellite/{z}/{x}/{y}.jpg?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://d.api.tomtom.com/maps/orbis/map-display/tile/satellite/{z}/{x}/{y}.jpg?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM"
      ],
      "minzoom": 0,
      "maxzoom": 19,
      "attribution": "<a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
    },
    "hillshade": {
      "type": "raster-dem",
      "tileSize": 514,
      "tiles": [
        "https://a.api.tomtom.com/maps/orbis/map-display/tile/hillshade/{z}/{x}/{y}.png?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://b.api.tomtom.com/maps/orbis/map-display/tile/hillshade/{z}/{x}/{y}.png?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://c.api.tomtom.com/maps/orbis/map-display/tile/hillshade/{z}/{x}/{y}.png?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://d.api.tomtom.com/maps/orbis/map-display/tile/hillshade/{z}/{x}/{y}.png?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM"
      ],
      "minzoom": 0,
      "maxzoom": 13,
      "attribution": "<a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
    },
    "vectorTilesFlow": {
      "maxzoom": 22,
      "minzoom": 0,
      "tiles": [
        "https://a.api.tomtom.com/maps/orbis/traffic/tile/flow/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,relative_speed,left_hand_traffic,road_closure&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://b.api.tomtom.com/maps/orbis/traffic/tile/flow/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,relative_speed,left_hand_traffic,road_closure&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://c.api.tomtom.com/maps/orbis/traffic/tile/flow/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,relative_speed,left_hand_traffic,road_closure&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://d.api.tomtom.com/maps/orbis/traffic/tile/flow/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,relative_speed,left_hand_traffic,road_closure&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM"
      ],
      "type": "vector",
      "attribution": "<a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
    },
    "vectorTilesIncidents": {
      "maxzoom": 16,
      "minzoom": 0,
      "tiles": [
        "https://a.api.tomtom.com/maps/orbis/traffic/tile/incidents/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,icon_category,magnitude_of_delay,delay,left_hand_traffic,description&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://b.api.tomtom.com/maps/orbis/traffic/tile/incidents/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,icon_category,magnitude_of_delay,delay,left_hand_traffic,description&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://c.api.tomtom.com/maps/orbis/traffic/tile/incidents/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,icon_category,magnitude_of_delay,delay,left_hand_traffic,description&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
        "https://d.api.tomtom.com/maps/orbis/traffic/tile/incidents/{z}/{x}/{y}.pbf?apiVersion=1&tags=road_category,road_subcategory,icon_category,magnitude_of_delay,delay,left_hand_traffic,description&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM"
      ],
      "type": "vector",
      "attribution": "<a href='https://www.tomtom.com/thirdpartyproductterms'> TomTom</a>"
    }
  },
  "sprite": "https://api.tomtom.com/maps/orbis/assets/sprites/0.2.*/sprite?apiVersion=1&sourcesVersion=1&map=basic_street-light&trafficFlow=flow_relative-light&trafficIncidents=incidents_light&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
  "glyphs": "https://api.tomtom.com/maps/orbis/assets/fonts/0.2.*/{fontstack}/{range}.pbf?apiVersion=1&key=Q5qYfELfD7vxTAaOmnkjD7YxuxUYWslM",
  "layers": [
    {
      "id": "background",
      "type": "background",
      "metadata": {
        "group": "background",
        "background-pole-cap": true,
        "tomtom:material": "TomTom/Materials/BackgroundGridMaterial_Light"
      },
      "layout": {"visibility": "visible"},
      "paint": {
        "background-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6,
          "hsl(45, 35%, 92%)",
          13,
          "hsl(45, 20%, 94%)"
        ]
      }
    },
    {
      "id": "LULC - Built-up area",
      "type": "fill",
      "metadata": {
        "group": "area",
        "tomtom:material": "TomTom/Materials/SM Built-up Area"
      },
      "source": "vectorTiles",
      "source-layer": "built_up_areas",
      "minzoom": 6,
      "filter": ["all", ["==", "category", "built_up_area"]],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6,
          "hsl(210, 25%, 93%)",
          13,
          "hsl(210, 15%, 96%)"
        ]
      }
    },
    {
      "id": "LULC - Earth Cover",
      "type": "fill",
      "metadata": {"group": "area", "south-pole": true},
      "source": "vectorTiles",
      "source-layer": "earth_cover",
      "maxzoom": 22,
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-antialias": false,
        "fill-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6,
          [
            "match",
            ["get", "category"],
            "ice_and_snow",
            "hsl(198, 15%, 97%)",
            "woody",
            "hsl(115, 40%, 75%)",
            "herbaceous",
            "hsl(115, 40%, 80%)",
            "cropland",
            "hsl(85, 30%, 84%)",
            "sand",
            "hsl(45, 35%, 95%)",
            "hsla(0, 0%, 100%, 0)"
          ],
          13,
          [
            "match",
            ["get", "category"],
            "ice_and_snow",
            "hsla(198, 15%, 97%, 0)",
            "woody",
            "hsla(85, 20%, 87%, 0.7599999999999999)",
            "herbaceous",
            "hsla(85, 20%, 87%, 0.7599999999999999)",
            "cropland",
            "hsla(85, 20%, 87%, 0.7599999999999999)",
            "sand",
            "hsla(45, 26%, 95%, 0.7599999999999999)",
            "hsla(0, 0%, 100%, 0)"
          ]
        ]
      }
    },
    {
      "id": "LULC - Protected Areas",
      "type": "fill",
      "metadata": {"group": "area"},
      "source": "vectorTiles",
      "source-layer": "overlays",
      "maxzoom": 12,
      "filter": [
        "all",
        ["==", ["get", "group"], "protected"],
        ["<=", ["get", "protect_class"], 5]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": "hsl(115, 45%, 78%)",
        "fill-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          4,
          0,
          6,
          ["case", ["<=", ["get", "protect_class"], 2], 1, 0],
          8,
          ["case", ["<=", ["get", "protect_class"], 4], 0.7, 0],
          10,
          ["case", ["<=", ["get", "protect_class"], 4], 0.5, 0.3],
          12,
          0
        ]
      }
    },
    {
      "id": "LULC - Landuse",
      "type": "fill",
      "metadata": {"group": "area"},
      "source": "vectorTiles",
      "source-layer": "land_use",
      "minzoom": 8,
      "filter": [
        "all",
        ["match", ["get", "group"], ["parking", "driving"], false, true],
        [
          "match",
          ["get", "category"],
          ["construction", "facility", "pitch"],
          false,
          true
        ],
        ["!=", ["get", "underground"], true]
      ],
      "layout": {
        "visibility": "visible",
        "fill-sort-key": [
          "+",
          ["get", "display_class"],
          [
            "match",
            ["get", "group"],
            "sport",
            0.9,
            "outdoor",
            0.8,
            "shopping",
            0.7,
            "healthcare",
            0.6,
            "leisure",
            0.5,
            "transport",
            0.4,
            "lodging",
            0.3,
            "education",
            0.2,
            "business",
            0.1,
            "religion",
            0.09,
            0
          ]
        ]
      },
      "paint": {
        "fill-color": [
          "match",
          ["get", "group"],
          "artificial",
          "hsl(210, 15%, 96%)",
          "business",
          "hsl(236, 11%, 91%)",
          "shopping",
          "hsl(40, 78%, 90%)",
          "education",
          "hsl(34, 11%, 91%)",
          "transport",
          [
            "match",
            ["get", "category"],
            "airport",
            "hsl(207, 43%, 90%)",
            "hsl(207, 38%, 90%)"
          ],
          "healthcare",
          "hsl(5, 51%, 91%)",
          "lodging",
          "hsl(246, 24%, 91%)",
          "leisure",
          "hsl(323, 46%, 91%)",
          "religion",
          "hsl(326, 6%, 90%)",
          "outdoor",
          "hsl(115, 45%, 78%)",
          "sport",
          "hsl(115, 45%, 76%)",
          "hsla(0, 0%, 100%, 0)"
        ],
        "fill-opacity": ["interpolate", ["linear"], ["zoom"], 8, 0, 8.5, 1]
      }
    },
    {
      "id": "LULC - Landcover",
      "type": "fill",
      "metadata": {
        "group": "area",
        "tomtom:material": "TomTom/Materials/SM Vegetation"
      },
      "source": "vectorTiles",
      "source-layer": "land_cover",
      "minzoom": 10,
      "layout": {
        "visibility": "visible",
        "fill-sort-key": [
          "+",
          ["get", "display_class"],
          [
            "match",
            ["get", "category"],
            "woodland",
            0.5,
            "grassland",
            0.4,
            "shrubland",
            0.3,
            "agricultural",
            0.2,
            "sandy",
            0.1,
            0
          ]
        ]
      },
      "paint": {
        "fill-color": [
          "match",
          ["get", "category"],
          "woodland",
          "hsl(115, 92.2%, 11.2%)",
          "grassland",
          "hsl(115, 92.9%, 11.7%)",
          "shrubland",
          "hsl(85, 89.2%, 13.2%)",
          "agricultural",
          "hsl(85, 92.2%, 14.8%)",
          "sandy",
          "hsl(45, 90.7%, 12.3%)",
          "bareland",
          "hsl(45, 86.4%, 19.3%)",
          "hsla(0, 0%, 100%, 0)"
        ],
        "fill-outline-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          "hsla(0, 0%, 100%, 0)",
          16,
          [
            "match",
            ["get", "subcategory"],
            ["managed"],
            "hsl(115, 40%, 65%)",
            "hsla(0, 0%, 100%, 0)"
          ]
        ],
        "fill-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10,
          0,
          13,
          ["match", ["get", "subcategory"], "managed", 0, 1],
          16,
          1
        ],
        "fill-antialias": true
      }
    },
    {
      "id": "LULC - Outdoor & Sport",
      "type": "fill",
      "metadata": {"group": "area"},
      "source": "vectorTiles",
      "source-layer": "land_use",
      "minzoom": 13,
      "filter": [
        "all",
        ["match", ["get", "category"], ["facility", "pitch"], true, false],
        ["!=", ["get", "underground"], true]
      ],
      "layout": {
        "visibility": "visible",
        "fill-sort-key": [
          "+",
          ["get", "display_class"],
          ["match", ["get", "group"], "sport", 0.9, "outdoor", 0.8, 0]
        ]
      },
      "paint": {
        "fill-color": [
          "match",
          ["get", "category"],
          "pitch",
          "hsl(115, 50%, 74%)",
          "hsl(115, 50%, 76%)"
        ],
        "fill-outline-color": [
          "match",
          ["get", "category"],
          "pitch",
          "hsl(115, 38%, 94%)",
          "hsl(115, 38%, 56%)"
        ],
        "fill-antialias": true,
        "fill-opacity": ["interpolate", ["linear"], ["zoom"], 13, 0, 13.5, 1]
      }
    },
    {
      "id": "LULC - Parking & Driving",
      "type": "fill",
      "metadata": {"group": "area"},
      "source": "vectorTiles",
      "source-layer": "land_use",
      "minzoom": 13,
      "filter": [
        "all",
        ["match", ["get", "group"], ["parking", "driving"], true, false],
        ["!=", ["get", "underground"], true]
      ],
      "layout": {
        "visibility": "visible",
        "fill-sort-key": [
          "+",
          ["get", "display_class"],
          ["match", ["get", "group"], "parking", 0.9, "driving", 0.8, 0]
        ]
      },
      "paint": {
        "fill-color": [
          "match",
          ["get", "group"],
          "parking",
          "hsl(203, 30%, 90%)",
          "driving",
          "hsl(207, 29%, 88%)",
          "hsla(0, 0%, 100%, 0)"
        ],
        "fill-outline-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          13,
          [
            "match",
            ["get", "group"],
            "parking",
            "hsl(203, 30%, 90%)",
            "driving",
            "hsl(207, 29%, 88%)",
            "hsla(0, 0%, 100%, 0)"
          ],
          16,
          [
            "match",
            ["get", "group"],
            "parking",
            "hsl(203, 23%, 98%)",
            "driving",
            "hsl(207, 22%, 80%)",
            "hsla(0, 0%, 100%, 0)"
          ]
        ],
        "fill-antialias": true,
        "fill-opacity": ["interpolate", ["linear"], ["zoom"], 13, 0, 13.5, 1]
      }
    },
    {
      "id": "Satellite Imagery",
      "type": "raster",
      "metadata": {"group": "satellite"},
      "source": "satellite",
      "maxzoom": 22,
      "layout": {"visibility": "none"},
      "paint": {"raster-opacity": 1}
    },
    {
      "id": "Water - Line",
      "type": "line",
      "metadata": {"group": "water"},
      "source": "vectorTiles",
      "source-layer": "water_lines",
      "minzoom": 8,
      "filter": ["all"],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(198, 60%, 73%)",
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          11,
          0.6,
          15,
          1.2,
          18,
          ["match", ["get", "category"], ["river", "canal"], 6, 2]
        ],
        "line-opacity": [
          "case",
          ["==", ["has", "tunnel"], true],
          0.5,
          ["==", ["has", "intermittent"], true],
          0.5,
          1
        ]
      }
    },
    {
      "id": "Water - Shadow",
      "type": "fill",
      "metadata": {"group": "water"},
      "source": "vectorTiles",
      "source-layer": "water",
      "filter": ["!=", ["get", "intermittent"], true],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": [
          "match",
          ["get", "category"],
          "glacier",
          "hsl(198, 15%, 92%)",
          "hsl(198, 60%, 68%)"
        ],
        "fill-translate": [
          "interpolate",
          ["linear"],
          ["zoom"],
          9,
          ["literal", [0, 0]],
          13,
          ["literal", [-1, -1]],
          16,
          ["literal", [-2, -2]]
        ],
        "fill-translate-anchor": "viewport"
      }
    },
    {
      "id": "Water - Intermittent",
      "type": "fill",
      "metadata": {"group": "water"},
      "source": "vectorTiles",
      "source-layer": "water",
      "minzoom": 13,
      "filter": ["==", ["get", "intermittent"], true],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": "hsl(198, 60%, 81%)",
        "fill-opacity": ["interpolate", ["linear"], ["zoom"], 13, 0, 14, 1],
        "fill-translate-anchor": "viewport",
        "fill-outline-color": "hsl(198, 60%, 73%)"
      }
    },
    {
      "id": "Water - Fill",
      "type": "fill",
      "metadata": {
        "group": "water",
        "north-pole": true,
        "tomtom:material": "TomTom/Materials/Water_Sample_Material"
      },
      "source": "vectorTiles",
      "source-layer": "water",
      "filter": ["!=", ["get", "intermittent"], true],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          3,
          [
            "match",
            ["get", "category"],
            "glacier",
            "hsl(198, 15%, 97%)",
            "hsl(198, 55%, 73%)"
          ],
          6,
          [
            "match",
            ["get", "category"],
            "glacier",
            "hsl(198, 15%, 97%)",
            "hsl(198, 60%, 73%)"
          ]
        ]
      }
    },
    {
      "id": "Hillshade",
      "type": "hillshade",
      "metadata": {"group": "hillshade"},
      "source": "hillshade",
      "minzoom": 0,
      "maxzoom": 13,
      "layout": {"visibility": "visible"},
      "paint": {
        "hillshade-exaggeration": [
          "interpolate",
          ["linear"],
          ["zoom"],
          3,
          0.2,
          7,
          0.3,
          10,
          0.3,
          13,
          0
        ],
        "hillshade-illumination-anchor": "viewport",
        "hillshade-shadow-color": "hsla(45, 28.8%, 0%, 0.78)",
        "hillshade-highlight-color": "hsla(45, 28.8%, 49.2%, 0.98)",
        "hillshade-accent-color": "hsla(45, 19%, 44%, 0.43)"
      }
    },
    {
      "id": "Structure - Bridge & Pier shadow",
      "type": "fill",
      "metadata": {"group": "transit_area"},
      "source": "vectorTiles",
      "source-layer": "structures",
      "minzoom": 10,
      "filter": [
        "all",
        [
          "match",
          ["get", "category"],
          ["pier", "bridge", "water_barrier"],
          true,
          false
        ],
        [
          "any",
          ["<=", ["to-number", ["get", "z_level"]], 1],
          ["==", ["has", "z_level"], false]
        ]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6,
          "hsl(45, 35%, 92%)",
          13,
          "hsl(210, 15%, 96%)"
        ],
        "fill-translate": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          ["literal", [0, 0]],
          16,
          ["literal", [-1, -1]]
        ],
        "fill-translate-anchor": "viewport"
      }
    },
    {
      "id": "Structure - Bridge & Pier line",
      "type": "line",
      "metadata": {"group": "transit_area"},
      "source": "vectorTiles",
      "source-layer": "structures_lines",
      "minzoom": 10,
      "filter": [
        "all",
        ["match", ["get", "category"], ["pier", "water_barrier"], true, false]
      ],
      "layout": {"visibility": "visible", "line-cap": "square"},
      "paint": {
        "line-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6,
          "hsl(45, 35%, 92%)",
          13,
          "hsl(210, 15%, 96%)"
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.99],
          ["zoom"],
          16,
          1,
          20,
          40
        ],
        "line-opacity": 1
      }
    },
    {
      "id": "Structure - Bridge & Pier area",
      "type": "fill",
      "metadata": {"group": "transit_area"},
      "source": "vectorTiles",
      "source-layer": "structures",
      "minzoom": 10,
      "filter": [
        "any",
        [
          "match",
          ["get", "category"],
          ["pier", "bridge", "water_barrier"],
          true,
          false
        ],
        ["match", ["get", "subcategory"], ["breakwater"], true, false]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          6,
          "hsl(45, 35%, 92%)",
          13,
          "hsl(210, 15%, 96%)"
        ]
      }
    },
    {
      "id": "Transit - Aeroway line",
      "type": "line",
      "metadata": {"group": "transit_area"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 10,
      "filter": [
        "all",
        ["match", ["get", "category"], ["aeroway"], true, false]
      ],
      "layout": {
        "visibility": "visible",
        "line-sort-key": ["match", ["get", "subcategory"], "runway", 1, 0]
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "subcategory"],
          ["runway"],
          "hsl(207, 38%, 83%)",
          "hsl(207, 38%, 88%)"
        ],
        "line-width": [
          "interpolate",
          ["exponential", 2],
          ["zoom"],
          10,
          ["match", ["get", "subcategory"], ["runway"], 3, 1],
          16,
          ["match", ["get", "subcategory"], ["runway"], 48, 16],
          19,
          ["match", ["get", "subcategory"], ["runway"], 60, 20]
        ]
      }
    },
    {
      "id": "Transit - Aeroway area",
      "type": "fill",
      "metadata": {"group": "transit_area"},
      "source": "vectorTiles",
      "source-layer": "transit_areas",
      "minzoom": 10,
      "filter": [
        "all",
        ["match", ["get", "category"], ["aeroway"], true, false]
      ],
      "layout": {
        "visibility": "visible",
        "fill-sort-key": ["match", ["get", "subcategory"], "runway", 1, 0]
      },
      "paint": {
        "fill-color": [
          "match",
          ["get", "subcategory"],
          ["runway"],
          "hsl(207, 38%, 83%)",
          "hsl(207, 38%, 88%)"
        ]
      }
    },
    {
      "id": "Transit - Platform line",
      "type": "line",
      "metadata": {"group": "transit_area"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 14,
      "filter": [
        "all",
        ["match", ["get", "category"], ["platform"], true, false],
        ["match", ["get", "modality"], ["subway"], false, true],
        [
          "any",
          ["==", ["has", "z_level"], false],
          [">=", ["get", "z_level"], 0]
        ]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "line-color": "hsl(207, 29%, 88%)",
        "line-width": [
          "interpolate",
          ["exponential", 2],
          ["zoom"],
          14,
          0.75,
          16,
          3,
          19,
          24
        ]
      }
    },
    {
      "id": "Transit - Platform area",
      "type": "fill",
      "metadata": {"group": "transit_area"},
      "source": "vectorTiles",
      "source-layer": "transit_areas",
      "minzoom": 14,
      "filter": [
        "all",
        ["match", ["get", "category"], ["platform"], true, false],
        ["match", ["get", "modality"], ["subway"], false, true],
        [
          "any",
          ["==", ["has", "z_level"], false],
          [">=", ["get", "z_level"], 0]
        ]
      ],
      "layout": {"visibility": "visible"},
      "paint": {"fill-color": "hsl(207, 29%, 88%)"}
    },
    {
      "id": "Areas - Pedestrian shadow",
      "type": "fill",
      "metadata": {"group": "road_area"},
      "source": "vectorTiles",
      "source-layer": "roads_areas",
      "minzoom": 13,
      "filter": [
        "all",
        ["match", ["get", "category"], ["pedestrian", "path"], true, false],
        ["!=", ["get", "tunnel"], true],
        ["!=", ["get", "bridge"], true]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": "hsl(45, 20%, 82%)",
        "fill-translate-anchor": "viewport",
        "fill-translate": [
          "interpolate",
          ["linear"],
          ["zoom"],
          9,
          ["literal", [0, 0]],
          16,
          ["literal", [0.5, 0.5]],
          17,
          ["literal", [1, 1]]
        ]
      }
    },
    {
      "id": "Areas - Pedestrian",
      "type": "fill",
      "metadata": {"group": "road_area"},
      "source": "vectorTiles",
      "source-layer": "roads_areas",
      "minzoom": 13,
      "filter": [
        "all",
        ["match", ["get", "category"], ["pedestrian", "path"], true, false],
        ["!=", ["get", "tunnel"], true],
        ["!=", ["get", "bridge"], true]
      ],
      "layout": {"visibility": "visible"},
      "paint": {"fill-color": "hsl(45, 20%, 92%)"}
    },
    {
      "id": "Areas - Service road",
      "type": "fill",
      "metadata": {"group": "road_area"},
      "source": "vectorTiles",
      "source-layer": "roads_areas",
      "minzoom": 12,
      "filter": [
        "all",
        ["match", ["get", "category"], ["service"], true, false],
        ["!=", ["get", "tunnel"], true],
        ["!=", ["get", "bridge"], true]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-outline-color": "hsl(215, 15%, 64%)",
        "fill-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 92%)",
          "hsl(0, 0%, 99.2%)"
        ]
      }
    },
    {
      "id": "Buildings - Underground",
      "type": "fill",
      "metadata": {"group": "building"},
      "source": "vectorTiles",
      "source-layer": "buildings",
      "minzoom": 16,
      "filter": [
        "all",
        ["==", ["get", "underground"], true],
        ["!=", ["get", "part"], true]
      ],
      "layout": {"visibility": "visible"},
      "paint": {"fill-color": "hsla(210, 13%, 91%, 0.5)"}
    },
    {
      "id": "Buildings - Shadow",
      "type": "fill",
      "metadata": {"group": "building"},
      "source": "vectorTiles",
      "source-layer": "buildings",
      "minzoom": 15,
      "filter": [
        "all",
        ["!=", ["get", "underground"], true],
        ["!=", ["get", "part"], true]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-antialias": false,
        "fill-color": "hsl(210, 13%, 64%)",
        "fill-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 17, 0.7],
        "fill-translate": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          ["literal", [0, 0]],
          17,
          ["literal", [1.2, 1.2]]
        ],
        "fill-translate-anchor": "viewport"
      }
    },
    {
      "id": "Buildings - Fill",
      "type": "fill",
      "metadata": {"group": "building"},
      "source": "vectorTiles",
      "source-layer": "buildings",
      "minzoom": 15,
      "filter": [
        "all",
        ["!=", ["get", "underground"], true],
        ["!=", ["get", "part"], true]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "fill-color": "hsl(210, 13%, 89%)",
        "fill-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 16, 1]
      }
    },
    {
      "id": "Buildings - Outline",
      "type": "line",
      "metadata": {"group": "building"},
      "source": "vectorTiles",
      "source-layer": "buildings",
      "minzoom": 15,
      "filter": [
        "all",
        ["!=", ["get", "underground"], true],
        ["!=", ["get", "part"], true]
      ],
      "layout": {"visibility": "visible"},
      "paint": {
        "line-color": "hsl(210, 13%, 69%)",
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          0.5,
          17,
          0.75
        ],
        "line-width": ["interpolate", ["linear"], ["zoom"], 14, 0.3, 18, 0.5]
      }
    },
    {
      "id": "Tunnel - Subway",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 14,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "category"], "railway"],
        ["match", ["get", "subcategory"], ["subway"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 14%, 87%)",
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 13, 1, 15, 0],
        "line-width": ["interpolate", ["linear"], ["zoom"], 16, 0.25, 19, 1.5],
        "line-dasharray": [4, 4]
      }
    },
    {
      "id": "Tunnel - Railway fill",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 16,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "category"], "railway"],
        ["match", ["get", "subcategory"], ["main", "light"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 10%, 98%)",
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 16, 0, 16.25, 1],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          16,
          0,
          19,
          ["match", ["get", "subcategory"], ["main"], 8, 5]
        ]
      }
    },
    {
      "id": "Tunnel - Railway outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 12,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "category"], "railway"],
        ["match", ["get", "subcategory"], ["subway"], false, true],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 14%, 87%)",
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 13, 1, 15, 0],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          12,
          0,
          13,
          0.25,
          16,
          0.5,
          19,
          [
            "match",
            ["get", "subcategory"],
            ["main"],
            1.5,
            ["light"],
            1.25,
            ["subway"],
            1,
            ["tram"],
            1,
            1
          ]
        ]
      }
    },
    {
      "id": "Tunnel - Railway dash",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 14,
      "maxzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "category"], "railway"],
        ["match", ["get", "subcategory"], ["subway"], false, true],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 14%, 87%)",
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [0.15, 10]],
          19,
          ["literal", [0.15, 12]]
        ],
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          13,
          0,
          15,
          0.5,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          13,
          0,
          16,
          [
            "match",
            ["get", "subcategory"],
            ["main", "light"],
            3,
            ["tram"],
            2,
            1
          ],
          19,
          [
            "match",
            ["get", "subcategory"],
            ["main"],
            8,
            ["light"],
            6,
            ["tram"],
            4.5,
            4.5
          ]
        ]
      }
    },
    {
      "id": "Tunnel - Track",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 13,
      "filter": [
        "all",
        ["match", ["get", "category"], ["track"], true, false],
        ["==", ["get", "tunnel"], true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsla(0, 0%, 96%, 0.7)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          0.7,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          0,
          13,
          0.1,
          19,
          8
        ]
      }
    },
    {
      "id": "Tunnel - Path",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 14,
      "filter": [
        "all",
        ["match", ["get", "category"], ["track", "path"], true, false],
        ["==", ["get", "tunnel"], true],
        [
          "any",
          ["==", ["has", "z_level"], false],
          [">", ["get", "z_level"], -2]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsla(0, 0%, 86%, 0.7)",
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [0, 0.01]],
          16,
          ["literal", [0, 2]]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          0.7,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          ["match", ["get", "category"], ["path"], 0.1, 0],
          19,
          ["match", ["get", "category"], ["path"], 2, 2]
        ]
      }
    },
    {
      "id": "Tunnel - Tarmac outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 13,
      "filter": [
        "all",
        ["==", ["get", "tunnel"], true],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "access"], ["prohibited"], false, true]
      ],
      "layout": {
        "line-cap": "butt",
        "line-join": "round",
        "visibility": "none"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 95%)",
          [
            "match",
            ["get", "category"],
            ["motorway", "motorway_link"],
            "hsl(47, 80%, 84%)",
            ["trunk", "trunk_link"],
            "hsl(47, 74%, 88%)",
            ["primary", "primary_link"],
            "hsl(47, 67%, 92%)",
            ["secondary", "tertiary", "secondary_link", "tertiary_link"],
            "hsl(0, 0%, 96%)",
            ["street"],
            "hsl(0, 0%, 96%)",
            ["pedestrian"],
            "hsl(0, 0%, 95%)",
            ["bus"],
            "hsl(0, 0%, 95%)",
            "hsl(0, 0%, 96%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.2],
          ["zoom"],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "+",
            2.5,
            [
              "match",
              ["get", "category"],
              ["motorway"],
              47,
              ["trunk"],
              43,
              ["primary"],
              39,
              ["secondary"],
              34.5,
              ["tertiary"],
              30.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              26.5,
              ["street"],
              [
                "match",
                ["get", "subcategory"],
                ["residential", "unclassified"],
                22,
                18
              ],
              ["pedestrian"],
              9.5,
              ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
            ]
          ]
        ]
      }
    },
    {
      "id": "Tunnel - Road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        ["==", ["get", "tunnel"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["path", "track"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway", "motorway_link"],
          "hsl(47, 49%, 51%)",
          ["trunk", "trunk_link"],
          "hsl(47, 49%, 55%)",
          ["primary", "primary_link"],
          "hsl(47, 49%, 59%)",
          ["secondary", "tertiary", "secondary_link", "tertiary_link"],
          "hsl(215, 13%, 64%)",
          ["street"],
          "hsl(215, 13%, 68%)",
          "hsl(215, 13%, 68%)"
        ],
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [0.1, 0.1]],
          14,
          ["literal", [0.15, 0.15]]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            3.5,
            ["trunk"],
            3.25,
            ["primary"],
            3,
            ["secondary"],
            2.5,
            ["tertiary"],
            2.25,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1.25
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            47,
            ["trunk"],
            43,
            ["primary"],
            39,
            ["secondary"],
            34.5,
            ["tertiary"],
            30.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            26.5,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              22,
              18
            ],
            ["pedestrian"],
            9.5,
            ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
          ]
        ]
      }
    },
    {
      "id": "Tunnel - Road under construction",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        ["==", ["get", "tunnel"], true],
        ["==", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["path", "track"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": "hsl(0, 0%, 96%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-pattern": "under-construction",
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Tunnel - Road line",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        ["==", ["get", "tunnel"], true],
        ["!=", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["path", "track"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 95%)",
          [
            "match",
            ["get", "category"],
            ["motorway", "motorway_link"],
            "hsl(47, 80%, 84%)",
            ["trunk", "trunk_link"],
            "hsl(47, 74%, 88%)",
            ["primary", "primary_link"],
            "hsl(47, 67%, 92%)",
            ["secondary", "tertiary", "secondary_link", "tertiary_link"],
            "hsl(0, 0%, 96%)",
            ["street"],
            "hsl(0, 0%, 96%)",
            ["pedestrian"],
            "hsl(0, 0%, 95%)",
            ["bus"],
            "hsl(0, 0%, 95%)",
            "hsl(0, 0%, 96%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Tunnel - Restricted road dash",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        [
          "match",
          ["get", "access"],
          ["restricted", "conditional"],
          true,
          false
        ],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "tunnel"], true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 95%)",
        "line-dasharray": [2, 1.5],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          0,
          19,
          6
        ]
      }
    },
    {
      "id": "Tunnel - Road arrow",
      "type": "symbol",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        ["!=", ["get", "under_construction"], true],
        ["==", ["has", "direction"], true],
        ["==", ["get", "tunnel"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "match",
          ["get", "category"],
          ["path", "track", "pedestrian"],
          false,
          true
        ],
        [
          "any",
          ["match", ["get", "category"], ["service"], false, true],
          [">=", ["zoom"], 16]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "icon-image": [
          "match",
          ["get", "direction"],
          -1,
          "arrow",
          1,
          "arrow-revers",
          ""
        ],
        "icon-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary"],
            1,
            "tertiary",
            0.9,
            "street",
            0.7,
            "service",
            0.5,
            0.8
          ],
          18,
          1
        ],
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          100,
          17,
          250,
          22,
          500
        ]
      },
      "paint": {"icon-opacity": 0.6, "text-opacity": 1}
    },
    {
      "id": "Surface - Ferry",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 8,
      "filter": ["==", ["get", "category"], "ferry"],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "miter"
      },
      "paint": {
        "line-color": "hsl(198, 60%, 57%)",
        "line-dasharray": [2, 4],
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 8, 0, 9, 1],
        "line-width": ["interpolate", ["linear"], ["zoom"], 13, 0.5, 16, 1.5]
      }
    },
    {
      "id": "Surface - Track",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 13,
      "filter": [
        "all",
        ["match", ["get", "category"], ["track"], true, false],
        ["!=", ["get", "tunnel"], true],
        ["!=", ["get", "bridge"], true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 97%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          0,
          13,
          0.1,
          19,
          8
        ]
      }
    },
    {
      "id": "Surface - Path",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 14,
      "filter": [
        "all",
        ["match", ["get", "category"], ["track", "path"], true, false],
        ["!=", ["get", "tunnel"], true],
        ["!=", ["get", "bridge"], true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 75%)",
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [0, 0.01]],
          16,
          ["literal", [0, 2]]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          ["match", ["get", "category"], ["path"], 0.1, 0],
          19,
          ["match", ["get", "category"], ["path"], 2, 2]
        ]
      }
    },
    {
      "id": "Surface - Tarmac outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 13,
      "filter": [
        "all",
        ["!=", ["get", "tunnel"], true],
        ["!=", ["get", "bridge"], true],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "access"], ["prohibited"], false, true]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "visibility": "none"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 92%)",
          [
            "match",
            ["get", "category"],
            ["motorway", "motorway_link"],
            "hsl(47, 100%, 72%)",
            ["trunk", "trunk_link"],
            "hsl(47, 92%, 79%)",
            ["primary", "primary_link"],
            "hsl(47, 84%, 86%)",
            ["secondary", "tertiary", "secondary_link", "tertiary_link"],
            "hsl(0, 0%, 100%)",
            ["street"],
            "hsl(0, 0%, 100%)",
            "hsl(0, 0%, 99.2%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.2],
          ["zoom"],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "+",
            2.5,
            [
              "match",
              ["get", "category"],
              ["motorway"],
              47,
              ["trunk"],
              43,
              ["primary"],
              39,
              ["secondary"],
              34.5,
              ["tertiary"],
              30.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              26.5,
              ["street"],
              [
                "match",
                ["get", "subcategory"],
                ["residential", "unclassified"],
                22,
                18
              ],
              ["pedestrian"],
              9.5,
              ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
            ]
          ]
        ]
      }
    },
    {
      "id": "Surface - Minor road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        [
          "match",
          ["get", "category"],
          ["service", "pedestrian", "bus"],
          true,
          false
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          [
            "match",
            ["get", "category"],
            "service",
            "hsl(215, 15%, 88%)",
            "hsl(215, 15%, 64%)"
          ],
          15,
          [
            "match",
            ["get", "category"],
            "service",
            "hsl(215, 15%, 64%)",
            "hsl(215, 15%, 64%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          0,
          13,
          [
            "match",
            ["get", "category"],
            ["pedestrian"],
            0.375,
            ["match", ["get", "subcategory"], ["parking"], 0.375, 0.875]
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["pedestrian"],
            9.5,
            ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
          ]
        ]
      }
    },
    {
      "id": "Surface - Street outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 11,
      "filter": [
        "all",
        ["match", ["get", "category"], ["street"], true, false],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          10,
          "hsl(215, 15%, 80%)",
          15,
          "hsl(215, 15%, 64%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          11,
          0,
          12,
          ["to-number", "1"],
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          [
            "match",
            ["get", "subcategory"],
            ["residential", "unclassified"],
            1.5,
            1.25
          ],
          13,
          [
            "match",
            ["get", "subcategory"],
            ["residential", "unclassified"],
            2.25,
            1.75
          ],
          19,
          [
            "match",
            ["get", "subcategory"],
            ["residential", "unclassified"],
            22,
            18
          ]
        ]
      }
    },
    {
      "id": "Surface - Link road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 5,
      "filter": [
        "all",
        [
          "match",
          ["get", "category"],
          [
            "motorway_link",
            "trunk_link",
            "primary_link",
            "secondary_link",
            "tertiary_link"
          ],
          true,
          false
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway_link"],
          "hsl(47, 58%, 48%)",
          ["trunk_link"],
          "hsl(47, 58%, 52%)",
          ["primary_link"],
          "hsl(47, 58%, 56%)",
          "hsl(215, 15%, 60%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          0,
          9,
          2,
          13,
          3.125,
          19,
          26.5
        ]
      }
    },
    {
      "id": "Surface - Tertiary road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 10,
      "filter": [
        "all",
        ["match", ["get", "category"], ["tertiary"], true, false],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": "hsl(215, 15%, 60%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          2.25,
          13,
          3.625,
          19,
          30.5
        ]
      }
    },
    {
      "id": "Surface - Secondary road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 8,
      "filter": [
        "all",
        ["match", ["get", "category"], ["secondary"], true, false],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": "hsl(215, 15%, 60%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          0,
          9,
          2.5,
          13,
          4.125,
          19,
          34.5
        ]
      }
    },
    {
      "id": "Surface - Primary road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 5,
      "filter": [
        "all",
        ["match", ["get", "category"], ["primary"], true, false],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": "hsl(47, 58%, 56%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          0,
          9,
          3,
          13,
          5,
          19,
          39
        ]
      }
    },
    {
      "id": "Surface - Motorway & Trunk outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 5,
      "filter": [
        "all",
        ["match", ["get", "category"], ["motorway", "trunk"], true, false],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          "motorway",
          "hsl(47, 58%, 48%)",
          "trunk",
          "hsl(47, 58%, 52%)",
          "hsla(0, 0%, 100%, 0)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, 0.25],
          9,
          ["match", ["get", "category"], ["motorway"], 3.5, 3.25],
          13,
          ["match", ["get", "category"], ["motorway"], 6, 5.5],
          19,
          ["match", ["get", "category"], ["motorway"], 47, 43]
        ]
      }
    },
    {
      "id": "Surface - Turning Feature",
      "type": "symbol",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads_points",
      "layout": {
        "icon-image": "roads-turning_feature",
        "icon-size": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          0.25,
          19,
          1.75
        ],
        "icon-allow-overlap": true,
        "icon-ignore-placement": true,
        "icon-pitch-alignment": "map",
        "visibility": "visible"
      }
    },
    {
      "id": "Surface - Road under construction",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 5,
      "filter": [
        "all",
        ["==", ["get", "under_construction"], true],
        ["match", ["get", "category"], ["track", "path"], false, true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 13]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ],
        "visibility": "visible"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 96%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-pattern": "under-construction",
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Surface - Minor road",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        [
          "match",
          ["get", "category"],
          ["service", "pedestrian", "bus"],
          true,
          false
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ],
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          "pedestrian",
          "hsl(0, 0%, 92%)",
          "bus",
          "hsl(0, 0%, 92%)",
          [
            "match",
            ["get", "access"],
            "prohibited",
            "hsl(0, 0%, 92%)",
            "hsl(0, 0%, 99.2%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          0,
          13,
          0.5,
          19,
          [
            "match",
            ["get", "category"],
            "pedestrian",
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Surface - Street",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 11,
      "filter": [
        "all",
        ["match", ["get", "category"], ["street"], true, false],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["!=", ["get", "tunnel"], true],
        ["!=", ["get", "under_construction"], true]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ],
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          11,
          "hsl(0, 0%, 82%)",
          12,
          [
            "match",
            ["get", "access"],
            "prohibited",
            "hsl(0, 0%, 92%)",
            "hsl(0, 0%, 100%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          [
            "match",
            ["get", "subcategory"],
            ["residential", "unclassified"],
            1,
            0.75
          ],
          13,
          [
            "match",
            ["get", "subcategory"],
            ["residential", "unclassified"],
            1.5,
            1
          ],
          19,
          [
            "match",
            ["get", "subcategory"],
            ["residential", "unclassified"],
            20,
            16
          ]
        ]
      }
    },
    {
      "id": "Surface - Link road",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 5,
      "filter": [
        "all",
        [
          "match",
          ["get", "category"],
          [
            "motorway_link",
            "trunk_link",
            "primary_link",
            "secondary_link",
            "tertiary_link"
          ],
          true,
          false
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]],
        ["!=", ["get", "under_construction"], true]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ],
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 92%)",
          [
            "match",
            ["get", "category"],
            ["motorway", "motorway_link"],
            "hsl(47, 100%, 72%)",
            ["trunk", "trunk_link"],
            "hsl(47, 92%, 79%)",
            ["primary", "primary_link"],
            "hsl(47, 84%, 86%)",
            "hsl(0, 0%, 100%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          0,
          9,
          1.25,
          13,
          2,
          19,
          24
        ]
      }
    },
    {
      "id": "Surface - Tertiary road",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 10,
      "filter": [
        "all",
        ["match", ["get", "category"], ["tertiary"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ],
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 92%)",
          "hsl(0, 0%, 100%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          1.5,
          13,
          2.5,
          19,
          28
        ]
      }
    },
    {
      "id": "Surface - Secondary road",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 8,
      "filter": [
        "all",
        ["match", ["get", "category"], ["secondary"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ],
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 92%)",
          "hsl(0, 0%, 100%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          0,
          9,
          1.75,
          13,
          3,
          19,
          32
        ]
      }
    },
    {
      "id": "Surface - Major road small scale outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 5,
      "maxzoom": 12,
      "filter": [
        "all",
        [
          "match",
          ["get", "category"],
          ["motorway", "primary", "trunk"],
          true,
          false
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["!=", ["get", "tunnel"], true],
        ["!=", ["get", "under_construction"], true]
      ],
      "layout": {
        "line-cap": "butt",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway"],
          "hsl(47, 58%, 48%)",
          ["trunk"],
          "hsl(47, 58%, 52%)",
          ["primary"],
          "hsl(47, 58%, 56%)",
          ["secondary", "tertiary"],
          "hsl(215, 15%, 60%)",
          ["street"],
          "hsl(215, 15%, 64%)",
          "hsl(215, 15%, 64%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          11,
          1,
          12,
          0
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            3.5,
            ["trunk"],
            3.25,
            ["primary"],
            3,
            ["secondary"],
            2.5,
            ["tertiary"],
            2.25,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1.25
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ]
        ]
      }
    },
    {
      "id": "Surface - Primary road",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 5,
      "filter": [
        "all",
        ["match", ["get", "category"], ["primary"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ],
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          5,
          "hsl(47, 84%, 72%)",
          9,
          [
            "match",
            ["get", "access"],
            "prohibited",
            "hsl(0, 0%, 92%)",
            "hsl(47, 84%, 86%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          0,
          9,
          2,
          13,
          3.5,
          19,
          36
        ]
      }
    },
    {
      "id": "Surface - Motorway & Trunk",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 5,
      "filter": [
        "all",
        ["match", ["get", "category"], ["motorway", "trunk"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["any", ["!=", ["get", "bridge"], true], ["<", ["zoom"], 12]],
        ["any", ["!=", ["get", "tunnel"], true], ["<", ["zoom"], 12]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ],
        "visibility": "visible"
      },
      "paint": {
        "line-color": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          5,
          [
            "match",
            ["get", "category"],
            "motorway",
            "hsl(47, 100%, 58%)",
            "trunk",
            "hsl(47, 92%, 65%)",
            "hsla(0, 0%, 100%, 0)"
          ],
          9,
          [
            "match",
            ["get", "access"],
            "prohibited",
            "hsl(0, 0%, 92%)",
            [
              "match",
              ["get", "category"],
              "motorway",
              "hsl(47, 100%, 72%)",
              "trunk",
              "hsl(47, 92%, 79%)",
              "hsla(0, 0%, 100%, 0)"
            ]
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, 0.25],
          9,
          ["match", ["get", "category"], ["motorway"], 2.5, 2.25],
          13,
          ["match", ["get", "category"], ["motorway"], 4.5, 4],
          19,
          ["match", ["get", "category"], ["motorway"], 44, 40]
        ]
      }
    },
    {
      "id": "Surface - Restricted road dash",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        [
          "match",
          ["get", "access"],
          ["restricted", "conditional"],
          true,
          false
        ],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["!=", ["get", "under_construction"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-cap": "butt",
        "line-join": "round",
        "visibility": "visible"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 92%)",
        "line-dasharray": [2, 1.5],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          0,
          19,
          6
        ]
      }
    },
    {
      "id": "Surface - Road arrow",
      "type": "symbol",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        ["!=", ["get", "under_construction"], true],
        ["==", ["has", "direction"], true],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "match",
          ["get", "category"],
          ["path", "track", "pedestrian"],
          false,
          true
        ],
        [
          "any",
          ["match", ["get", "category"], ["service"], false, true],
          [">=", ["zoom"], 16]
        ]
      ],
      "layout": {
        "icon-image": [
          "match",
          ["get", "direction"],
          -1,
          "arrow",
          1,
          "arrow-revers",
          ""
        ],
        "icon-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary"],
            1,
            "tertiary",
            0.9,
            "street",
            0.7,
            "service",
            0.5,
            0.8
          ],
          18,
          1
        ],
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          100,
          17,
          250,
          22,
          500
        ],
        "visibility": "visible"
      },
      "paint": {"icon-opacity": 0.8, "text-opacity": 1}
    },
    {
      "id": "Surface - Railway fill",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 16,
      "filter": [
        "all",
        ["match", ["get", "category"], ["railway"], true, false],
        ["match", ["get", "subcategory"], ["main", "light"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(207, 13%, 96%)",
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 16, 0, 16.25, 1],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          16,
          0,
          19,
          ["match", ["get", "subcategory"], ["main"], 8, 5]
        ]
      }
    },
    {
      "id": "Surface - Railway outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 12,
      "filter": [
        "all",
        ["match", ["get", "category"], ["railway"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 19%, 74%)",
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          12,
          0,
          13,
          0.25,
          16,
          0.5,
          19,
          [
            "match",
            ["get", "subcategory"],
            ["main"],
            1.5,
            ["light"],
            1.25,
            ["subway"],
            1,
            ["tram"],
            1,
            1
          ]
        ]
      }
    },
    {
      "id": "Surface - Railway dash",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 14,
      "filter": [
        "all",
        ["match", ["get", "category"], ["railway"], true, false],
        ["match", ["get", "subcategory"], ["subway"], false, true],
        ["!=", ["get", "under_construction"], true],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 19%, 74%)",
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [0.15, 10]],
          19,
          ["literal", [0.15, 12]]
        ],
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          13,
          0,
          15,
          0.5,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          13,
          0,
          16,
          [
            "match",
            ["get", "subcategory"],
            ["main", "light"],
            3,
            ["tram"],
            2,
            1
          ],
          19,
          [
            "match",
            ["get", "subcategory"],
            ["main"],
            8,
            ["light"],
            6,
            ["tram"],
            4.5,
            4.5
          ]
        ]
      }
    },
    {
      "id": "Bridge - Track",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 13,
      "filter": [
        "all",
        ["match", ["get", "category"], ["track"], true, false],
        ["==", ["get", "bridge"], true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 97%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          9,
          0,
          13,
          0.1,
          19,
          8
        ]
      }
    },
    {
      "id": "Bridge - Path",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 14,
      "filter": [
        "all",
        ["match", ["get", "category"], ["track", "path"], true, false],
        ["==", ["get", "bridge"], true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 75%)",
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [0, 0.01]],
          16,
          ["literal", [0, 2]]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          ["match", ["get", "category"], ["path"], 0.1, 0],
          19,
          ["match", ["get", "category"], ["path"], 2, 2]
        ]
      }
    },
    {
      "id": "Bridge - Z1 Tarmac outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 13,
      "filter": [
        "all",
        [
          "all",
          ["==", ["get", "bridge"], true],
          [
            "any",
            ["==", ["get", "z_level"], 1],
            ["==", ["has", "z_level"], false]
          ]
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["match", ["get", "access"], ["prohibited"], false, true]
      ],
      "layout": {
        "line-cap": "butt",
        "line-join": "round",
        "visibility": "none"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway", "motorway_link"],
          "hsl(47, 100%, 72%)",
          ["trunk", "trunk_link"],
          "hsl(47, 92%, 79%)",
          ["primary", "primary_link"],
          "hsl(47, 84%, 86%)",
          ["secondary", "tertiary", "secondary_link", "tertiary_link"],
          "hsl(0, 0%, 100%)",
          ["street"],
          "hsl(0, 0%, 100%)",
          "hsl(0, 0%, 99.2%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.2],
          ["zoom"],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "+",
            2.5,
            [
              "match",
              ["get", "category"],
              ["motorway"],
              47,
              ["trunk"],
              43,
              ["primary"],
              39,
              ["secondary"],
              34.5,
              ["tertiary"],
              30.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              26.5,
              ["street"],
              [
                "match",
                ["get", "subcategory"],
                ["residential", "unclassified"],
                22,
                18
              ],
              ["pedestrian"],
              9.5,
              ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
            ]
          ]
        ]
      }
    },
    {
      "id": "Bridge - Z1 Road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        [
          "all",
          ["==", ["get", "bridge"], true],
          [
            "any",
            ["==", ["get", "z_level"], 1],
            ["==", ["has", "z_level"], false]
          ]
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway", "motorway_link"],
          "hsl(47, 58%, 45%)",
          ["trunk", "trunk_link"],
          "hsl(47, 58%, 49%)",
          ["primary", "primary_link"],
          "hsl(47, 58%, 53%)",
          ["secondary", "tertiary", "secondary_link", "tertiary_link"],
          "hsl(215, 15%, 56%)",
          ["street"],
          "hsl(215, 15%, 60%)",
          "hsl(215, 15%, 60%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            3.5,
            ["trunk"],
            3.25,
            ["primary"],
            3,
            ["secondary"],
            2.5,
            ["tertiary"],
            2.25,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1.25
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            47,
            ["trunk"],
            43,
            ["primary"],
            39,
            ["secondary"],
            34.5,
            ["tertiary"],
            30.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            26.5,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              22,
              18
            ],
            ["pedestrian"],
            9.5,
            ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
          ]
        ]
      }
    },
    {
      "id": "Bridge - Z1 Road under construction",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        ["==", ["get", "under_construction"], true],
        [
          "all",
          ["==", ["get", "bridge"], true],
          [
            "any",
            ["==", ["get", "z_level"], 1],
            ["==", ["has", "z_level"], false]
          ]
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": "hsl(0, 0%, 96%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-pattern": "under-construction",
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Bridge - Z1 Road line",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        [
          "all",
          ["==", ["get", "bridge"], true],
          [
            "any",
            ["==", ["get", "z_level"], 1],
            ["==", ["has", "z_level"], false]
          ]
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true],
        ["!=", ["get", "under_construction"], true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 92%)",
          [
            "match",
            ["get", "category"],
            ["motorway", "motorway_link"],
            "hsl(47, 100%, 72%)",
            ["trunk", "trunk_link"],
            "hsl(47, 92%, 79%)",
            ["primary", "primary_link"],
            "hsl(47, 84%, 86%)",
            ["secondary", "tertiary", "secondary_link", "tertiary_link"],
            "hsl(0, 0%, 100%)",
            ["street"],
            "hsl(0, 0%, 100%)",
            ["pedestrian"],
            "hsl(0, 0%, 92%)",
            ["bus"],
            "hsl(0, 0%, 92%)",
            "hsl(0, 0%, 99.2%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Bridge - Z1 Restricted road dash",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        [
          "match",
          ["get", "access"],
          ["restricted", "conditional"],
          true,
          false
        ],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["!=", ["get", "under_construction"], true],
        [
          "all",
          ["==", ["get", "bridge"], true],
          [
            "any",
            ["==", ["get", "z_level"], 1],
            ["==", ["has", "z_level"], false]
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 92%)",
        "line-dasharray": [2, 1.5],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          0,
          19,
          6
        ]
      }
    },
    {
      "id": "Bridge - Z2 Tarmac outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 13,
      "filter": [
        "all",
        ["==", ["get", "z_level"], 2],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "access"], ["prohibited"], false, true]
      ],
      "layout": {
        "line-cap": "butt",
        "line-join": "round",
        "visibility": "none"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway", "motorway_link"],
          "hsl(47, 100%, 72%)",
          ["trunk", "trunk_link"],
          "hsl(47, 92%, 79%)",
          ["primary", "primary_link"],
          "hsl(47, 84%, 86%)",
          ["secondary", "tertiary", "secondary_link", "tertiary_link"],
          "hsl(0, 0%, 100%)",
          ["street"],
          "hsl(0, 0%, 100%)",
          "hsl(0, 0%, 99.2%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.2],
          ["zoom"],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "+",
            2.5,
            [
              "match",
              ["get", "category"],
              ["motorway"],
              47,
              ["trunk"],
              43,
              ["primary"],
              39,
              ["secondary"],
              34.5,
              ["tertiary"],
              30.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              26.5,
              ["street"],
              [
                "match",
                ["get", "subcategory"],
                ["residential", "unclassified"],
                22,
                18
              ],
              ["pedestrian"],
              9.5,
              ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
            ]
          ]
        ]
      }
    },
    {
      "id": "Bridge  - Z2 Road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        ["==", ["get", "z_level"], 2],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway", "motorway_link"],
          "hsl(47, 58%, 45%)",
          ["trunk", "trunk_link"],
          "hsl(47, 58%, 49%)",
          ["primary", "primary_link"],
          "hsl(47, 58%, 53%)",
          ["secondary", "tertiary", "secondary_link", "tertiary_link"],
          "hsl(215, 15%, 56%)",
          ["street"],
          "hsl(215, 15%, 60%)",
          "hsl(215, 15%, 60%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            3.5,
            ["trunk"],
            3.25,
            ["primary"],
            3,
            ["secondary"],
            2.5,
            ["tertiary"],
            2.25,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1.25
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            47,
            ["trunk"],
            43,
            ["primary"],
            39,
            ["secondary"],
            34.5,
            ["tertiary"],
            30.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            26.5,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              22,
              18
            ],
            ["pedestrian"],
            9.5,
            ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
          ]
        ]
      }
    },
    {
      "id": "Bridge  - Z2 Road under construction",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        ["==", ["get", "z_level"], 2],
        ["==", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": "hsl(0, 0%, 96%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-pattern": "under-construction",
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Bridge  - Z2 Road line",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        ["==", ["get", "z_level"], 2],
        ["!=", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 92%)",
          [
            "match",
            ["get", "category"],
            ["motorway", "motorway_link"],
            "hsl(47, 100%, 72%)",
            ["trunk", "trunk_link"],
            "hsl(47, 92%, 79%)",
            ["primary", "primary_link"],
            "hsl(47, 84%, 86%)",
            ["secondary", "tertiary", "secondary_link", "tertiary_link"],
            "hsl(0, 0%, 100%)",
            ["street"],
            "hsl(0, 0%, 100%)",
            ["pedestrian"],
            "hsl(0, 0%, 92%)",
            ["bus"],
            "hsl(0, 0%, 92%)",
            "hsl(0, 0%, 99.2%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Bridge - Z2 Restricted road dash",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        [
          "match",
          ["get", "access"],
          ["restricted", "conditional"],
          true,
          false
        ],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "z_level"], 2]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 92%)",
        "line-dasharray": [2, 1.5],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          0,
          19,
          6
        ]
      }
    },
    {
      "id": "Bridge - Z3+ Tarmac outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 13,
      "filter": [
        "all",
        [">=", ["get", "z_level"], 3],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "access"], ["prohibited"], false, true]
      ],
      "layout": {
        "line-cap": "butt",
        "line-join": "round",
        "visibility": "none"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway", "motorway_link"],
          "hsl(47, 100%, 72%)",
          ["trunk", "trunk_link"],
          "hsl(47, 92%, 79%)",
          ["primary", "primary_link"],
          "hsl(47, 84%, 86%)",
          ["secondary", "tertiary", "secondary_link", "tertiary_link"],
          "hsl(0, 0%, 100%)",
          ["street"],
          "hsl(0, 0%, 100%)",
          "hsl(0, 0%, 99.2%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.2],
          ["zoom"],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "+",
            2.5,
            [
              "match",
              ["get", "category"],
              ["motorway"],
              47,
              ["trunk"],
              43,
              ["primary"],
              39,
              ["secondary"],
              34.5,
              ["tertiary"],
              30.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              26.5,
              ["street"],
              [
                "match",
                ["get", "subcategory"],
                ["residential", "unclassified"],
                22,
                18
              ],
              ["pedestrian"],
              9.5,
              ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
            ]
          ]
        ]
      }
    },
    {
      "id": "Bridge  - Z3+ Road outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        [">=", ["get", "z_level"], 3],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "category"],
          ["motorway", "motorway_link"],
          "hsl(47, 58%, 45%)",
          ["trunk", "trunk_link"],
          "hsl(47, 58%, 49%)",
          ["primary", "primary_link"],
          "hsl(47, 58%, 53%)",
          ["secondary", "tertiary", "secondary_link", "tertiary_link"],
          "hsl(215, 15%, 56%)",
          ["street"],
          "hsl(215, 15%, 60%)",
          "hsl(215, 15%, 60%)"
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          9,
          1,
          13,
          ["to-number", "1"],
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            3.5,
            ["trunk"],
            3.25,
            ["primary"],
            3,
            ["secondary"],
            2.5,
            ["tertiary"],
            2.25,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1.25
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            6,
            ["trunk"],
            5.5,
            ["primary"],
            5,
            ["secondary"],
            4.125,
            ["tertiary"],
            3.625,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            3.125,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              2.25,
              1.75
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            47,
            ["trunk"],
            43,
            ["primary"],
            39,
            ["secondary"],
            34.5,
            ["tertiary"],
            30.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            26.5,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              22,
              18
            ],
            ["pedestrian"],
            9.5,
            ["match", ["get", "subcategory"], ["parking"], 9.5, 13.5]
          ]
        ]
      }
    },
    {
      "id": "Bridge  - Z3+ Road under construction",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        [">=", ["get", "z_level"], 3],
        ["==", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": "hsl(0, 0%, 96%)",
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-pattern": "under-construction",
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Bridge  - Z3+ Road line",
      "type": "line",
      "metadata": {
        "group": "road",
        "tomtom:material": "TomTom/Materials/SM Road"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 12,
      "filter": [
        "all",
        [">=", ["get", "z_level"], 3],
        ["!=", ["get", "under_construction"], true],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 92%)",
          [
            "match",
            ["get", "category"],
            ["motorway", "motorway_link"],
            "hsl(47, 100%, 72%)",
            ["trunk", "trunk_link"],
            "hsl(47, 92%, 79%)",
            ["primary", "primary_link"],
            "hsl(47, 84%, 86%)",
            ["secondary", "tertiary", "secondary_link", "tertiary_link"],
            "hsl(0, 0%, 100%)",
            ["street"],
            "hsl(0, 0%, 100%)",
            ["pedestrian"],
            "hsl(0, 0%, 92%)",
            ["bus"],
            "hsl(0, 0%, 92%)",
            "hsl(0, 0%, 99.2%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "Bridge - Z3+ Restricted road dash",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        [
          "match",
          ["get", "access"],
          ["restricted", "conditional"],
          true,
          false
        ],
        [
          "match",
          ["get", "category"],
          ["bus", "pedestrian", "path", "track"],
          false,
          true
        ],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["!=", ["get", "under_construction"], true],
        [">=", ["get", "z_level"], 3]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 92%)",
        "line-dasharray": [2, 1.5],
        "line-opacity": [
          "interpolate",
          ["exponential", 1],
          ["zoom"],
          13,
          1,
          16,
          ["to-number", "1"]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          13,
          0,
          19,
          6
        ]
      }
    },
    {
      "id": "Bridge - Road arrow",
      "type": "symbol",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        ["!=", ["get", "under_construction"], true],
        ["==", ["has", "direction"], true],
        ["any", [">=", ["get", "z_level"], 1], ["==", ["get", "bridge"], true]],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "match",
          ["get", "category"],
          ["path", "track", "pedestrian"],
          false,
          true
        ],
        [
          "any",
          ["match", ["get", "category"], ["service"], false, true],
          [">=", ["zoom"], 16]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "icon-image": [
          "match",
          ["get", "direction"],
          -1,
          "arrow",
          1,
          "arrow-revers",
          ""
        ],
        "icon-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary"],
            1,
            "tertiary",
            0.9,
            "street",
            0.7,
            "service",
            0.5,
            0.8
          ],
          18,
          1
        ],
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          100,
          17,
          250,
          22,
          500
        ]
      },
      "paint": {"icon-opacity": 0.8, "text-opacity": 1}
    },
    {
      "id": "Bridge - Railway fill",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 16,
      "filter": [
        "all",
        ["match", ["get", "category"], ["railway"], true, false],
        ["match", ["get", "subcategory"], ["main", "light"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(207, 13%, 96%)",
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 16, 0, 16.25, 1],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          16,
          0,
          19,
          ["match", ["get", "subcategory"], ["main"], 8, 5]
        ]
      }
    },
    {
      "id": "Bridge - Railway outline",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 12,
      "filter": [
        "all",
        ["match", ["get", "category"], ["railway"], true, false],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 19%, 74%)",
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          12,
          0,
          13,
          0.25,
          16,
          0.5,
          19,
          [
            "match",
            ["get", "subcategory"],
            ["main"],
            1.5,
            ["light"],
            1.25,
            ["subway"],
            1,
            ["tram"],
            1,
            1
          ]
        ]
      }
    },
    {
      "id": "Bridge - Railway dash",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 14,
      "filter": [
        "all",
        ["match", ["get", "category"], ["railway"], true, false],
        ["match", ["get", "subcategory"], ["subway"], false, true],
        ["!=", ["get", "under_construction"], true],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["any", [">=", ["zoom"], 15], ["!=", ["get", "service"], true]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 19%, 74%)",
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [0.15, 10]],
          19,
          ["literal", [0.15, 12]]
        ],
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          13,
          0,
          15,
          0.5,
          16,
          1
        ],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          13,
          0,
          16,
          [
            "match",
            ["get", "subcategory"],
            ["main", "light"],
            3,
            ["tram"],
            2,
            1
          ],
          19,
          [
            "match",
            ["get", "subcategory"],
            ["main"],
            8,
            ["light"],
            6,
            ["tram"],
            4.5,
            4.5
          ]
        ]
      }
    },
    {
      "id": "Bridge - Aerialway",
      "type": "line",
      "metadata": {"group": "road"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 14,
      "filter": [
        "all",
        ["==", ["get", "category"], "aerialway"],
        ["!=", ["get", "under_construction"], true]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "butt",
        "line-join": "bevel"
      },
      "paint": {
        "line-color": "hsl(207, 24%, 75%)",
        "line-width": ["interpolate", ["linear"], ["zoom"], 16, 0.5, 19, 1.5],
        "line-dasharray": [4, 4, 1, 4]
      }
    },
    {
      "id": "Borders - Overlays background",
      "type": "line",
      "metadata": {"group": "border"},
      "source": "vectorTiles",
      "source-layer": "overlays",
      "minzoom": 11,
      "filter": [
        "any",
        ["match", ["get", "group"], ["military"], true, false],
        ["match", ["get", "subcategory"], ["aboriginal"], true, false],
        ["<=", ["get", "protect_class"], 4]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "miter"
      },
      "paint": {
        "line-blur": 1,
        "line-color": [
          "match",
          ["get", "group"],
          "military",
          "hsl(326, 3%, 54%)",
          "hsl(115, 31%, 55%)"
        ],
        "line-offset": 2,
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 12, 0, 13, 0.15],
        "line-width": 4
      }
    },
    {
      "id": "Borders - Overlays",
      "type": "line",
      "metadata": {"group": "border"},
      "source": "vectorTiles",
      "source-layer": "overlays",
      "minzoom": 11,
      "filter": [
        "any",
        ["match", ["get", "group"], ["military"], true, false],
        ["match", ["get", "subcategory"], ["aboriginal"], true, false],
        ["<=", ["get", "protect_class"], 4]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "miter"
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "group"],
          "military",
          "hsl(326, 3%, 54%)",
          "hsl(115, 31%, 55%)"
        ],
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 11, 0, 13, 0.7],
        "line-width": 0.5
      }
    },
    {
      "id": "Borders - Background",
      "type": "line",
      "metadata": {"group": "border"},
      "source": "vectorTiles",
      "source-layer": "boundaries",
      "filter": [
        "all",
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 0%, 100%)",
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          3,
          ["match", ["get", "category"], "country", 0, 0],
          7,
          ["match", ["get", "category"], "country", 0.3, 0],
          10,
          ["match", ["get", "category"], "country", 0.7, 0.5]
        ],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          4,
          2,
          10,
          ["match", ["get", "category"], "country", 5, 3],
          16,
          ["match", ["get", "category"], "country", 6, 4]
        ]
      }
    },
    {
      "id": "Borders - Maritime",
      "type": "line",
      "metadata": {"group": "border"},
      "source": "vectorTiles",
      "source-layer": "boundaries",
      "filter": [
        "all",
        ["==", ["get", "category"], "maritime"],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        ["!", ["has", "disputed"]],
        ["!", ["has", "treaty"]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "square",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(198, 60%, 56%)",
        "line-dasharray": [5, 3],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          2,
          0.5,
          4,
          [
            "match",
            ["get", "subcategory"],
            "territorial_sea",
            1.5,
            "contiguous_zone",
            1.25,
            "exclusive_economic_zone",
            1,
            "continental_shelf",
            0.75,
            0.5
          ],
          10,
          [
            "match",
            ["get", "subcategory"],
            "territorial_sea",
            3.5,
            "contiguous_zone",
            3,
            "exclusive_economic_zone",
            2,
            "continental_shelf",
            1.5,
            1
          ]
        ]
      }
    },
    {
      "id": "Borders - Treaty",
      "type": "line",
      "metadata": {"group": "border"},
      "source": "vectorTiles",
      "source-layer": "boundaries",
      "filter": [
        "all",
        ["!", ["has", "disputed"]],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        ["has", "treaty"]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(219, 44%, 59%)",
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [1.5, 2]],
          6,
          ["literal", [2, 3]],
          10,
          ["literal", [2, 4]]
        ],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          2,
          0.8,
          4,
          1,
          10,
          1.8
        ]
      }
    },
    {
      "id": "Borders - Disputed",
      "type": "line",
      "metadata": {"group": "border"},
      "source": "vectorTiles",
      "source-layer": "boundaries",
      "filter": [
        "all",
        ["has", "disputed"],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        ["!", ["has", "treaty"]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(23, 40%, 59%)",
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [1, 1, 0, 1]],
          6,
          ["literal", [2, 2, 0, 2]],
          10,
          ["literal", [3, 3, 0, 3]]
        ],
        "line-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          2,
          0.8,
          4,
          1,
          10,
          1.8
        ]
      }
    },
    {
      "id": "Borders - State",
      "type": "line",
      "metadata": {"group": "border"},
      "source": "vectorTiles",
      "source-layer": "boundaries",
      "minzoom": 3,
      "filter": [
        "all",
        ["==", ["get", "category"], "state"],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        ["!", ["has", "disputed"]],
        ["!", ["has", "treaty"]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          3,
          "hsl(45, 4%, 64%)",
          7,
          "hsl(45, 4%, 61%)"
        ],
        "line-dasharray": [
          "step",
          ["zoom"],
          ["literal", [1, 0.01]],
          4,
          ["literal", [2, 2]]
        ],
        "line-width": ["interpolate", ["linear"], ["zoom"], 4, 0.5, 10, 1.5]
      }
    },
    {
      "id": "Borders - Country",
      "type": "line",
      "metadata": {"group": "border"},
      "source": "vectorTiles",
      "source-layer": "boundaries",
      "filter": [
        "all",
        ["==", ["get", "category"], "country"],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        ["!", ["has", "disputed"]],
        ["!", ["has", "treaty"]]
      ],
      "layout": {
        "visibility": "visible",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(45, 2%, 54%)",
        "line-width": ["interpolate", ["linear"], ["zoom"], 2, 0.5, 4, 1, 10, 2]
      }
    },
    {
      "id": "Traffic - Free flow outline",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        [">=", ["get", "relative_speed"], 0.75],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(146, 62%, 40%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.2,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Free flow",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        [">=", ["get", "relative_speed"], 0.75],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(146, 78%, 53%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Slow flow outline",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.75],
        [">=", ["get", "relative_speed"], 0.35],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(45, 85%, 36%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.2,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Slow flow",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.75],
        [">=", ["get", "relative_speed"], 0.35],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(45, 100%, 51%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Slow flow pattern",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 14,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.75],
        [">=", ["get", "relative_speed"], 0.35],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-flow-slow",
        "line-color": "hsl(45, 100%, 51%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 15, 1]
      }
    },
    {
      "id": "Traffic - Queueing flow outline",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.35],
        [">=", ["get", "relative_speed"], 0.15],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(9, 87%, 31%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.2,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Queueing flow",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.35],
        [">=", ["get", "relative_speed"], 0.15],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(9, 97%, 51%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Queueing flow pattern",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 14,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.35],
        [">=", ["get", "relative_speed"], 0.15],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-flow-queueing",
        "line-color": "hsl(9, 97%, 51%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 15, 1]
      }
    },
    {
      "id": "Traffic - Stationary flow outline",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.15],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 100%, 17%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.2,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Stationary flow",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.15],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 100%, 34%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Stationary flow pattern",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 14,
      "filter": [
        "all",
        ["<", ["get", "relative_speed"], 0.15],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-flow-stationary",
        "line-color": "hsl(0, 100%, 34%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 15, 1]
      }
    },
    {
      "id": "Traffic - Closed road outline",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "relative_speed"], 0],
        ["has", "road_closure"],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": {
          "stops": [[10, "hsl(0, 100%, 51%)"], [15, "hsl(0, 100%, 34%)"]]
        },
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.2,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Closed road",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "relative_speed"], 0],
        ["has", "road_closure"],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": ["step", ["zoom"], "butt", 15, "round"],
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(197, 28%, 95%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "Traffic - Closed road pattern",
      "type": "line",
      "metadata": {"group": "flow"},
      "source": "vectorTilesFlow",
      "source-layer": "Traffic flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "relative_speed"], 0],
        ["has", "road_closure"],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-diagonal-closed",
        "line-color": "hsl(197, 28%, 95%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.2,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 6, 0.2, 10, 1]
      }
    },
    {
      "id": "TrafficIncidents - No delay outline",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 0],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(198, 20%, 54%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              1,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - No delay",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 0],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(198, 20%, 90%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - No delay pattern",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 0],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-diagonal-unknown",
        "line-color": "hsl(198, 20%, 90%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Minor jam outline",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 1],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(45, 85%, 36%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              1,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Minor jam ",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 1],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(45, 100%, 51%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Minor jam pattern",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 14,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 1],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-incidents-slow",
        "line-color": "hsl(45, 100%, 51%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 15, 1]
      }
    },
    {
      "id": "TrafficIncidents - Moderate jam outline",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 2],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(9, 87%, 31%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              1,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Moderate jam",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 2],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(9, 97%, 51%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Moderate jam pattern",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 14,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 2],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-incidents-queueing",
        "line-color": "hsl(9, 97%, 51%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-opacity": {"stops": [[14, 0], [15, 1]]}
      }
    },
    {
      "id": "TrafficIncidents - Major jam outline",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 3],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 100%, 17%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              1,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Major jam",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 3],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 100%, 34%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Major jam pattern",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 14,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 3],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-incidents-stationary",
        "line-color": "hsl(0, 100%, 34%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 15, 1]
      }
    },
    {
      "id": "TrafficIncidents - Closed road outline",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 4],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(0, 100%, 34%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "+",
            0.75,
            [
              "*",
              1,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                0.5,
                ["trunk"],
                0.5,
                0
              ]
            ]
          ],
          9,
          [
            "+",
            1,
            [
              "*",
              0.8,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                2.5,
                ["trunk"],
                2.25,
                ["primary"],
                2,
                ["secondary"],
                1.75,
                ["tertiary"],
                1.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                1.25,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1,
                  0.75
                ],
                0
              ]
            ]
          ],
          13,
          [
            "+",
            1.5,
            [
              "*",
              0.6,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                4.5,
                ["trunk"],
                4,
                ["primary"],
                3.5,
                ["secondary"],
                3,
                ["tertiary"],
                2.5,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                2,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  1.5,
                  1
                ],
                0
              ]
            ]
          ],
          19,
          [
            "+",
            3,
            [
              "*",
              0.4,
              [
                "match",
                ["get", "road_category"],
                ["motorway"],
                44,
                ["trunk"],
                40,
                ["primary"],
                36,
                ["secondary"],
                32,
                ["tertiary"],
                28,
                [
                  "motorway_link",
                  "trunk_link",
                  "primary_link",
                  "secondary_link",
                  "tertiary_link"
                ],
                24,
                ["street"],
                [
                  "match",
                  ["get", "road_subcategory"],
                  ["residential", "unclassified"],
                  20,
                  16
                ],
                12
              ]
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Closed road",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 4],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "hsl(197, 28%, 95%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "TrafficIncidents - Closed road pattern",
      "type": "line",
      "metadata": {"group": "incidents_tube"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "magnitude_of_delay"], 4],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-pattern": "traffic-diagonal-closed",
        "line-color": "hsl(197, 28%, 95%)",
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "Borders - Treaty label",
      "type": "symbol",
      "metadata": {"group": "label"},
      "source": "vectorTiles",
      "source-layer": "boundaries",
      "filter": [
        "all",
        ["has", "name"],
        [">=", ["zoom"], ["coalesce", ["get", "label_minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "label_maxzoom"], 22]]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "text-field": "{name}",
        "text-font": ["Noto-Regular"],
        "text-keep-upright": true,
        "text-letter-spacing": 0.1,
        "text-rotation-alignment": "map",
        "text-size": ["interpolate", ["linear"], ["zoom"], 0, 8, 4, 10, 10, 16],
        "text-offset": [0, -1],
        "text-pitch-alignment": "viewport"
      },
      "paint": {
        "text-color": [
          "case",
          ["has", "disputed"],
          "hsl(23, 40%, 48%)",
          ["has", "treaty"],
          "hsl(219, 44%, 48%)",
          ["==", ["get", "category"], "maritime"],
          "hsl(198, 60%, 46%)",
          "hsl(45, 2%, 48%)"
        ],
        "text-halo-color": "hsla(0, 0%, 100%, 0.5)",
        "text-halo-width": 1
      }
    },
    {
      "id": "NatureLabels - Elevation Point",
      "type": "symbol",
      "metadata": {"group": "label"},
      "source": "vectorTiles",
      "source-layer": "carto_labels",
      "minzoom": 13,
      "filter": [
        "all",
        ["match", ["get", "category"], ["elevation_point"], true, false],
        [
          "match",
          ["get", "subcategory"],
          ["peak", "volcano", "hill"],
          true,
          false
        ],
        [
          "step",
          ["zoom"],
          [
            "all",
            ["==", ["has", "elevation"], true],
            [">=", ["get", "elevation"], 1500]
          ],
          15,
          [
            "any",
            ["==", ["has", "elevation"], false],
            [">=", ["get", "elevation"], 300]
          ]
        ]
      ],
      "layout": {
        "symbol-placement": "point",
        "symbol-sort-key": ["get", "display_class"],
        "icon-image": [
          "match",
          ["get", "subcategory"],
          ["volcano"],
          "land_nature-icon-volcano02",
          ["peak"],
          [
            "case",
            ["==", ["has", "elevation"], false],
            "land_nature-icon-peak",
            [">=", ["get", "elevation"], 1500],
            "land_nature-icon-peak01",
            "land_nature-icon-peak"
          ],
          ["hill"],
          "land_nature-icon-hill",
          "land_nature-icon-generic"
        ],
        "icon-size": 1,
        "text-anchor": "top",
        "text-field": [
          "format",
          ["get", "name"],
          {"font-scale": 1},
          "\n",
          {},
          [
            "case",
            ["has", "elevation"],
            ["concat", ["get", "elevation"], "m"],
            " "
          ],
          {"font-scale": 0.75}
        ],
        "text-font": ["NotoSans-MediumItalic"],
        "text-letter-spacing": 0.25,
        "text-max-width": 8,
        "text-padding": 5,
        "text-size": ["interpolate", ["linear"], ["zoom"], 13, 8, 16, 12],
        "text-offset": [0, 1],
        "visibility": "visible"
      },
      "paint": {
        "text-color": "hsl(45, 35%, 37%)",
        "text-halo-color": "hsla(0, 0%, 100%, 0.75)",
        "text-halo-width": 1.4
      }
    },
    {
      "id": "NatureLabels - Physiography",
      "type": "symbol",
      "metadata": {"group": "label"},
      "source": "vectorTiles",
      "source-layer": "carto_labels",
      "minzoom": 4,
      "filter": [
        "all",
        [
          "match",
          ["get", "category"],
          ["island", "woodland", "grassland", "natural_feature", "sandy"],
          true,
          false
        ],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        [
          "step",
          ["zoom"],
          [
            "any",
            ["match", ["get", "subcategory"], ["island"], true, false],
            [
              "all",
              ["==", ["get", "subcategory"], "archipelago"],
              ["!=", ["get", "display_class"], 7]
            ]
          ],
          9,
          [
            "any",
            ["match", ["get", "subcategory"], ["plain"], true, false],
            [
              "all",
              ["==", ["get", "subcategory"], "archipelago"],
              [">=", ["get", "display_class"], 7]
            ],
            [
              "all",
              ["==", ["get", "subcategory"], "island"],
              ["!=", ["get", "display_class"], 9]
            ]
          ],
          11,
          [
            "any",
            ["match", ["get", "subcategory"], ["plain", "island"], true, false],
            [
              "all",
              ["==", ["get", "subcategory"], "islet"],
              ["!=", ["get", "display_class"], 11]
            ]
          ],
          13,
          [
            "any",
            [
              "match",
              ["get", "subcategory"],
              ["plain", "valley", "island"],
              true,
              false
            ],
            [
              "all",
              ["==", ["get", "subcategory"], "islet"],
              ["!=", ["get", "display_class"], 11]
            ]
          ],
          16,
          [
            "match",
            ["get", "subcategory"],
            ["managed", "archipelago"],
            false,
            true
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-placement": "point",
        "symbol-sort-key": ["get", "display_class"],
        "text-anchor": "center",
        "text-field": "{name}",
        "text-font": ["NotoSans-MediumItalic"],
        "text-letter-spacing": 0.25,
        "text-max-width": 8,
        "text-padding": 5,
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          4,
          8,
          9,
          ["match", ["get", "subcategory"], "archipelago", 12, "island", 10, 8],
          13,
          [
            "match",
            ["get", "subcategory"],
            "archipelago",
            14,
            "island",
            12,
            ["natural", "sand", "beach"],
            8,
            10
          ],
          16,
          [
            "match",
            ["get", "subcategory"],
            "archipelago",
            16,
            "island",
            14,
            ["natural", "sand", "beach"],
            10,
            12
          ]
        ]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "category"],
          "island",
          "hsl(45, 2%, 37%)",
          "woodland",
          "hsl(115, 40%, 39%)",
          "grassland",
          "hsl(115, 40%, 41%)",
          "sandy",
          "hsl(45, 35%, 47%)",
          [
            "match",
            ["get", "subcategory"],
            ["valley", "plain"],
            "hsl(115, 40%, 41%)",
            "hsl(45, 9%, 45%)"
          ]
        ],
        "text-halo-color": "hsla(0, 0%, 100%, 0.5)",
        "text-halo-width": 1.4
      }
    },
    {
      "id": "NatureLabels - River line",
      "type": "symbol",
      "metadata": {"group": "label"},
      "source": "vectorTiles",
      "source-layer": "water_lines",
      "minzoom": 13,
      "filter": [
        "all",
        ["!=", ["get", "intermittent"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-spacing": 400,
        "text-field": "{name}",
        "text-font": ["NotoSans-MediumItalic"],
        "text-keep-upright": true,
        "text-letter-spacing": 0.25,
        "text-padding": 5,
        "text-rotation-alignment": "map",
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          13,
          ["match", ["get", "category"], ["river", "canal"], 10, 8],
          16,
          ["match", ["get", "category"], ["river", "canal"], 16, 12]
        ],
        "text-pitch-alignment": "viewport"
      },
      "paint": {
        "text-color": "hsl(198, 60%, 41%)",
        "text-halo-color": "hsla(198, 60%, 100%, 0.8)",
        "text-halo-width": 1
      }
    },
    {
      "id": "NatureLabels - Water area",
      "type": "symbol",
      "metadata": {"group": "label"},
      "source": "vectorTiles",
      "source-layer": "carto_labels",
      "filter": [
        "all",
        ["match", ["get", "category"], ["water", "glacier"], true, false],
        [
          "any",
          [
            "all",
            ["==", ["get", "subcategory"], "strait"],
            ["!=", ["get", "display_class"], 7]
          ],
          ["match", ["get", "subcategory"], ["strait"], false, true],
          [">", ["zoom"], 11]
        ],
        ["any", ["!=", ["get", "intermittent"], true], [">", ["zoom"], 13]]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-placement": "point",
        "symbol-sort-key": ["get", "display_class"],
        "text-allow-overlap": false,
        "text-field": "{name}",
        "text-font": ["NotoSans-MediumItalic"],
        "text-ignore-placement": false,
        "text-keep-upright": true,
        "text-letter-spacing": 0.25,
        "text-max-width": 8,
        "text-optional": false,
        "text-padding": 8,
        "text-pitch-alignment": "auto",
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          ["match", ["get", "subcategory"], "ocean", 12, "sea", 10, 8],
          4,
          ["match", ["get", "subcategory"], "ocean", 14, "sea", 12, 10],
          9,
          ["match", ["get", "subcategory"], "ocean", 18, "sea", 15, 12],
          13,
          [
            "match",
            ["get", "subcategory"],
            "ocean",
            22,
            "sea",
            18,
            "inland",
            14,
            10
          ],
          16,
          [
            "match",
            ["get", "subcategory"],
            "ocean",
            24,
            "sea",
            20,
            "inland",
            16,
            12
          ]
        ]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "category"],
          "water",
          "hsl(198, 60%, 41%)",
          "hsl(198, 15%, 61%)"
        ],
        "text-halo-color": "hsla(198, 60%, 100%, 0.6)",
        "text-halo-width": 1
      }
    },
    {
      "id": "TransitLabels - Ferry",
      "type": "symbol",
      "metadata": {"group": "road_label"},
      "source": "vectorTiles",
      "source-layer": "transit",
      "minzoom": 9,
      "filter": [
        "all",
        ["==", ["get", "category"], "ferry"],
        [
          "any",
          ["has", "name"],
          [
            "all",
            ["has", "reference_number"],
            ["==", ["in", ";", ["get", "reference_number"]], false]
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "text-field": [
          "step",
          ["zoom"],
          ["to-string", ["get", "reference_number"]],
          14,
          ["to-string", ["get", "name"]]
        ],
        "text-font": ["Noto-Regular"],
        "text-keep-upright": true,
        "text-letter-spacing": 0.05,
        "text-pitch-alignment": "viewport",
        "text-rotation-alignment": "map",
        "text-size": ["interpolate", ["linear"], ["zoom"], 12, 10, 14, 12]
      },
      "paint": {
        "text-color": "hsl(198, 60%, 42%)",
        "text-halo-color": "hsla(198, 60%, 100%, 0.5)",
        "text-halo-width": 1
      }
    },
    {
      "id": "TransitLabels - Path",
      "type": "symbol",
      "metadata": {"group": "road_label"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 14,
      "filter": [
        "all",
        ["match", ["get", "category"], ["track", "path"], true, false],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 14],
            ["!=", ["get", "under_construction"], true],
            ["==", ["get", "category"], "track"]
          ],
          [
            "all",
            [">=", ["zoom"], 15],
            ["!=", ["get", "under_construction"], true],
            ["==", ["get", "category"], "path"]
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10,
          250,
          17,
          400,
          22,
          700
        ],
        "text-field": "{name}",
        "text-font": [
          "step",
          ["zoom"],
          ["literal", ["Noto-Regular"]],
          16,
          ["literal", ["Noto-Medium"]]
        ],
        "text-keep-upright": true,
        "text-letter-spacing": 0.05,
        "text-pitch-alignment": "viewport",
        "text-rotation-alignment": "map",
        "text-size": ["interpolate", ["linear"], ["zoom"], 14, 10, 18, 12]
      },
      "paint": {
        "text-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          14,
          [
            "match",
            ["get", "category"],
            "track",
            "hsl(0, 0%, 31%)",
            "hsl(0, 0%, 30%)"
          ],
          16,
          [
            "match",
            ["get", "category"],
            "track",
            "hsl(0, 0%, 31%)",
            "hsl(0, 0%, 30%)"
          ]
        ],
        "text-halo-color": "hsla(0, 0%, 100%, 0.75)",
        "text-halo-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10,
          1,
          16,
          1.25,
          17,
          1.5
        ]
      }
    },
    {
      "id": "TransitLabels - Road",
      "type": "symbol",
      "metadata": {"group": "road_label"},
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 10,
      "filter": [
        "all",
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 10],
            ["!=", ["get", "under_construction"], true],
            [
              "any",
              ["==", ["get", "category"], "motorway"],
              ["==", ["get", "category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["!=", ["get", "under_construction"], true],
            [
              "any",
              ["==", ["get", "category"], "primary"],
              ["==", ["get", "category"], "secondary"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            ["!=", ["get", "under_construction"], true],
            [
              "any",
              ["==", ["get", "category"], "tertiary"],
              ["==", ["get", "category"], "street"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["!=", ["get", "under_construction"], true],
            ["any", ["==", ["get", "category"], "pedestrian"]]
          ],
          [
            "all",
            [">=", ["zoom"], 15],
            ["!=", ["get", "under_construction"], true],
            ["any", ["==", ["get", "category"], "service"]]
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10,
          250,
          17,
          400,
          22,
          700
        ],
        "text-field": "{name}",
        "text-font": [
          "step",
          ["zoom"],
          ["literal", ["Noto-Regular"]],
          16,
          ["literal", ["Noto-Medium"]]
        ],
        "text-keep-upright": true,
        "text-letter-spacing": 0.05,
        "text-pitch-alignment": "viewport",
        "text-rotation-alignment": "map",
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary"],
            13,
            ["secondary", "tertiary"],
            13,
            ["street"],
            11,
            9
          ],
          18,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary"],
            16,
            ["secondary", "tertiary"],
            15,
            ["street"],
            14,
            13
          ]
        ]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "category"],
          "motorway",
          "hsl(47, 25%, 15%)",
          "trunk",
          "hsl(47, 23%, 15%)",
          "primary",
          "hsl(47, 21%, 15%)",
          "secondary",
          "hsl(0, 0%, 24%)",
          "hsl(0, 0%, 28%)"
        ],
        "text-halo-color": "hsla(0, 0%, 100%, 0.75)",
        "text-halo-width": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10,
          1,
          16,
          1.25,
          17,
          1.5
        ]
      }
    },
    {
      "id": "TransitLabels - Route Shield 4",
      "type": "symbol",
      "metadata": {
        "group": "road_label",
        "tomtom:roadshield-duplicate-min-distance": 200
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 10,
      "filter": [
        "all",
        ["has", "route_shield_icon_3"],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "step",
          ["zoom"],
          ["match", ["get", "category"], ["motorway"], true, false],
          8,
          ["match", ["get", "category"], ["motorway", "trunk"], true, false],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary"],
            true,
            false
          ],
          11,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary"],
            true,
            false
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary", "tertiary"],
            true,
            false
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": 800,
        "text-field": "{route_shield_text_3}",
        "text-font": ["Noto-Bold"],
        "text-keep-upright": true,
        "text-pitch-alignment": "viewport",
        "text-rotation-alignment": "viewport",
        "text-size": ["interpolate", ["linear"], ["zoom"], 10, 8.5, 12, 10],
        "icon-image": "{route_shield_icon_3}",
        "icon-pitch-alignment": "viewport",
        "icon-rotation-alignment": "viewport",
        "icon-size": ["interpolate", ["linear"], ["zoom"], 10, 0.85, 12, 1],
        "icon-padding": ["interpolate", ["linear"], ["zoom"], 9, 15, 13, 5]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "route_shield_text_color_3"],
          "white",
          "hsl(0, 0%, 100%)",
          "grey1",
          "hsl(0, 0%, 73%)",
          "grey2",
          "hsl(0, 0%, 33%)",
          "black",
          "hsl(0, 0%, 0%)",
          "yellow1",
          "hsl(55, 94%, 54%)",
          "yellow2",
          "hsl(46, 97%, 57%)",
          "yellow3",
          "hsl(37, 100%, 59%)",
          "orange",
          "hsl(22, 100%, 59%)",
          "red",
          "hsl(0, 100%, 42%)",
          "green1",
          "hsl(100, 65%, 51%)",
          "green2",
          "hsl(153, 83%, 33%)",
          "green3",
          "hsl(142, 84%, 27%)",
          "blue1",
          "hsl(205, 99%, 59%)",
          "blue2",
          "hsl(214, 69%, 37%)",
          "blue3",
          "hsl(213, 100%, 50%)",
          "hsl(0, 0%, 15%)"
        ]
      }
    },
    {
      "id": "TransitLabels - Route Shield 3",
      "type": "symbol",
      "metadata": {
        "group": "road_label",
        "tomtom:roadshield-duplicate-min-distance": 200
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 10,
      "filter": [
        "all",
        ["has", "route_shield_icon_2"],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "step",
          ["zoom"],
          ["match", ["get", "category"], ["motorway"], true, false],
          8,
          ["match", ["get", "category"], ["motorway", "trunk"], true, false],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary"],
            true,
            false
          ],
          11,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary"],
            true,
            false
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary", "tertiary"],
            true,
            false
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": 700,
        "text-field": "{route_shield_text_2}",
        "text-font": ["Noto-Bold"],
        "text-keep-upright": true,
        "text-pitch-alignment": "viewport",
        "text-rotation-alignment": "viewport",
        "text-size": ["interpolate", ["linear"], ["zoom"], 10, 8.5, 12, 10],
        "icon-image": "{route_shield_icon_2}",
        "icon-pitch-alignment": "viewport",
        "icon-rotation-alignment": "viewport",
        "icon-size": ["interpolate", ["linear"], ["zoom"], 10, 0.85, 12, 1],
        "icon-padding": ["interpolate", ["linear"], ["zoom"], 9, 15, 13, 5]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "route_shield_text_color_2"],
          "white",
          "hsl(0, 0%, 100%)",
          "grey1",
          "hsl(0, 0%, 73%)",
          "grey2",
          "hsl(0, 0%, 33%)",
          "black",
          "hsl(0, 0%, 0%)",
          "yellow1",
          "hsl(55, 94%, 54%)",
          "yellow2",
          "hsl(46, 97%, 57%)",
          "yellow3",
          "hsl(37, 100%, 59%)",
          "orange",
          "hsl(22, 100%, 59%)",
          "red",
          "hsl(0, 100%, 42%)",
          "green1",
          "hsl(100, 65%, 51%)",
          "green2",
          "hsl(153, 83%, 33%)",
          "green3",
          "hsl(142, 84%, 27%)",
          "blue1",
          "hsl(205, 99%, 59%)",
          "blue2",
          "hsl(214, 69%, 37%)",
          "blue3",
          "hsl(213, 100%, 50%)",
          "hsl(0, 0%, 15%)"
        ]
      }
    },
    {
      "id": "TransitLabels - Route Shield 2",
      "type": "symbol",
      "metadata": {
        "group": "road_label",
        "tomtom:roadshield-duplicate-min-distance": 200
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 10,
      "filter": [
        "all",
        ["has", "route_shield_icon_1"],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "step",
          ["zoom"],
          ["match", ["get", "category"], ["motorway"], true, false],
          8,
          ["match", ["get", "category"], ["motorway", "trunk"], true, false],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary"],
            true,
            false
          ],
          11,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary"],
            true,
            false
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary", "tertiary"],
            true,
            false
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": 600,
        "text-field": "{route_shield_text_1}",
        "text-font": ["Noto-Bold"],
        "text-keep-upright": true,
        "text-pitch-alignment": "viewport",
        "text-rotation-alignment": "viewport",
        "text-size": ["interpolate", ["linear"], ["zoom"], 10, 8.5, 12, 10],
        "icon-image": "{route_shield_icon_1}",
        "icon-pitch-alignment": "viewport",
        "icon-rotation-alignment": "viewport",
        "icon-size": ["interpolate", ["linear"], ["zoom"], 10, 0.85, 12, 1],
        "icon-padding": ["interpolate", ["linear"], ["zoom"], 9, 15, 13, 5]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "route_shield_text_color_1"],
          "white",
          "hsl(0, 0%, 100%)",
          "grey1",
          "hsl(0, 0%, 73%)",
          "grey2",
          "hsl(0, 0%, 33%)",
          "black",
          "hsl(0, 0%, 0%)",
          "yellow1",
          "hsl(55, 94%, 54%)",
          "yellow2",
          "hsl(46, 97%, 57%)",
          "yellow3",
          "hsl(37, 100%, 59%)",
          "orange",
          "hsl(22, 100%, 59%)",
          "red",
          "hsl(0, 100%, 42%)",
          "green1",
          "hsl(100, 65%, 51%)",
          "green2",
          "hsl(153, 83%, 33%)",
          "green3",
          "hsl(142, 84%, 27%)",
          "blue1",
          "hsl(205, 99%, 59%)",
          "blue2",
          "hsl(214, 69%, 37%)",
          "blue3",
          "hsl(213, 100%, 50%)",
          "hsl(0, 0%, 15%)"
        ]
      }
    },
    {
      "id": "TransitLabels - Route Shield 1",
      "type": "symbol",
      "metadata": {
        "group": "road_label",
        "tomtom:roadshield-duplicate-min-distance": 200
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 10,
      "filter": [
        "all",
        ["has", "route_shield_icon"],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [
          "step",
          ["zoom"],
          ["match", ["get", "category"], ["motorway"], true, false],
          8,
          ["match", ["get", "category"], ["motorway", "trunk"], true, false],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary"],
            true,
            false
          ],
          11,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary"],
            true,
            false
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway", "trunk", "primary", "secondary", "tertiary"],
            true,
            false
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-avoid-edges": true,
        "symbol-placement": "line",
        "symbol-sort-key": ["get", "display_class"],
        "symbol-spacing": 500,
        "text-field": "{route_shield_text}",
        "text-font": ["Noto-Bold"],
        "text-keep-upright": true,
        "text-pitch-alignment": "viewport",
        "text-rotation-alignment": "viewport",
        "text-size": ["interpolate", ["linear"], ["zoom"], 10, 8.5, 12, 10],
        "icon-image": "{route_shield_icon}",
        "icon-pitch-alignment": "viewport",
        "icon-rotation-alignment": "viewport",
        "icon-size": ["interpolate", ["linear"], ["zoom"], 10, 0.85, 12, 1],
        "icon-padding": ["interpolate", ["linear"], ["zoom"], 9, 15, 13, 5]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "route_shield_text_color"],
          "white",
          "hsl(0, 0%, 100%)",
          "grey1",
          "hsl(0, 0%, 73%)",
          "grey2",
          "hsl(0, 0%, 33%)",
          "black",
          "hsl(0, 0%, 0%)",
          "yellow1",
          "hsl(55, 94%, 54%)",
          "yellow2",
          "hsl(46, 97%, 57%)",
          "yellow3",
          "hsl(37, 100%, 59%)",
          "orange",
          "hsl(22, 100%, 59%)",
          "red",
          "hsl(0, 100%, 42%)",
          "green1",
          "hsl(100, 65%, 51%)",
          "green2",
          "hsl(153, 83%, 33%)",
          "green3",
          "hsl(142, 84%, 27%)",
          "blue1",
          "hsl(205, 99%, 59%)",
          "blue2",
          "hsl(214, 69%, 37%)",
          "blue3",
          "hsl(213, 100%, 50%)",
          "hsl(0, 0%, 15%)"
        ]
      }
    },
    {
      "id": "TransitLabels - Exit Number",
      "type": "symbol",
      "metadata": {"group": "road_label"},
      "source": "vectorTiles",
      "source-layer": "roads_points",
      "minzoom": 15,
      "filter": [
        "all",
        ["==", ["get", "category"], "highway_exit"],
        ["<=", ["length", ["get", "number"]], 5]
      ],
      "layout": {
        "visibility": "visible",
        "icon-image": ["concat", "roads-exit_", ["length", ["get", "number"]]],
        "icon-padding": 5,
        "icon-pitch-alignment": "viewport",
        "icon-rotation-alignment": "viewport",
        "icon-size": ["interpolate", ["linear"], ["zoom"], 15, 0.75, 17, 1],
        "text-field": ["get", "number"],
        "text-font": ["Noto-Bold"],
        "text-keep-upright": true,
        "text-pitch-alignment": "viewport",
        "text-rotation-alignment": "viewport",
        "text-size": ["interpolate", ["linear"], ["zoom"], 15, 9.375, 17, 12.5],
        "text-justify": "left",
        "text-offset": [
          "interpolate",
          ["linear"],
          ["zoom"],
          15,
          ["literal", [0.6, 0]],
          17,
          ["literal", [0.6, 0]]
        ]
      },
      "paint": {"text-color": "hsl(0, 0%, 15%)"}
    },
    {
      "id": "3D - Building",
      "type": "fill-extrusion",
      "metadata": {
        "group": "area_3d",
        "tomtom:material": "TomTom/Materials/DefaultBuildings_Light"
      },
      "source": "vectorTiles",
      "source-layer": "buildings",
      "minzoom": 15,
      "filter": ["all", ["!=", ["get", "underground"], true]],
      "layout": {"visibility": "none"},
      "paint": {
        "fill-extrusion-base": [
          "case",
          ["has", "ground_height"],
          ["get", "ground_height"],
          0
        ],
        "fill-extrusion-color": "hsl(210, 13%, 80%)",
        "fill-extrusion-height": [
          "case",
          ["has", "height"],
          ["get", "height"],
          4
        ],
        "fill-extrusion-opacity": 0.7,
        "fill-extrusion-vertical-gradient": false
      }
    },
    {
      "id": "3D - Building - NoLandmarks",
      "type": "fill-extrusion",
      "metadata": {
        "group": "area_3d",
        "tomtom:material": "TomTom/Materials/DefaultBuildings_Light"
      },
      "source": "vectorTiles",
      "source-layer": "buildings",
      "minzoom": 15,
      "filter": ["all", ["!=", ["get", "underground"], true], true],
      "layout": {"visibility": "none"},
      "paint": {
        "fill-extrusion-base": [
          "case",
          ["has", "ground_height"],
          ["get", "ground_height"],
          0
        ],
        "fill-extrusion-color": "hsl(210, 13%, 80%)",
        "fill-extrusion-height": [
          "case",
          ["has", "height"],
          ["get", "height"],
          4
        ],
        "fill-extrusion-opacity": 0.7,
        "fill-extrusion-vertical-gradient": false
      }
    },
    {
      "id": "3D - Landmarks",
      "type": "fill",
      "metadata": {
        "tomtom:material": "TomTom/Materials/Landmark_Material_Light",
        "tomtom:layer": {"type": "model3d", "source": "landmarks"}
      },
      "source": "tomtom:placeholder",
      "minzoom": 15,
      "maxzoom": 22,
      "layout": {"visibility": "none"}
    },
    {
      "id": "AntiOcclusion - Roads",
      "type": "line",
      "metadata": {
        "group": "anti_occlusion",
        "tomtom:material": "TomTom/Materials/Route Tube Anti Occlusion Material"
      },
      "source": "vectorTiles",
      "source-layer": "roads",
      "minzoom": 15,
      "filter": [
        "all",
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        ["match", ["get", "category"], ["track", "path"], false, true],
        ["!=", ["get", "under_construction"], true]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round",
        "line-sort-key": [
          "-",
          20,
          [
            "case",
            ["==", ["get", "category"], "motorway"],
            1,
            ["==", ["get", "category"], "trunk"],
            2,
            ["==", ["get", "category"], "primary"],
            3,
            ["==", ["get", "category"], "motorway_link"],
            9.8,
            ["==", ["get", "category"], "trunk_link"],
            9.9,
            ["==", ["get", "category"], "pedestrian"],
            14,
            ["==", ["get", "category"], "bus"],
            15,
            ["==", ["get", "access"], "prohibited"],
            16,
            ["get", "display_class"]
          ]
        ]
      },
      "paint": {
        "line-color": [
          "match",
          ["get", "access"],
          "prohibited",
          "hsl(0, 0%, 69%)",
          [
            "match",
            ["get", "category"],
            ["motorway", "motorway_link"],
            "hsl(47, 100%, 54%)",
            ["trunk", "trunk_link"],
            "hsl(47, 92%, 59%)",
            ["primary", "primary_link"],
            "hsl(47, 84%, 65%)",
            ["secondary", "tertiary", "secondary_link", "tertiary_link"],
            "hsl(0, 0%, 75%)",
            ["street"],
            "hsl(0, 0%, 75%)",
            ["pedestrian"],
            "hsl(0, 0%, 69%)",
            ["bus"],
            "hsl(0, 0%, 69%)",
            "hsl(0, 0%, 74%)"
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          15,
          0,
          15.5,
          0.15
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          ["match", ["get", "category"], ["motorway"], 0.5, ["trunk"], 0.25, 0],
          9,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            2.5,
            ["trunk"],
            2.25,
            ["primary"],
            2,
            ["secondary"],
            1.75,
            ["tertiary"],
            1.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            1.25,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1,
              0.75
            ],
            0
          ],
          13,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            4.5,
            ["trunk"],
            4,
            ["primary"],
            3.5,
            ["secondary"],
            3,
            ["tertiary"],
            2.5,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            2,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              1.5,
              1
            ],
            0
          ],
          19,
          [
            "match",
            ["get", "category"],
            ["motorway"],
            44,
            ["trunk"],
            40,
            ["primary"],
            36,
            ["secondary"],
            32,
            ["tertiary"],
            28,
            [
              "motorway_link",
              "trunk_link",
              "primary_link",
              "secondary_link",
              "tertiary_link"
            ],
            24,
            ["street"],
            [
              "match",
              ["get", "subcategory"],
              ["residential", "unclassified"],
              20,
              16
            ],
            ["pedestrian"],
            8,
            ["match", ["get", "subcategory"], ["parking"], 8, 12]
          ]
        ]
      }
    },
    {
      "id": "AntiOcclusion - Traffic",
      "type": "line",
      "metadata": {
        "group": "anti_occlusion",
        "tomtom:material": "TomTom/Materials/Route Tube Anti Occlusion Material"
      },
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident flow",
      "minzoom": 15,
      "filter": [
        "all",
        [
          "any",
          [
            "all",
            [">=", ["zoom"], 6],
            [
              "any",
              ["==", ["get", "road_category"], "motorway"],
              ["==", ["get", "road_category"], "trunk"]
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 9],
            ["==", ["get", "road_category"], "primary"]
          ],
          [
            "all",
            [">=", ["zoom"], 10],
            ["==", ["get", "road_category"], "secondary"]
          ],
          [
            "all",
            [">=", ["zoom"], 11],
            ["==", ["get", "road_category"], "tertiary"]
          ],
          [
            "all",
            [">=", ["zoom"], 12],
            [
              "match",
              ["get", "road_category"],
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              true,
              false
            ]
          ],
          [
            "all",
            [">=", ["zoom"], 13],
            ["==", ["get", "road_category"], "street"],
            ["!=", ["get", "road_subcategory"], "living_street"]
          ],
          [
            "all",
            [">=", ["zoom"], 14],
            ["==", ["get", "road_subcategory"], "living_street"]
          ],
          ["all", [">=", ["zoom"], 15], ["==", ["has", "road_category"], true]]
        ]
      ],
      "layout": {
        "visibility": "none",
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "case",
          ["==", ["get", "magnitude_of_delay"], 0],
          "hsl(198, 20%, 68%)",
          ["==", ["get", "magnitude_of_delay"], 1],
          "hsl(45, 100%, 41%)",
          ["==", ["get", "magnitude_of_delay"], 2],
          "hsl(9, 97%, 43%)",
          ["==", ["get", "magnitude_of_delay"], 3],
          "hsl(0, 100%, 15%)",
          ["==", ["get", "magnitude_of_delay"], 4],
          "hsl(197, 28%, 90%)",
          "black"
        ],
        "line-offset": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.6, 0.6],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.5, 0.5],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.4, 0.4],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            ["case", ["has", "left_hand_traffic"], -0.3, 0.3],
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ],
        "line-opacity": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          15,
          0,
          15.5,
          0.15
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.3],
          ["zoom"],
          5,
          [
            "*",
            1,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              0.5,
              ["trunk"],
              0.5,
              0
            ]
          ],
          9,
          [
            "*",
            0.8,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              2.5,
              ["trunk"],
              2.25,
              ["primary"],
              2,
              ["secondary"],
              1.75,
              ["tertiary"],
              1.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              1.25,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1,
                0.75
              ],
              0
            ]
          ],
          13,
          [
            "*",
            0.6,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              4.5,
              ["trunk"],
              4,
              ["primary"],
              3.5,
              ["secondary"],
              3,
              ["tertiary"],
              2.5,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              2,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                1.5,
                1
              ],
              0
            ]
          ],
          19,
          [
            "*",
            0.4,
            [
              "match",
              ["get", "road_category"],
              ["motorway"],
              44,
              ["trunk"],
              40,
              ["primary"],
              36,
              ["secondary"],
              32,
              ["tertiary"],
              28,
              [
                "motorway_link",
                "trunk_link",
                "primary_link",
                "secondary_link",
                "tertiary_link"
              ],
              24,
              ["street"],
              [
                "match",
                ["get", "road_subcategory"],
                ["residential", "unclassified"],
                20,
                16
              ],
              12
            ]
          ]
        ]
      }
    },
    {
      "id": "House Number",
      "type": "symbol",
      "metadata": {"group": "address_point_label"},
      "source": "vectorTiles",
      "source-layer": "address_points",
      "minzoom": 18,
      "filter": ["==", ["get", "category"], "house"],
      "layout": {
        "visibility": "visible",
        "symbol-placement": "point",
        "text-field": ["coalesce", ["get", "number"], ["get", "name"]],
        "text-font": ["Noto-Regular"],
        "text-size": ["interpolate", ["linear"], ["zoom"], 18, 10, 20, 12]
      },
      "paint": {
        "text-color": "hsl(0, 0%, 42%)",
        "text-halo-color": "hsla(0, 0%, 100%, 0.5)",
        "text-halo-width": 1
      }
    },
    {
      "id": "POI - Micro",
      "type": "symbol",
      "metadata": {"group": "POI"},
      "source": "vectorTiles",
      "source-layer": "poi",
      "minzoom": 15.5,
      "filter": [
        "all",
        ["<=", ["get", "priority"], 316],
        [
          "any",
          ["has", "name"],
          ["match", ["get", "group"], ["parking", "transport"], true, false]
        ],
        ["match", ["get", "group"], [""], false, true],
        [
          "match",
          ["get", "category"],
          ["public_transport_platform"],
          false,
          true
        ],
        [
          "<=",
          [
            "+",
            ["get", "display_class"],
            [
              "match",
              ["get", "group"],
              ["parking"],
              ["to-number", "1"],
              ["driving"],
              ["to-number", "1"],
              ["sport"],
              1,
              ["healthcare"],
              1,
              ["protected"],
              1,
              ["match", ["get", "category"], ["stadium"], 1, 0]
            ]
          ],
          ["-", ["zoom"], -1]
        ]
      ],
      "layout": {
        "icon-image": "poi-{group}-micro",
        "icon-padding": ["interpolate", ["linear"], ["zoom"], 16, 10, 18, 0],
        "icon-size": ["interpolate", ["linear"], ["zoom"], 16, 0.5, 18, 1],
        "symbol-placement": "point",
        "symbol-sort-key": [
          "+",
          [
            "*",
            1000,
            [
              "+",
              ["get", "display_class"],
              [
                "match",
                ["get", "group"],
                ["parking"],
                ["to-number", "1"],
                ["driving"],
                ["to-number", "1"],
                ["sport"],
                1,
                ["healthcare"],
                1,
                ["protected"],
                1,
                ["match", ["get", "category"], ["stadium"], 1, 0]
              ]
            ]
          ],
          ["get", "priority"],
          ["*", 0.01, ["length", ["get", "name"]]]
        ],
        "symbol-z-order": "auto",
        "visibility": "visible"
      },
      "paint": {
        "icon-opacity": ["interpolate", ["linear"], ["zoom"], 15.5, 0, 16, 1]
      }
    },
    {
      "id": "POI",
      "type": "symbol",
      "metadata": {"group": "POI"},
      "source": "vectorTiles",
      "source-layer": "poi",
      "minzoom": 6,
      "filter": [
        "all",
        ["<=", ["get", "priority"], 316],
        [
          "any",
          ["has", "name"],
          ["match", ["get", "group"], ["parking", "transport"], true, false]
        ],
        ["match", ["get", "group"], [""], false, true],
        [
          "match",
          ["get", "category"],
          ["public_transport_platform"],
          false,
          true
        ],
        [
          "<=",
          [
            "+",
            ["get", "display_class"],
            [
              "match",
              ["get", "group"],
              ["parking"],
              ["to-number", "1"],
              ["driving"],
              ["to-number", "1"],
              ["sport"],
              1,
              ["healthcare"],
              1,
              ["protected"],
              1,
              ["match", ["get", "category"], ["stadium"], 1, 0]
            ]
          ],
          ["-", ["zoom"], -1]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "icon-image": [
          "match",
          ["get", "category"],
          ["railway_station", "public_transport_station"],
          [
            "match",
            ["get", "modality"],
            ["bus"],
            "poi-public_transport_station-bus",
            ["ferry"],
            "poi-public_transport_station-ferry",
            ["rail"],
            "poi-public_transport_station-rail",
            ["subway"],
            "poi-public_transport_station-subway",
            ["tram"],
            "poi-public_transport_station-tram",
            ["concat", "poi-", ["get", "category"]]
          ],
          ["concat", "poi-", ["get", "category"]]
        ],
        "icon-optional": false,
        "icon-padding": [
          "interpolate",
          ["linear"],
          ["zoom"],
          12,
          5,
          14,
          10,
          16,
          20,
          18,
          5
        ],
        "icon-size": ["interpolate", ["linear"], ["zoom"], 10, 0.5, 18, 1],
        "symbol-avoid-edges": true,
        "symbol-placement": "point",
        "symbol-sort-key": [
          "+",
          [
            "*",
            1000,
            [
              "+",
              ["get", "display_class"],
              [
                "match",
                ["get", "group"],
                ["parking"],
                ["to-number", "1"],
                ["driving"],
                ["to-number", "1"],
                ["sport"],
                1,
                ["healthcare"],
                1,
                ["protected"],
                1,
                ["match", ["get", "category"], ["stadium"], 1, 0]
              ]
            ]
          ],
          ["get", "priority"],
          ["*", 0.01, ["length", ["get", "name"]]]
        ],
        "symbol-z-order": "auto",
        "text-field": "{name}",
        "text-font": ["Noto-Medium"],
        "text-justify": "auto",
        "text-letter-spacing": 0.1,
        "text-line-height": 1.2,
        "text-optional": ["step", ["zoom"], true, 13, false],
        "text-radial-offset": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10,
          0.5,
          18,
          [
            "match",
            ["get", "category"],
            "public_transport_platform",
            0.9099999999999999,
            "transport_access",
            0.9099999999999999,
            "public_transport_stop",
            0.5850000000000001,
            1.3
          ]
        ],
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          10,
          ["/", 13.5, ["log10", ["max", ["length", ["get", "name"]], 30]]],
          18,
          [
            "match",
            ["get", "category"],
            "public_transport_stop",
            8.1,
            ["/", 18, ["log10", ["max", ["length", ["get", "name"]], 30]]]
          ]
        ],
        "text-variable-anchor": ["top", "left", "bottom", "right"]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "group"],
          ["public", "religion", "military"],
          "hsl(326, 8%, 47%)",
          ["outdoor", "protected", "sport"],
          "hsl(166, 42%, 32%)",
          ["business"],
          "hsl(236, 11%, 50%)",
          ["cultural", "leisure"],
          "hsl(323, 46%, 53%)",
          ["eat_and_drink"],
          "hsl(25, 52%, 45%)",
          ["education"],
          "hsl(34, 11%, 53%)",
          ["healthcare"],
          "hsl(5, 44%, 48%)",
          ["lodging"],
          "hsl(246, 32%, 53%)",
          ["parking"],
          "hsl(203, 60%, 45%)",
          ["finance", "shopping"],
          "hsl(291, 30%, 48%)",
          ["driving", "transport"],
          [
            "match",
            ["get", "category"],
            ["charging_location"],
            "hsl(152, 55%, 28%)",
            "hsl(207, 38%, 37%)"
          ],
          "hsl(210, 1%, 46%)"
        ],
        "text-halo-color": "hsl(0, 0%, 100%)",
        "text-halo-width": 1
      }
    },
    {
      "id": "Places - Village / Hamlet",
      "type": "symbol",
      "metadata": {"group": "places_label"},
      "source": "vectorTiles",
      "source-layer": "places",
      "minzoom": 10,
      "maxzoom": 17,
      "filter": [
        "all",
        ["!=", ["has", "name"], false],
        ["==", ["get", "category"], "settlement"],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        [
          "step",
          ["zoom"],
          ["match", ["get", "subcategory"], ["village"], true, false],
          11,
          ["match", ["get", "subcategory"], ["village", "hamlet"], true, false]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-placement": "point",
        "symbol-sort-key": [
          "+",
          ["length", ["get", "name"]],
          ["*", ["coalesce", ["get", "display_class"], 12], 100],
          ["*", ["match", ["get", "subcategory"], "hamlet", 2, 1], 10]
        ],
        "text-field": "{name}",
        "text-font": ["Noto-Regular"],
        "text-padding": 10,
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          8,
          ["match", ["get", "subcategory"], "hamlet", 9, 10],
          15,
          ["match", ["get", "subcategory"], "hamlet", 13, 15]
        ],
        "text-transform": [
          "match",
          ["get", "subcategory"],
          "hamlet",
          "none",
          "none"
        ]
      },
      "paint": {
        "text-color": "hsl(0, 0%, 38%)",
        "text-halo-color": "hsla(0, 0%, 100%, 0.8)",
        "text-halo-width": 1
      }
    },
    {
      "id": "Places - Neighbourhood",
      "type": "symbol",
      "metadata": {"group": "places_label"},
      "source": "vectorTiles",
      "source-layer": "places",
      "minzoom": 10,
      "maxzoom": 17,
      "filter": [
        "all",
        ["!=", ["has", "name"], false],
        [
          "any",
          ["==", ["get", "category"], "settlement_division"],
          [">=", ["get", "admin_class"], 9]
        ],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-placement": "point",
        "symbol-sort-key": [
          "+",
          ["length", ["get", "name"]],
          ["*", ["coalesce", ["get", "display_class"], 12], 100]
        ],
        "text-field": "{name}",
        "text-font": ["Noto-Regular"],
        "text-letter-spacing": 0.05,
        "text-padding": 8,
        "text-size": ["interpolate", ["linear"], ["zoom"], 8, 10, 15, 15],
        "text-transform": "uppercase"
      },
      "paint": {
        "text-color": "hsl(0, 0%, 34%)",
        "text-halo-color": "hsl(0, 0%, 100%)",
        "text-halo-width": 1
      }
    },
    {
      "id": "Places - Town",
      "type": "symbol",
      "metadata": {"group": "places_label"},
      "source": "vectorTiles",
      "source-layer": "places",
      "minzoom": 7,
      "maxzoom": 16,
      "filter": [
        "all",
        ["!=", ["has", "name"], false],
        ["==", ["get", "category"], "settlement"],
        ["match", ["get", "subcategory"], ["city", "town"], true, false],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        [">", ["get", "display_class"], 8],
        [
          "step",
          ["zoom"],
          [
            "any",
            [
              "all",
              ["<=", ["get", "admin_class"], 8],
              ["<=", ["get", "display_class"], 10]
            ],
            ["<=", ["get", "display_class"], 9]
          ],
          8,
          ["<=", ["get", "display_class"], 10],
          9,
          ["<=", ["get", "display_class"], 12]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "icon-image": [
          "step",
          ["zoom"],
          ["match", ["get", "icon"], "town", "cityPopRank4", "cityPopRank4"],
          8,
          ""
        ],
        "icon-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          3,
          0.6666666666666666,
          8,
          1
        ],
        "symbol-placement": "point",
        "symbol-sort-key": [
          "+",
          ["length", ["get", "name"]],
          ["*", ["coalesce", ["get", "display_class"], 12], 100],
          ["*", ["coalesce", ["get", "admin_class"], 9], 10]
        ],
        "text-field": "{name}",
        "text-font": ["Noto-Regular"],
        "text-justify": "auto",
        "text-padding": 5,
        "text-size": ["interpolate", ["linear"], ["zoom"], 8, 12, 15, 19],
        "text-radial-offset": ["step", ["zoom"], 0.55, 8, 0],
        "text-anchor": "bottom"
      },
      "paint": {
        "text-color": "hsl(0, 0%, 30%)",
        "text-halo-color": "hsla(0, 0%, 100%, 0.8)",
        "text-halo-width": 1
      }
    },
    {
      "id": "Places - City",
      "type": "symbol",
      "metadata": {"group": "places_label"},
      "source": "vectorTiles",
      "source-layer": "places",
      "minzoom": 3,
      "maxzoom": 15,
      "filter": [
        "all",
        ["!=", ["has", "name"], false],
        ["==", ["get", "category"], "settlement"],
        ["match", ["get", "subcategory"], ["city", "town"], true, false],
        ["!=", ["get", "admin_class"], 2],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        [
          "step",
          ["zoom"],
          [
            "any",
            ["<=", ["get", "display_class"], 3],
            [
              "all",
              ["<=", ["get", "admin_class"], 4],
              ["<=", ["get", "display_class"], 5]
            ]
          ],
          5,
          [
            "any",
            ["<=", ["get", "display_class"], 3],
            [
              "all",
              ["<=", ["get", "admin_class"], 4],
              ["<=", ["get", "display_class"], 8]
            ],
            [
              "all",
              ["<=", ["get", "admin_class"], 6],
              ["<=", ["get", "display_class"], 6]
            ]
          ],
          6,
          [
            "any",
            ["<=", ["get", "display_class"], 5],
            [
              "all",
              ["<=", ["get", "admin_class"], 8],
              ["<=", ["get", "display_class"], 8]
            ]
          ]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "icon-image": [
          "step",
          ["zoom"],
          [
            "match",
            ["get", "icon"],
            "city_large",
            "cityPopRank1",
            "city_medium",
            "cityPopRank2",
            "city_small",
            "cityPopRank3",
            "cityPopRank4"
          ],
          8,
          ""
        ],
        "icon-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          3,
          0.6666666666666666,
          8,
          1
        ],
        "symbol-placement": "point",
        "symbol-sort-key": [
          "+",
          ["length", ["get", "name"]],
          ["*", ["coalesce", ["get", "display_class"], 8], 100],
          ["*", ["coalesce", ["get", "admin_class"], 8], 10]
        ],
        "text-anchor": "bottom",
        "text-field": "{name}",
        "text-font": [
          "step",
          ["zoom"],
          ["literal", ["Noto-Regular"]],
          5,
          ["literal", ["Noto-Medium"]]
        ],
        "text-justify": "auto",
        "text-letter-spacing": 0.05,
        "text-padding": 5,
        "text-radial-offset": [
          "step",
          ["zoom"],
          [
            "match",
            ["get", "icon"],
            "city_large",
            0.65,
            "city_medium",
            0.6,
            "city_small",
            0.55,
            0.55
          ],
          8,
          0
        ],
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          3,
          [
            "match",
            ["get", "icon"],
            "city_large",
            12,
            "city_medium",
            11,
            "city_small",
            10,
            10
          ],
          8,
          [
            "match",
            ["get", "icon"],
            "city_large",
            18,
            "city_medium",
            16,
            "city_small",
            14,
            14
          ],
          15,
          [
            "match",
            ["get", "icon"],
            "city_large",
            25,
            "city_medium",
            23,
            "city_small",
            21,
            21
          ]
        ]
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "icon"],
          "city_large",
          "hsl(0, 0%, 19%)",
          "city_medium",
          "hsl(0, 0%, 23%)",
          "city_small",
          "hsl(0, 0%, 26%)",
          "hsl(0, 0%, 19%)"
        ],
        "text-halo-color": "hsla(0, 0%, 100%, 0.8)",
        "text-halo-width": 1.5,
        "icon-color": "#000000"
      }
    },
    {
      "id": "Places - Label point",
      "type": "symbol",
      "metadata": {"group": "places_label"},
      "source": "vectorTiles",
      "source-layer": "places",
      "filter": [
        "all",
        ["==", ["has", "name"], true],
        ["==", ["get", "category"], "label_point"],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-placement": "point",
        "text-field": "{name}",
        "text-font": ["Noto-Regular"],
        "text-letter-spacing": 0.1,
        "text-max-width": 6,
        "text-padding": 2,
        "text-size": ["interpolate", ["linear"], ["zoom"], 3, 8, 4, 10, 8, 14],
        "text-anchor": "center"
      },
      "paint": {
        "text-color": "hsl(45, 0%, 46%)",
        "text-halo-color": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          "hsla(0, 0%, 100%, 0.5)",
          4,
          "hsl(0, 0%, 100%)"
        ],
        "text-halo-width": 1
      }
    },
    {
      "id": "Places - State name",
      "type": "symbol",
      "metadata": {"group": "places_label"},
      "source": "vectorTiles",
      "source-layer": "places",
      "minzoom": 3,
      "maxzoom": 14,
      "filter": [
        "all",
        ["!=", ["has", "name"], false],
        ["==", ["get", "category"], "admin_division"],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        [
          "step",
          ["zoom"],
          [
            "match",
            ["get", "country_code"],
            ["USA", "CAN", "BRA", "AUS"],
            true,
            false
          ],
          6,
          ["match", ["get", "subcategory"], ["state", "province"], true, false]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-placement": "point",
        "text-field": [
          "step",
          ["zoom"],
          ["get", "state_code"],
          4,
          ["get", "name"]
        ],
        "text-font": ["Noto-Regular"],
        "text-letter-spacing": 0.1,
        "text-padding": 2,
        "text-size": ["interpolate", ["linear"], ["zoom"], 3, 8, 4, 10, 8, 14],
        "text-transform": "uppercase",
        "text-max-width": 6
      },
      "paint": {
        "text-color": "hsl(45, 11%, 55%)",
        "text-halo-blur": 1,
        "text-halo-color": "hsl(0, 0%, 100%)",
        "text-halo-width": 1
      }
    },
    {
      "id": "Places - Capital",
      "type": "symbol",
      "metadata": {"group": "places_label"},
      "source": "vectorTiles",
      "source-layer": "places",
      "minzoom": 3,
      "maxzoom": 15,
      "filter": [
        "all",
        ["!=", ["has", "name"], false],
        ["==", ["get", "category"], "settlement"],
        ["==", ["get", "admin_class"], 2],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        [
          "step",
          ["zoom"],
          ["<=", ["get", "display_class"], 7],
          4,
          ["<=", ["get", "display_class"], 12]
        ]
      ],
      "layout": {
        "visibility": "visible",
        "icon-image": ["step", ["zoom"], "capitalPopRank0", 8, ""],
        "icon-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          3,
          0.6666666666666666,
          8,
          1
        ],
        "symbol-placement": "point",
        "symbol-sort-key": [
          "+",
          ["length", ["get", "name"]],
          ["*", ["coalesce", ["get", "display_class"], 2], 100]
        ],
        "text-variable-anchor": ["top", "bottom"],
        "text-field": "{name}",
        "text-font": ["Noto-Bold"],
        "text-justify": "auto",
        "text-letter-spacing": 0.05,
        "text-radial-offset": ["step", ["zoom"], 0.6, 8, 0],
        "text-size": ["interpolate", ["linear"], ["zoom"], 3, 12, 8, 18, 15, 25]
      },
      "paint": {
        "text-color": "hsl(0, 0%, 15%)",
        "text-halo-color": "hsla(0, 0%, 100%, 0.8)",
        "text-halo-width": 2
      }
    },
    {
      "id": "Places - Country name",
      "type": "symbol",
      "metadata": {"group": "places_label"},
      "source": "vectorTiles",
      "source-layer": "places",
      "minzoom": 2,
      "maxzoom": 13,
      "filter": [
        "all",
        ["!=", ["has", "name"], false],
        ["==", ["get", "category"], "country"],
        [">=", ["zoom"], ["coalesce", ["get", "minzoom"], 0]],
        ["<=", ["zoom"], ["coalesce", ["get", "maxzoom"], 22]],
        ["<=", ["get", "display_class"], ["-", ["zoom"], 0]],
        [">=", ["+", 6, ["get", "display_class"]], ["-", ["zoom"], 0]]
      ],
      "layout": {
        "visibility": "visible",
        "symbol-placement": "point",
        "symbol-sort-key": [
          "+",
          ["length", ["get", "name"]],
          ["*", ["get", "display_class"], 100]
        ],
        "text-field": "{name}",
        "text-font": ["Noto-Medium"],
        "text-letter-spacing": 0.1,
        "text-max-width": 8,
        "text-padding": 2,
        "text-size": [
          "interpolate",
          ["linear"],
          ["zoom"],
          2,
          10,
          4,
          ["-", 16, ["get", "display_class"]],
          6,
          ["-", 20, ["get", "display_class"]],
          8,
          24
        ],
        "text-transform": [
          "match",
          ["get", "country_code"],
          "GEO",
          "none",
          "uppercase"
        ]
      },
      "paint": {
        "text-color": "hsl(45, 21%, 30%)",
        "text-halo-color": "hsl(0, 0%, 100%)",
        "text-halo-width": ["interpolate", ["linear"], ["zoom"], 2, 0.5, 6, 1]
      }
    },
    {
      "id": "TrafficIncidents - No delay marker",
      "type": "symbol",
      "metadata": {"group": "incidents_marker"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident points",
      "minzoom": 15,
      "filter": [
        "all",
        ["in", "point_type", "start_point", "standalone_point"],
        ["!=", "icon_category_0", 8]
      ],
      "layout": {
        "visibility": "none",
        "icon-anchor": "center",
        "icon-image": [
          "match",
          ["concat", ["get", "icon_category_0"], ["get", "magnitude_of_delay"]],
          "00",
          "traffic_no_delay_info",
          "01",
          "traffic_slow_info",
          "02",
          "traffic_queueing_info",
          "03",
          "traffic_stationary_info",
          "04",
          "traffic_no_delay_info",
          "10",
          "traffic_no_delay_accident",
          "11",
          "traffic_slow_accident",
          "12",
          "traffic_queueing_accident",
          "13",
          "traffic_stationary_accident",
          "14",
          "traffic_no_delay_accident",
          "20",
          "traffic_no_delay_weather_fog",
          "21",
          "traffic_slow_weather_fog",
          "22",
          "traffic_queueing_weather_fog",
          "23",
          "traffic_stationary_weather_fog",
          "24",
          "traffic_no_delay_weather_fog",
          "30",
          "traffic_no_delay_danger",
          "31",
          "traffic_slow_danger",
          "32",
          "traffic_queueing_danger",
          "33",
          "traffic_stationary_danger",
          "34",
          "traffic_no_delay_danger",
          "40",
          "traffic_no_delay_weather_rain",
          "41",
          "traffic_slow_weather_rain",
          "42",
          "traffic_queueing_weather_rain",
          "43",
          "traffic_stationary_weather_rain",
          "44",
          "traffic_no_delay_weather_rain",
          "50",
          "traffic_no_delay_weather_frost",
          "51",
          "traffic_slow_weather_frost",
          "52",
          "traffic_queueing_weather_frost",
          "53",
          "traffic_stationary_weather_frost",
          "54",
          "traffic_no_delay_weather_frost",
          "70",
          "traffic_no_delay_lane_closed",
          "71",
          "traffic_slow_lane_closed",
          "72",
          "traffic_queueing_lane_closed",
          "73",
          "traffic_stationary_lane_closed",
          "74",
          "traffic_no_delay_lane_closed",
          "90",
          "traffic_no_delay_roadworks",
          "91",
          "traffic_slow_roadworks",
          "92",
          "traffic_queueing_roadworks",
          "93",
          "traffic_stationary_roadworks",
          "94",
          "traffic_no_delay_roadworks",
          "100",
          "traffic_no_delay_weather_wind",
          "101",
          "traffic_slow_weather_wind",
          "102",
          "traffic_queueing_weather_wind",
          "103",
          "traffic_stationary_weather_wind",
          "104",
          "traffic_no_delay_weather_wind",
          "110",
          "traffic_no_delay_flooding",
          "111",
          "traffic_slow_flooding",
          "112",
          "traffic_queueing_flooding",
          "113",
          "traffic_stationary_flooding",
          "114",
          "traffic_no_delay_flooding",
          "120",
          "traffic_no_delay_jam",
          "121",
          "traffic_slow_jam",
          "122",
          "traffic_queueing_jam",
          "123",
          "traffic_stationary_jam",
          "124",
          "traffic_no_delay_jam",
          "140",
          "traffic_no_delay_stationary_vehicle",
          "141",
          "traffic_slow_stationary_vehicle",
          "142",
          "traffic_queueing_stationary_vehicle",
          "143",
          "traffic_stationary_stationary_vehicle",
          "144",
          "traffic_no_delay_stationary_vehicle",
          "traffic_no_delay_jam"
        ],
        "symbol-avoid-edges": true,
        "symbol-placement": "point",
        "icon-offset": [
          "step",
          ["zoom"],
          ["literal", [0, -15.399999999999999]],
          16,
          ["literal", [0, -17.6]],
          18,
          ["literal", [0, -22]]
        ],
        "icon-size": ["step", ["zoom"], 0.7, 16, 0.8, 18, 1]
      }
    },
    {
      "id": "TrafficIncidents - Minor jam marker",
      "type": "symbol",
      "metadata": {"group": "incidents_marker"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident points",
      "minzoom": 14,
      "filter": [
        "all",
        ["==", "icon_category_0", 6],
        ["in", "point_type", "start_point", "standalone_point"],
        ["==", "magnitude_of_delay", 1]
      ],
      "layout": {
        "visibility": "none",
        "icon-allow-overlap": true,
        "icon-anchor": "center",
        "icon-image": "traffic_slow_bg_base",
        "icon-offset": [
          "step",
          ["zoom"],
          ["literal", [0, -15.399999999999999]],
          16,
          ["literal", [0, -17.6]],
          18,
          ["literal", [0, -22]]
        ],
        "icon-size": ["step", ["zoom"], 0.7, 16, 0.8, 18, 1],
        "symbol-avoid-edges": true,
        "symbol-placement": "point",
        "text-anchor": "center",
        "text-field": [
          "concat",
          ["max", 1, ["round", ["/", ["get", "delay"], 60]]],
          "'"
        ],
        "text-font": ["Noto-Bold"],
        "text-offset": [
          "step",
          ["zoom"],
          ["literal", [0.05, -0.8049999999999999]],
          16,
          ["literal", [0.05, -0.9199999999999999]],
          18,
          ["literal", [0.05, -1.15]]
        ],
        "text-size": ["step", ["zoom"], 14.7, 16, 16.8, 18, 21]
      },
      "paint": {
        "text-color": "hsl(0, 0%, 100%)",
        "text-halo-color": "hsl(45, 100%, 51%)",
        "text-halo-width": 1
      }
    },
    {
      "id": "TrafficIncidents - Moderate jam marker",
      "type": "symbol",
      "metadata": {"group": "incidents_marker"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident points",
      "minzoom": 14,
      "filter": [
        "all",
        ["==", "icon_category_0", 6],
        ["in", "point_type", "start_point", "standalone_point"],
        ["==", "magnitude_of_delay", 2]
      ],
      "layout": {
        "visibility": "none",
        "icon-allow-overlap": true,
        "icon-anchor": "center",
        "icon-image": "traffic_queueing_bg_base",
        "icon-offset": [
          "step",
          ["zoom"],
          ["literal", [0, -15.399999999999999]],
          16,
          ["literal", [0, -17.6]],
          18,
          ["literal", [0, -22]]
        ],
        "icon-size": ["step", ["zoom"], 0.7, 16, 0.8, 18, 1],
        "symbol-avoid-edges": true,
        "symbol-placement": "point",
        "text-anchor": "center",
        "text-field": [
          "concat",
          ["max", 1, ["round", ["/", ["get", "delay"], 60]]],
          "'"
        ],
        "text-font": ["Noto-Bold"],
        "text-offset": [
          "step",
          ["zoom"],
          ["literal", [0.05, -0.8049999999999999]],
          16,
          ["literal", [0.05, -0.9199999999999999]],
          18,
          ["literal", [0.05, -1.15]]
        ],
        "text-size": ["step", ["zoom"], 14.7, 16, 16.8, 18, 21]
      },
      "paint": {
        "text-color": "hsl(0, 0%, 100%)",
        "text-halo-color": "hsl(9, 97%, 51%)",
        "text-halo-width": 1
      }
    },
    {
      "id": "TrafficIncidents - Major jam marker",
      "type": "symbol",
      "metadata": {"group": "incidents_marker"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident points",
      "minzoom": 14,
      "filter": [
        "all",
        ["==", "icon_category_0", 6],
        ["in", "point_type", "start_point", "standalone_point"],
        ["==", "magnitude_of_delay", 3]
      ],
      "layout": {
        "visibility": "none",
        "icon-allow-overlap": true,
        "icon-anchor": "center",
        "icon-image": "traffic_stationary_bg_base",
        "icon-offset": [
          "step",
          ["zoom"],
          ["literal", [0, -15.399999999999999]],
          16,
          ["literal", [0, -17.6]],
          18,
          ["literal", [0, -22]]
        ],
        "icon-size": ["step", ["zoom"], 0.7, 16, 0.8, 18, 1],
        "symbol-avoid-edges": true,
        "symbol-placement": "point",
        "text-anchor": "center",
        "text-field": [
          "concat",
          ["max", 1, ["round", ["/", ["get", "delay"], 60]]],
          "'"
        ],
        "text-font": ["Noto-Bold"],
        "text-offset": [
          "step",
          ["zoom"],
          ["literal", [0.05, -0.8049999999999999]],
          16,
          ["literal", [0.05, -0.9199999999999999]],
          18,
          ["literal", [0.05, -1.15]]
        ],
        "text-size": ["step", ["zoom"], 14.7, 16, 16.8, 18, 21]
      },
      "paint": {
        "text-color": "hsl(0, 0%, 100%)",
        "text-halo-color": "hsl(0, 100%, 34%)",
        "text-halo-width": 1
      }
    },
    {
      "id": "TrafficIncidents - Closed road marker",
      "type": "symbol",
      "metadata": {"group": "incidents_marker"},
      "source": "vectorTilesIncidents",
      "source-layer": "Traffic incident points",
      "minzoom": 13,
      "filter": [
        "all",
        ["==", "icon_category_0", 8],
        ["in", "point_type", "start_point", "standalone_point"],
        ["==", "magnitude_of_delay", 4]
      ],
      "layout": {
        "visibility": "none",
        "icon-allow-overlap": true,
        "icon-anchor": "center",
        "icon-image": "traffic_road_closed",
        "symbol-avoid-edges": true,
        "symbol-placement": "point",
        "icon-offset": [
          "step",
          ["zoom"],
          ["literal", [0, -15.399999999999999]],
          16,
          ["literal", [0, -17.6]],
          18,
          ["literal", [0, -22]]
        ],
        "icon-size": ["step", ["zoom"], 0.7, 16, 0.8, 18, 1]
      }
    }
  ],
  "tomtom:sources": {
    "landmarks": {
      "type": "model3d",
      "minzoom": 15,
      "maxzoom": 15,
      "tiles": [
        "https://api.tomtom.com/maps/orbis/map-display/tile/3d/landmarks/{z}/{x}/{y}.glb?key={api-key}&apiVersion=1"
      ]
    }
  },
  "id": "6d3a44tjb"
}